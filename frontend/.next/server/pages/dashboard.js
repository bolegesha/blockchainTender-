/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/dashboard";
exports.ids = ["pages/dashboard"];
exports.modules = {

/***/ "(pages-dir-node)/./abi/TenderChain.json":
/*!******************************!*\
  !*** ./abi/TenderChain.json ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"TenderChain","sourceName":"contracts/TenderChain.sol","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"TenderCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"bidder","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"TenderCompleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"string","name":"title","type":"string"},{"indexed":false,"internalType":"uint256","name":"budget","type":"uint256"},{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":false,"internalType":"uint256","name":"expiresAt","type":"uint256"}],"name":"TenderCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"bidder","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"TenderTaken","type":"event"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"cancelTender","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"completeTender","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_title","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_budget","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"uint256","name":"_distance","type":"uint256"},{"internalType":"uint256","name":"_weight","type":"uint256"},{"internalType":"string","name":"_cargoType","type":"string"},{"internalType":"uint256","name":"_urgencyDays","type":"uint256"},{"internalType":"uint256","name":"_expirationMinutes","type":"uint256"}],"name":"createTender","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getActiveTenders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getTender","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"budget","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"distance","type":"uint256"},{"internalType":"uint256","name":"weight","type":"uint256"},{"internalType":"string","name":"cargoType","type":"string"},{"internalType":"uint256","name":"urgencyDays","type":"uint256"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"enum TenderChain.TenderStatus","name":"status","type":"uint8"},{"internalType":"uint256","name":"createdAt","type":"uint256"},{"internalType":"uint256","name":"expiresAt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"takeTender","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tenderCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tenders","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"budget","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"distance","type":"uint256"},{"internalType":"uint256","name":"weight","type":"uint256"},{"internalType":"string","name":"cargoType","type":"string"},{"internalType":"uint256","name":"urgencyDays","type":"uint256"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"enum TenderChain.TenderStatus","name":"status","type":"uint8"},{"internalType":"uint256","name":"createdAt","type":"uint256"},{"internalType":"uint256","name":"expiresAt","type":"uint256"}],"stateMutability":"view","type":"function"}],"bytecode":"0x60808060405234610016576110e8908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c80630585c25e14610d655780631f05877614610d475780632ac6c78514610ba45780633a74e07014610a8b578063465e1def146109e857806357577b83146108cd578063659abb55146107605763666b5f371461007457600080fd5b3461075b5761012036600319011261075b5760043567ffffffffffffffff811161075b576100a6903690600401610ff0565b60243567ffffffffffffffff811161075b576100c6903690600401610ff0565b9060c43567ffffffffffffffff811161075b576100e7903690600401610ff0565b90610104359080511561072257604435156106dd57426064351115610698576001549261011384611047565b600155603c830292808404603c149015171561068257824201421161068257604051946101c0860186811067ffffffffffffffff8211176104cc5760405284865282602087015260408601526044356060860152606435608086015260843560a086015260a43560c086015260e085015260e4356101008501523361012085015260006101408501526000610160850152426101808501528142016101a0850152826000526000602052604060002084518155602085015180519067ffffffffffffffff82116104cc5781906101ec6001850154610eee565b601f811161062f575b50602090601f83116001146105bd576000926105b2575b50508160011b916000199060031b1c19161760018201555b604085015180519067ffffffffffffffff82116104cc57819061024a6002850154610eee565b601f811161055f575b50602090601f83116001146104ed576000926104e2575b50508160011b916000199060031b1c19161760028201555b606085015160038201556080850151600482015560a0850151600582015560c0850151600682015560e085015180519067ffffffffffffffff82116104cc5781906102d06007850154610eee565b601f8111610479575b50602090601f831160011461040c57600092610401575b50508160011b916000199060031b1c19161760078201555b61010085015160088201556101208501516009820180546001600160a01b0319166001600160a01b03928316179055610140860151600a830180546101608901519195909490939092169060058110156103eb5760209888967f3dbf6374bde9016468d4624c62c547cf43ae524b88d2ea7e255480407db3758c96600c946101a09460ff60a01b9060a01b16916affffffffffffffffffffff60a81b1617179055610180810151600b85015501519101556103ce60405191606083526060830190610e13565b9360443587830152420160408201528033940390a3604051908152f35b634e487b7160e01b600052602160045260246000fd5b0151905038806102f0565b600785016000908152602081209350601f198516905b8181106104615750908460019594939210610448575b505050811b016007820155610308565b015160001960f88460031b161c19169055388080610438565b92936020600181928786015181550195019301610422565b909150600784016000526020600020601f840160051c8101602085106104c5575b90849392915b601f830160051c820181106104b65750506102d9565b600081558594506001016104a0565b508061049a565b634e487b7160e01b600052604160045260246000fd5b01519050388061026a565b9250600284016000526020600020906000935b601f1984168510610544576001945083601f1981161061052b575b505050811b016002820155610282565b015160001960f88460031b161c1916905538808061051b565b81810151835560209485019460019093019290910190610500565b909150600284016000526020600020601f840160051c8101602085106105ab575b90849392915b601f830160051c8201811061059c575050610253565b60008155859450600101610586565b5080610580565b01519050388061020c565b9250600184016000526020600020906000935b601f1984168510610614576001945083601f198116106105fb575b505050811b016001820155610224565b015160001960f88460031b161c191690553880806105eb565b818101518355602094850194600190930192909101906105d0565b909150600184016000526020600020601f840160051c81016020851061067b575b90849392915b601f830160051c8201811061066c5750506101f5565b60008155859450600101610656565b5080610650565b634e487b7160e01b600052601160045260246000fd5b60405162461bcd60e51b815260206004820152601e60248201527f446561646c696e65206d75737420626520696e207468652066757475726500006044820152606490fd5b60405162461bcd60e51b815260206004820152601d60248201527f427564676574206d7573742062652067726561746572207468616e20300000006044820152606490fd5b60405162461bcd60e51b8152602060048201526011602482015270151a5d1b19481a5cc81c995c5d5a5c9959607a1b6044820152606490fd5b600080fd5b3461075b5760208060031936011261075b5760043560008181528083526040902060098101546001600160a01b031661079a811515611056565b331461088857600a81019081549060ff8260a01c1660058110156103eb5761084e57600c0154421015610814576001600160a81b0319163360ff60a01b19811691909117600160a11b1790915560405142815290927f2d219e8fc54d0eaeb33a8ba01ccc277da4ac9011e9dd7e7b4a80a0258edc0a9b91a3005b60405162461bcd60e51b815260048101859052601260248201527115195b99195c881a185cc8195e1c1a5c995960721b6044820152606490fd5b60405162461bcd60e51b81526004810186905260126024820152712a32b73232b91034b9903737ba1037b832b760711b6044820152606490fd5b60405162461bcd60e51b815260048101849052601b60248201527f43616e6e6f742074616b6520796f7572206f776e2074656e64657200000000006044820152606490fd5b3461075b57602036600319011261075b576004356000818152602081905260409020600a018054336001600160a01b038216036109995760ff8160a01c1660058110156103eb5760020361095b5760ff60a01b1916600360a01b1790556040514281523391907fc17b163892115f1fb664bffa8733edbcb472908a5b8a8858085c2687729b982a90602090a3005b60405162461bcd60e51b815260206004820152601660248201527515195b99195c881b5d5cdd08189948185dd85c99195960521b6044820152606490fd5b60405162461bcd60e51b815260206004820152602160248201527f4f6e6c792061737369676e6564206269646465722063616e20636f6d706c65746044820152606560f81b6064820152608490fd5b3461075b57602036600319011261075b57600435600052600060205260406000208054610a87610a1a60018401610f4a565b92610a2760028201610f4a565b90600381015460048201546005830154906006840154610a4960078601610f4a565b60088601549160018060a01b03948560098901541694600a89015497600c600b8b01549a01549a6040519e8f9e8f9a60ff8d60a01c169c169a610e53565b0390f35b3461075b57602036600319011261075b57600435600081815260208190526040902060098101546001600160a01b03163303610b5f57600a01805460ff8160a01c1660058110156103eb57610b1a5760ff60a01b1916600160a21b1790556040514281523391907f121260d8e5a90e25b8efcafc18268061d5e0ba4b7b58b6a9db4a60048e3582bb90602090a3005b60405162461bcd60e51b815260206004820152601c60248201527f43616e206f6e6c792063616e63656c206f70656e2074656e64657273000000006044820152606490fd5b60405162461bcd60e51b815260206004820152601760248201527f4f6e6c792063726561746f722063616e2063616e63656c0000000000000000006044820152606490fd5b3461075b57600036600319011261075b57600180546000805b828110610cdb575082610be8610bd28361109a565b92610be06040519485610f28565b80845261109a565b6020838101949091601f19013686376000805b828210610c3d5750505060405192818401908285525180915260408401949160005b828110610c2a5785870386f35b8351875295810195928101928401610c1d565b816000979597969496526000865260ff600a6040600020015460a01c16600590818110156103eb571580610cc2575b610c88575b5090610c7c90611047565b90959395949294610bfb565b8451821015610cac57818388610c7c94610ca6941b88010152611047565b90610c71565b634e487b7160e01b600052603260045260246000fd5b508260005260008752600c604060002001544210610c6c565b8060005260206000815260ff600a6040600020015460a01c1660058110156103eb57159081610d2e575b50610d19575b610d1490611047565b610bbd565b90610d26610d1491611047565b919050610d0b565b6000915082825252600c60406000200154421085610d05565b3461075b57600036600319011261075b576020600154604051908152f35b3461075b57602036600319011261075b576004356000526000602052604060002060018060a01b03610a878160098401541691610da3831515611056565b835492600385015494600481015492600582015492600683015492600881015490600a81015494600b82015496600c83015498610de260018501610f4a565b9c610dfb6007610df460028801610f4a565b9601610f4a565b946040519e8f9e8f9a60ff8d60a01c169c169a610e53565b919082519283825260005b848110610e3f575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610e1e565b9a97949192989e9d9c9998610e80610eb098959794610e8e938e528d6101c0908160208201520190610e13565b8c810360408e015290610e13565b9460608b015260808a015260a089015260c088015286820360e0880152610e13565b6101008501989098526001600160a01b039182166101208501521661014083015260058310156103eb576101a0926101608301526101808201520152565b90600182811c92168015610f1e575b6020831014610f0857565b634e487b7160e01b600052602260045260246000fd5b91607f1691610efd565b90601f8019910116810190811067ffffffffffffffff8211176104cc57604052565b9060405191826000825492610f5e84610eee565b908184526001948581169081600014610fcd5750600114610f8a575b5050610f8892500383610f28565b565b9093915060005260209081600020936000915b818310610fb5575050610f8893508201013880610f7a565b85548884018501529485019487945091830191610f9d565b915050610f8894506020925060ff191682840152151560051b8201013880610f7a565b81601f8201121561075b5780359067ffffffffffffffff82116104cc5760405192611025601f8401601f191660200185610f28565b8284526020838301011161075b57816000926020809301838601378301015290565b60001981146106825760010190565b1561105d57565b60405162461bcd60e51b815260206004820152601560248201527415195b99195c88191bd95cc81b9bdd08195e1a5cdd605a1b6044820152606490fd5b67ffffffffffffffff81116104cc5760051b6020019056fea264697066735822122032122b3ece22ffba9be8c5860bedcbc5384e2eb2b5372af268acdb52e59070c664736f6c63430008140033","deployedBytecode":"0x6080604052600436101561001257600080fd5b60003560e01c80630585c25e14610d655780631f05877614610d475780632ac6c78514610ba45780633a74e07014610a8b578063465e1def146109e857806357577b83146108cd578063659abb55146107605763666b5f371461007457600080fd5b3461075b5761012036600319011261075b5760043567ffffffffffffffff811161075b576100a6903690600401610ff0565b60243567ffffffffffffffff811161075b576100c6903690600401610ff0565b9060c43567ffffffffffffffff811161075b576100e7903690600401610ff0565b90610104359080511561072257604435156106dd57426064351115610698576001549261011384611047565b600155603c830292808404603c149015171561068257824201421161068257604051946101c0860186811067ffffffffffffffff8211176104cc5760405284865282602087015260408601526044356060860152606435608086015260843560a086015260a43560c086015260e085015260e4356101008501523361012085015260006101408501526000610160850152426101808501528142016101a0850152826000526000602052604060002084518155602085015180519067ffffffffffffffff82116104cc5781906101ec6001850154610eee565b601f811161062f575b50602090601f83116001146105bd576000926105b2575b50508160011b916000199060031b1c19161760018201555b604085015180519067ffffffffffffffff82116104cc57819061024a6002850154610eee565b601f811161055f575b50602090601f83116001146104ed576000926104e2575b50508160011b916000199060031b1c19161760028201555b606085015160038201556080850151600482015560a0850151600582015560c0850151600682015560e085015180519067ffffffffffffffff82116104cc5781906102d06007850154610eee565b601f8111610479575b50602090601f831160011461040c57600092610401575b50508160011b916000199060031b1c19161760078201555b61010085015160088201556101208501516009820180546001600160a01b0319166001600160a01b03928316179055610140860151600a830180546101608901519195909490939092169060058110156103eb5760209888967f3dbf6374bde9016468d4624c62c547cf43ae524b88d2ea7e255480407db3758c96600c946101a09460ff60a01b9060a01b16916affffffffffffffffffffff60a81b1617179055610180810151600b85015501519101556103ce60405191606083526060830190610e13565b9360443587830152420160408201528033940390a3604051908152f35b634e487b7160e01b600052602160045260246000fd5b0151905038806102f0565b600785016000908152602081209350601f198516905b8181106104615750908460019594939210610448575b505050811b016007820155610308565b015160001960f88460031b161c19169055388080610438565b92936020600181928786015181550195019301610422565b909150600784016000526020600020601f840160051c8101602085106104c5575b90849392915b601f830160051c820181106104b65750506102d9565b600081558594506001016104a0565b508061049a565b634e487b7160e01b600052604160045260246000fd5b01519050388061026a565b9250600284016000526020600020906000935b601f1984168510610544576001945083601f1981161061052b575b505050811b016002820155610282565b015160001960f88460031b161c1916905538808061051b565b81810151835560209485019460019093019290910190610500565b909150600284016000526020600020601f840160051c8101602085106105ab575b90849392915b601f830160051c8201811061059c575050610253565b60008155859450600101610586565b5080610580565b01519050388061020c565b9250600184016000526020600020906000935b601f1984168510610614576001945083601f198116106105fb575b505050811b016001820155610224565b015160001960f88460031b161c191690553880806105eb565b818101518355602094850194600190930192909101906105d0565b909150600184016000526020600020601f840160051c81016020851061067b575b90849392915b601f830160051c8201811061066c5750506101f5565b60008155859450600101610656565b5080610650565b634e487b7160e01b600052601160045260246000fd5b60405162461bcd60e51b815260206004820152601e60248201527f446561646c696e65206d75737420626520696e207468652066757475726500006044820152606490fd5b60405162461bcd60e51b815260206004820152601d60248201527f427564676574206d7573742062652067726561746572207468616e20300000006044820152606490fd5b60405162461bcd60e51b8152602060048201526011602482015270151a5d1b19481a5cc81c995c5d5a5c9959607a1b6044820152606490fd5b600080fd5b3461075b5760208060031936011261075b5760043560008181528083526040902060098101546001600160a01b031661079a811515611056565b331461088857600a81019081549060ff8260a01c1660058110156103eb5761084e57600c0154421015610814576001600160a81b0319163360ff60a01b19811691909117600160a11b1790915560405142815290927f2d219e8fc54d0eaeb33a8ba01ccc277da4ac9011e9dd7e7b4a80a0258edc0a9b91a3005b60405162461bcd60e51b815260048101859052601260248201527115195b99195c881a185cc8195e1c1a5c995960721b6044820152606490fd5b60405162461bcd60e51b81526004810186905260126024820152712a32b73232b91034b9903737ba1037b832b760711b6044820152606490fd5b60405162461bcd60e51b815260048101849052601b60248201527f43616e6e6f742074616b6520796f7572206f776e2074656e64657200000000006044820152606490fd5b3461075b57602036600319011261075b576004356000818152602081905260409020600a018054336001600160a01b038216036109995760ff8160a01c1660058110156103eb5760020361095b5760ff60a01b1916600360a01b1790556040514281523391907fc17b163892115f1fb664bffa8733edbcb472908a5b8a8858085c2687729b982a90602090a3005b60405162461bcd60e51b815260206004820152601660248201527515195b99195c881b5d5cdd08189948185dd85c99195960521b6044820152606490fd5b60405162461bcd60e51b815260206004820152602160248201527f4f6e6c792061737369676e6564206269646465722063616e20636f6d706c65746044820152606560f81b6064820152608490fd5b3461075b57602036600319011261075b57600435600052600060205260406000208054610a87610a1a60018401610f4a565b92610a2760028201610f4a565b90600381015460048201546005830154906006840154610a4960078601610f4a565b60088601549160018060a01b03948560098901541694600a89015497600c600b8b01549a01549a6040519e8f9e8f9a60ff8d60a01c169c169a610e53565b0390f35b3461075b57602036600319011261075b57600435600081815260208190526040902060098101546001600160a01b03163303610b5f57600a01805460ff8160a01c1660058110156103eb57610b1a5760ff60a01b1916600160a21b1790556040514281523391907f121260d8e5a90e25b8efcafc18268061d5e0ba4b7b58b6a9db4a60048e3582bb90602090a3005b60405162461bcd60e51b815260206004820152601c60248201527f43616e206f6e6c792063616e63656c206f70656e2074656e64657273000000006044820152606490fd5b60405162461bcd60e51b815260206004820152601760248201527f4f6e6c792063726561746f722063616e2063616e63656c0000000000000000006044820152606490fd5b3461075b57600036600319011261075b57600180546000805b828110610cdb575082610be8610bd28361109a565b92610be06040519485610f28565b80845261109a565b6020838101949091601f19013686376000805b828210610c3d5750505060405192818401908285525180915260408401949160005b828110610c2a5785870386f35b8351875295810195928101928401610c1d565b816000979597969496526000865260ff600a6040600020015460a01c16600590818110156103eb571580610cc2575b610c88575b5090610c7c90611047565b90959395949294610bfb565b8451821015610cac57818388610c7c94610ca6941b88010152611047565b90610c71565b634e487b7160e01b600052603260045260246000fd5b508260005260008752600c604060002001544210610c6c565b8060005260206000815260ff600a6040600020015460a01c1660058110156103eb57159081610d2e575b50610d19575b610d1490611047565b610bbd565b90610d26610d1491611047565b919050610d0b565b6000915082825252600c60406000200154421085610d05565b3461075b57600036600319011261075b576020600154604051908152f35b3461075b57602036600319011261075b576004356000526000602052604060002060018060a01b03610a878160098401541691610da3831515611056565b835492600385015494600481015492600582015492600683015492600881015490600a81015494600b82015496600c83015498610de260018501610f4a565b9c610dfb6007610df460028801610f4a565b9601610f4a565b946040519e8f9e8f9a60ff8d60a01c169c169a610e53565b919082519283825260005b848110610e3f575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610e1e565b9a97949192989e9d9c9998610e80610eb098959794610e8e938e528d6101c0908160208201520190610e13565b8c810360408e015290610e13565b9460608b015260808a015260a089015260c088015286820360e0880152610e13565b6101008501989098526001600160a01b039182166101208501521661014083015260058310156103eb576101a0926101608301526101808201520152565b90600182811c92168015610f1e575b6020831014610f0857565b634e487b7160e01b600052602260045260246000fd5b91607f1691610efd565b90601f8019910116810190811067ffffffffffffffff8211176104cc57604052565b9060405191826000825492610f5e84610eee565b908184526001948581169081600014610fcd5750600114610f8a575b5050610f8892500383610f28565b565b9093915060005260209081600020936000915b818310610fb5575050610f8893508201013880610f7a565b85548884018501529485019487945091830191610f9d565b915050610f8894506020925060ff191682840152151560051b8201013880610f7a565b81601f8201121561075b5780359067ffffffffffffffff82116104cc5760405192611025601f8401601f191660200185610f28565b8284526020838301011161075b57816000926020809301838601378301015290565b60001981146106825760010190565b1561105d57565b60405162461bcd60e51b815260206004820152601560248201527415195b99195c88191bd95cc81b9bdd08195e1a5cdd605a1b6044820152606490fd5b67ffffffffffffffff81116104cc5760051b6020019056fea264697066735822122032122b3ece22ffba9be8c5860bedcbc5384e2eb2b5372af268acdb52e59070c664736f6c63430008140033","linkReferences":{},"deployedLinkReferences":{}}');

/***/ }),

/***/ "(pages-dir-node)/./components/Navbar.tsx":
/*!*******************************!*\
  !*** ./components/Navbar.tsx ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Navbar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(pages-dir-node)/./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useWeb3 */ \"(pages-dir-node)/./hooks/useWeb3.ts\");\n/* harmony import */ var _NetworkSelector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NetworkSelector */ \"(pages-dir-node)/./components/NetworkSelector.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__, _NetworkSelector__WEBPACK_IMPORTED_MODULE_3__]);\n([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__, _NetworkSelector__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction Navbar() {\n    const { account, connectWallet, isConnecting } = (0,_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__.useWeb3)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n        className: \"bg-white shadow-lg\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between h-16\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 flex items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/\",\n                                    className: \"text-xl font-bold text-gray-800\",\n                                    children: \"TenderChain\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                    lineNumber: 14,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 13,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hidden sm:ml-6 sm:flex sm:space-x-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                        href: \"/\",\n                                        className: \"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 border-b-2 border-transparent hover:border-gray-300\",\n                                        children: \"Главная\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                        lineNumber: 19,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                        href: \"/dashboard\",\n                                        className: \"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 border-b-2 border-transparent hover:border-gray-300\",\n                                        children: \"Кабинет\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                        lineNumber: 25,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 18,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                        lineNumber: 12,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_NetworkSelector__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 34,\n                                columnNumber: 13\n                            }, this),\n                            account ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm font-medium text-gray-900 bg-gray-100 rounded-full px-4 py-2\",\n                                children: [\n                                    account.substring(0, 6),\n                                    \"...\",\n                                    account.substring(account.length - 4)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 36,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: connectWallet,\n                                disabled: isConnecting,\n                                className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300\",\n                                children: isConnecting ? \"Подключение...\" : \"Подключить кошелек\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                lineNumber: 11,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvTmF2YmFyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE2QjtBQUNjO0FBQ0s7QUFFakMsU0FBU0c7SUFDdEIsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGFBQWEsRUFBRUMsWUFBWSxFQUFFLEdBQUdMLHVEQUFPQTtJQUV4RCxxQkFDRSw4REFBQ007UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0M7WUFBSUQsV0FBVTtzQkFDYiw0RUFBQ0M7Z0JBQUlELFdBQVU7O2tDQUNiLDhEQUFDQzt3QkFBSUQsV0FBVTs7MENBQ2IsOERBQUNDO2dDQUFJRCxXQUFVOzBDQUNiLDRFQUFDUixrREFBSUE7b0NBQUNVLE1BQUs7b0NBQUlGLFdBQVU7OENBQWtDOzs7Ozs7Ozs7OzswQ0FJN0QsOERBQUNDO2dDQUFJRCxXQUFVOztrREFDYiw4REFBQ1Isa0RBQUlBO3dDQUNIVSxNQUFLO3dDQUNMRixXQUFVO2tEQUNYOzs7Ozs7a0RBR0QsOERBQUNSLGtEQUFJQTt3Q0FDSFUsTUFBSzt3Q0FDTEYsV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQUtMLDhEQUFDQzt3QkFBSUQsV0FBVTs7MENBQ2IsOERBQUNOLHdEQUFlQTs7Ozs7NEJBQ2ZFLHdCQUNDLDhEQUFDSztnQ0FBSUQsV0FBVTs7b0NBQ1pKLFFBQVFPLFNBQVMsQ0FBQyxHQUFHO29DQUFHO29DQUFJUCxRQUFRTyxTQUFTLENBQUNQLFFBQVFRLE1BQU0sR0FBRzs7Ozs7O3FEQUdsRSw4REFBQ0M7Z0NBQ0NDLFNBQVNUO2dDQUNUVSxVQUFVVDtnQ0FDVkUsV0FBVTswQ0FFVEYsZUFBZSxtQkFBbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGRpeWFyYm9sZWdlbm92L3RlbmRlci9mcm9udGVuZC9jb21wb25lbnRzL05hdmJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IHVzZVdlYjMgfSBmcm9tICcuLi9ob29rcy91c2VXZWIzJztcbmltcG9ydCBOZXR3b3JrU2VsZWN0b3IgZnJvbSAnLi9OZXR3b3JrU2VsZWN0b3InO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBOYXZiYXIoKSB7XG4gIGNvbnN0IHsgYWNjb3VudCwgY29ubmVjdFdhbGxldCwgaXNDb25uZWN0aW5nIH0gPSB1c2VXZWIzKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8bmF2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1sZ1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGgtMTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICBUZW5kZXJDaGFpblxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuIHNtOm1sLTYgc206ZmxleCBzbTpzcGFjZS14LThcIj5cbiAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICBocmVmPVwiL1wiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTEgcHQtMSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgYm9yZGVyLWItMiBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgINCT0LvQsNCy0L3QsNGPXG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICBocmVmPVwiL2Rhc2hib2FyZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTEgcHQtMSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgYm9yZGVyLWItMiBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgINCa0LDQsdC40L3QtdGCXG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICA8TmV0d29ya1NlbGVjdG9yIC8+XG4gICAgICAgICAgICB7YWNjb3VudCA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgYmctZ3JheS0xMDAgcm91bmRlZC1mdWxsIHB4LTQgcHktMlwiPlxuICAgICAgICAgICAgICAgIHthY2NvdW50LnN1YnN0cmluZygwLCA2KX0uLi57YWNjb3VudC5zdWJzdHJpbmcoYWNjb3VudC5sZW5ndGggLSA0KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17Y29ubmVjdFdhbGxldH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDb25uZWN0aW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBweC00IHB5LTIgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtbWQgdGV4dC13aGl0ZSBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1ibHVlLTUwMCBkaXNhYmxlZDpiZy1ibHVlLTMwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNDb25uZWN0aW5nID8gXCLQn9C+0LTQutC70Y7Rh9C10L3QuNC1Li4uXCIgOiBcItCf0L7QtNC60LvRjtGH0LjRgtGMINC60L7RiNC10LvQtdC6XCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L25hdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiTGluayIsInVzZVdlYjMiLCJOZXR3b3JrU2VsZWN0b3IiLCJOYXZiYXIiLCJhY2NvdW50IiwiY29ubmVjdFdhbGxldCIsImlzQ29ubmVjdGluZyIsIm5hdiIsImNsYXNzTmFtZSIsImRpdiIsImhyZWYiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/Navbar.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./components/NetworkSelector.tsx":
/*!****************************************!*\
  !*** ./components/NetworkSelector.tsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NetworkSelector)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useContractTender */ \"(pages-dir-node)/./hooks/useContractTender.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__, react_hot_toast__WEBPACK_IMPORTED_MODULE_3__]);\n([_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__, react_hot_toast__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction NetworkSelector() {\n    const { addHardhatNetworkToMetaMask, forceContractInitialization, isContractAvailable, contractStatus } = (0,_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    const [isAdding, setIsAdding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleAddHardhatNetwork = async ()=>{\n        setIsAdding(true);\n        try {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.loading('Добавление сети Hardhat...', {\n                id: 'add-hardhat'\n            });\n            const success = await addHardhatNetworkToMetaMask();\n            if (success) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Сеть Hardhat успешно добавлена!', {\n                    id: 'add-hardhat'\n                });\n                // Try to reconnect to contract\n                const contractInitialized = await forceContractInitialization();\n                if (contractInitialized) {\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Подключение к контракту успешно!', {\n                        id: 'contract-init'\n                    });\n                } else {\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Не удалось подключиться к контракту', {\n                        id: 'contract-init'\n                    });\n                }\n            } else {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Не удалось добавить сеть Hardhat', {\n                    id: 'add-hardhat'\n                });\n            }\n        } catch (error) {\n            console.error('Error adding Hardhat network:', error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Ошибка при добавлении сети Hardhat', {\n                id: 'add-hardhat'\n            });\n        } finally{\n            setIsAdding(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: handleAddHardhatNetwork,\n            disabled: isAdding || isContractAvailable,\n            className: `flex items-center px-3 py-1.5 text-xs font-medium rounded-md ${isContractAvailable ? 'text-green-800 bg-green-100' : 'text-yellow-800 bg-yellow-100 hover:bg-yellow-200'} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50`,\n            children: isContractAvailable ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"h-2 w-2 rounded-full bg-green-500 mr-1.5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                        lineNumber: 48,\n                        columnNumber: 13\n                    }, this),\n                    \"Контракт доступен\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                lineNumber: 47,\n                columnNumber: 11\n            }, this) : isAdding ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-yellow-800\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                className: \"opacity-25\",\n                                cx: \"12\",\n                                cy: \"12\",\n                                r: \"10\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                                lineNumber: 54,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                className: \"opacity-75\",\n                                fill: \"currentColor\",\n                                d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                                lineNumber: 55,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 13\n                    }, this),\n                    \"Подключение...\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                lineNumber: 52,\n                columnNumber: 11\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"h-2 w-2 rounded-full bg-yellow-500 mr-1.5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                        lineNumber: 61,\n                        columnNumber: 13\n                    }, this),\n                    \"Подключить к Hardhat\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                lineNumber: 60,\n                columnNumber: 11\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n            lineNumber: 37,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n        lineNumber: 36,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvTmV0d29ya1NlbGVjdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFpQztBQUMwQjtBQUNuQjtBQUV6QixTQUFTRztJQUN0QixNQUFNLEVBQUVDLDJCQUEyQixFQUFFQywyQkFBMkIsRUFBRUMsbUJBQW1CLEVBQUVDLGNBQWMsRUFBRSxHQUFHTixvRUFBaUJBO0lBQzNILE1BQU0sQ0FBQ08sVUFBVUMsWUFBWSxHQUFHVCwrQ0FBUUEsQ0FBQztJQUV6QyxNQUFNVSwwQkFBMEI7UUFDOUJELFlBQVk7UUFDWixJQUFJO1lBQ0ZQLGtEQUFLQSxDQUFDUyxPQUFPLENBQUMsOEJBQThCO2dCQUFFQyxJQUFJO1lBQWM7WUFDaEUsTUFBTUMsVUFBVSxNQUFNVDtZQUV0QixJQUFJUyxTQUFTO2dCQUNYWCxrREFBS0EsQ0FBQ1csT0FBTyxDQUFDLG1DQUFtQztvQkFBRUQsSUFBSTtnQkFBYztnQkFDckUsK0JBQStCO2dCQUMvQixNQUFNRSxzQkFBc0IsTUFBTVQ7Z0JBQ2xDLElBQUlTLHFCQUFxQjtvQkFDdkJaLGtEQUFLQSxDQUFDVyxPQUFPLENBQUMsb0NBQW9DO3dCQUFFRCxJQUFJO29CQUFnQjtnQkFDMUUsT0FBTztvQkFDTFYsa0RBQUtBLENBQUNhLEtBQUssQ0FBQyx1Q0FBdUM7d0JBQUVILElBQUk7b0JBQWdCO2dCQUMzRTtZQUNGLE9BQU87Z0JBQ0xWLGtEQUFLQSxDQUFDYSxLQUFLLENBQUMsb0NBQW9DO29CQUFFSCxJQUFJO2dCQUFjO1lBQ3RFO1FBQ0YsRUFBRSxPQUFPRyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DYixrREFBS0EsQ0FBQ2EsS0FBSyxDQUFDLHNDQUFzQztnQkFBRUgsSUFBSTtZQUFjO1FBQ3hFLFNBQVU7WUFDUkgsWUFBWTtRQUNkO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ1E7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0M7WUFDQ0MsU0FBU1Y7WUFDVFcsVUFBVWIsWUFBWUY7WUFDdEJZLFdBQVcsQ0FBQyw2REFBNkQsRUFDdkVaLHNCQUNJLGdDQUNBLG9EQUNMLDhGQUE4RixDQUFDO3NCQUUvRkEsb0NBQ0MsOERBQUNnQjtnQkFBS0osV0FBVTs7a0NBQ2QsOERBQUNJO3dCQUFLSixXQUFVOzs7Ozs7b0JBQWtEOzs7Ozs7dUJBR2xFVix5QkFDRiw4REFBQ2M7Z0JBQUtKLFdBQVU7O2tDQUNkLDhEQUFDSzt3QkFBSUwsV0FBVTt3QkFBa0RNLE9BQU07d0JBQTZCQyxNQUFLO3dCQUFPQyxTQUFROzswQ0FDdEgsOERBQUNDO2dDQUFPVCxXQUFVO2dDQUFhVSxJQUFHO2dDQUFLQyxJQUFHO2dDQUFLQyxHQUFFO2dDQUFLQyxRQUFPO2dDQUFlQyxhQUFZOzs7Ozs7MENBQ3hGLDhEQUFDQztnQ0FBS2YsV0FBVTtnQ0FBYU8sTUFBSztnQ0FBZVMsR0FBRTs7Ozs7Ozs7Ozs7O29CQUMvQzs7Ozs7O3FDQUlSLDhEQUFDWjtnQkFBS0osV0FBVTs7a0NBQ2QsOERBQUNJO3dCQUFLSixXQUFVOzs7Ozs7b0JBQW1EOzs7Ozs7Ozs7Ozs7Ozs7OztBQU8vRSIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZGl5YXJib2xlZ2Vub3YvdGVuZGVyL2Zyb250ZW5kL2NvbXBvbmVudHMvTmV0d29ya1NlbGVjdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VDb250cmFjdFRlbmRlciBmcm9tICcuLi9ob29rcy91c2VDb250cmFjdFRlbmRlcic7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE5ldHdvcmtTZWxlY3RvcigpIHtcbiAgY29uc3QgeyBhZGRIYXJkaGF0TmV0d29ya1RvTWV0YU1hc2ssIGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbiwgaXNDb250cmFjdEF2YWlsYWJsZSwgY29udHJhY3RTdGF0dXMgfSA9IHVzZUNvbnRyYWN0VGVuZGVyKCk7XG4gIGNvbnN0IFtpc0FkZGluZywgc2V0SXNBZGRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGhhbmRsZUFkZEhhcmRoYXROZXR3b3JrID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzQWRkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICB0b2FzdC5sb2FkaW5nKCfQlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC10YLQuCBIYXJkaGF0Li4uJywgeyBpZDogJ2FkZC1oYXJkaGF0JyB9KTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBhZGRIYXJkaGF0TmV0d29ya1RvTWV0YU1hc2soKTtcbiAgICAgIFxuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgdG9hc3Quc3VjY2Vzcygn0KHQtdGC0YwgSGFyZGhhdCDRg9GB0L/QtdGI0L3QviDQtNC+0LHQsNCy0LvQtdC90LAhJywgeyBpZDogJ2FkZC1oYXJkaGF0JyB9KTtcbiAgICAgICAgLy8gVHJ5IHRvIHJlY29ubmVjdCB0byBjb250cmFjdFxuICAgICAgICBjb25zdCBjb250cmFjdEluaXRpYWxpemVkID0gYXdhaXQgZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uKCk7XG4gICAgICAgIGlmIChjb250cmFjdEluaXRpYWxpemVkKSB7XG4gICAgICAgICAgdG9hc3Quc3VjY2Vzcygn0J/QvtC00LrQu9GO0YfQtdC90LjQtSDQuiDQutC+0L3RgtGA0LDQutGC0YMg0YPRgdC/0LXRiNC90L4hJywgeyBpZDogJ2NvbnRyYWN0LWluaXQnIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvYXN0LmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyDQuiDQutC+0L3RgtGA0LDQutGC0YMnLCB7IGlkOiAnY29udHJhY3QtaW5pdCcgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC00L7QsdCw0LLQuNGC0Ywg0YHQtdGC0YwgSGFyZGhhdCcsIHsgaWQ6ICdhZGQtaGFyZGhhdCcgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBIYXJkaGF0IG5ldHdvcms6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0YHQtdGC0LggSGFyZGhhdCcsIHsgaWQ6ICdhZGQtaGFyZGhhdCcgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzQWRkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRIYXJkaGF0TmV0d29ya31cbiAgICAgICAgZGlzYWJsZWQ9e2lzQWRkaW5nIHx8IGlzQ29udHJhY3RBdmFpbGFibGV9XG4gICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1tZCAke1xuICAgICAgICAgIGlzQ29udHJhY3RBdmFpbGFibGUgXG4gICAgICAgICAgICA/ICd0ZXh0LWdyZWVuLTgwMCBiZy1ncmVlbi0xMDAnIFxuICAgICAgICAgICAgOiAndGV4dC15ZWxsb3ctODAwIGJnLXllbGxvdy0xMDAgaG92ZXI6YmcteWVsbG93LTIwMCdcbiAgICAgICAgfSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy15ZWxsb3ctNTAwIGRpc2FibGVkOm9wYWNpdHktNTBgfVxuICAgICAgPlxuICAgICAgICB7aXNDb250cmFjdEF2YWlsYWJsZSA/IChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaC0yIHctMiByb3VuZGVkLWZ1bGwgYmctZ3JlZW4tNTAwIG1yLTEuNVwiPjwvc3Bhbj5cbiAgICAgICAgICAgINCa0L7QvdGC0YDQsNC60YIg0LTQvtGB0YLRg9C/0LXQvVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKSA6IGlzQWRkaW5nID8gKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiAtbWwtMSBtci0yIGgtNCB3LTQgdGV4dC15ZWxsb3ctODAwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgINCf0L7QtNC60LvRjtGH0LXQvdC40LUuLi5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImgtMiB3LTIgcm91bmRlZC1mdWxsIGJnLXllbGxvdy01MDAgbXItMS41XCI+PC9zcGFuPlxuICAgICAgICAgICAg0J/QvtC00LrQu9GO0YfQuNGC0Ywg0LogSGFyZGhhdFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDb250cmFjdFRlbmRlciIsInRvYXN0IiwiTmV0d29ya1NlbGVjdG9yIiwiYWRkSGFyZGhhdE5ldHdvcmtUb01ldGFNYXNrIiwiZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uIiwiaXNDb250cmFjdEF2YWlsYWJsZSIsImNvbnRyYWN0U3RhdHVzIiwiaXNBZGRpbmciLCJzZXRJc0FkZGluZyIsImhhbmRsZUFkZEhhcmRoYXROZXR3b3JrIiwibG9hZGluZyIsImlkIiwic3VjY2VzcyIsImNvbnRyYWN0SW5pdGlhbGl6ZWQiLCJlcnJvciIsImNvbnNvbGUiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzcGFuIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJwYXRoIiwiZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/NetworkSelector.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./components/TenderModal.tsx":
/*!************************************!*\
  !*** ./components/TenderModal.tsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useWeb3 */ \"(pages-dir-node)/./hooks/useWeb3.ts\");\n/* harmony import */ var _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useContractTender */ \"(pages-dir-node)/./hooks/useContractTender.ts\");\n/* harmony import */ var _hooks_useTenderAPI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useTenderAPI */ \"(pages-dir-node)/./hooks/useTenderAPI.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__, _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_3__, react_hot_toast__WEBPACK_IMPORTED_MODULE_5__]);\n([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__, _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_3__, react_hot_toast__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nconst TenderModal = ({ isOpen, onClose, tender, isCreator = false, onBidSubmitted = async ()=>{}, forcedBlockchainMode = true })=>{\n    const { account } = (0,_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__.useWeb3)();\n    const isNumericId = !isNaN(Number(tender.id));\n    // Состояние для формы заявки\n    const [showBidForm, setShowBidForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [amount, setAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [proposal, setProposal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [bidSubmissionError, setBidSubmissionError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Хуки для взаимодействия с контрактом и API\n    const { submitBid, isContractAvailable, takeTender, getTender, createTender } = (0,_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n    const tenderAPI = (0,_hooks_useTenderAPI__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n    // Всегда пытаемся использовать блокчейн, если он доступен\n    const canUseBlockchain = isContractAvailable && (isNumericId || forcedBlockchainMode);\n    // Функция для проверки существования тендера перед отправкой заявки\n    const checkTenderExists = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TenderModal.useCallback[checkTenderExists]\": async (id)=>{\n            try {\n                console.log(`Checking if tender ${id} exists in blockchain...`);\n                // Make a safe call that catches the revert error instead of letting it bubble up\n                try {\n                    const response = await getTender(id);\n                    return response.success && !!response.data; // True if the request was successful and data exists\n                } catch (error) {\n                    // If we get here, the contract call itself threw an error\n                    console.error(`Contract error checking tender existence:`, error);\n                    // Check if the error is specifically about tender not existing\n                    if (error.message && (error.message.includes('Tender does not exist') || error.reason && error.reason.includes('Tender does not exist'))) {\n                        console.warn(`Caught 'Tender does not exist' error - tender ${id} confirmed not to exist`);\n                        return false; // Tender definitely doesn't exist\n                    }\n                    // For other errors, it's safer to fail the check\n                    return false;\n                }\n            } catch (error) {\n                console.error(`Error in checkTenderExists wrapper:`, error);\n                return false;\n            }\n        }\n    }[\"TenderModal.useCallback[checkTenderExists]\"], [\n        getTender\n    ]);\n    const handleSubmitBid = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TenderModal.useCallback[handleSubmitBid]\": async (e)=>{\n            if (e) e.preventDefault();\n            if (!account) {\n                setError('Пожалуйста, подключите кошелек');\n                return;\n            }\n            if (!amount || !proposal) {\n                setError('Пожалуйста, заполните все поля');\n                return;\n            }\n            // Check if contract is available for blockchain tenders\n            if (!isContractAvailable) {\n                setError('Смарт-контракт недоступен. Убедитесь, что MetaMask подключен к правильной сети.');\n                return;\n            }\n            setLoading(true);\n            setError(null);\n            setBidSubmissionError(null);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.loading('Подготовка транзакции...', {\n                id: 'bid-submission'\n            });\n            try {\n                console.log(`Taking tender ${tender.id}`);\n                console.log(`Amount: ${amount}, Proposal: ${proposal}`);\n                // Преобразуем любой ID в числовой формат для блокчейна\n                let blockchainTenderId = tender.id;\n                // Если ID не числовой, пытаемся преобразовать\n                const isNumericId = /^\\d+$/.test(tender.id);\n                if (!isNumericId) {\n                    try {\n                        // Пытаемся извлечь числовую часть из ID (если она есть)\n                        // Исправляем регулярное выражение, чтобы искать только последовательности цифр длиной 4 и более\n                        const numericPart = tender.id.match(/\\d{4,}/);\n                        if (numericPart && parseInt(numericPart[0]) > 0) {\n                            blockchainTenderId = numericPart[0];\n                            console.log(`Extracted numeric ID ${blockchainTenderId} from ${tender.id} for blockchain`);\n                        } else {\n                            // Генерируем стабильный положительный ID на основе хеша строки\n                            let hashCode = 1000; // начинаем с более крупного положительного значения\n                            for(let i = 0; i < tender.id.length; i++){\n                                // Используем метод хеширования для получения консистентного числа\n                                hashCode = (hashCode << 5) - hashCode + tender.id.charCodeAt(i);\n                                hashCode = hashCode & hashCode; // Конвертируем в 32-битное целое\n                            }\n                            // Убеждаемся, что ID положительный и в разумном диапазоне (10000 до 1000000)\n                            blockchainTenderId = (Math.abs(hashCode) % 990000 + 10000).toString();\n                            // Дополнительная проверка, чтобы убедиться, что ID не равен 0\n                            if (blockchainTenderId === '0' || parseInt(blockchainTenderId) <= 0) {\n                                blockchainTenderId = '10001'; // Безопасное значение по умолчанию\n                            }\n                            console.log(`Generated numeric ID ${blockchainTenderId} from hash of \"${tender.id}\" for blockchain`);\n                        }\n                    } catch (err) {\n                        console.error('Error converting ID to numeric format:', err);\n                        const errorMsg = `Ошибка при конвертации ID: ${err instanceof Error ? err.message : 'Unknown error'}`;\n                        setBidSubmissionError(errorMsg);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(errorMsg, {\n                            id: 'bid-submission'\n                        });\n                        setLoading(false);\n                        return;\n                    }\n                }\n                // Double-check the numeric ID is valid\n                if (!blockchainTenderId || isNaN(Number(blockchainTenderId)) || Number(blockchainTenderId) <= 0) {\n                    const errorMsg = `Недопустимый ID тендера: ${blockchainTenderId}. ID должен быть положительным числом.`;\n                    setBidSubmissionError(errorMsg);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(errorMsg, {\n                        id: 'bid-submission'\n                    });\n                    setLoading(false);\n                    return;\n                }\n                // Перед отправкой заявки, дополнительно проверяем, существует ли тендер\n                console.log(`Double-checking tender existence with ID: ${blockchainTenderId}`);\n                // Всегда используем блокчейн, если контракт доступен\n                if (isContractAvailable) {\n                    let result;\n                    try {\n                        console.log(`Using blockchain for taking tender with ID: ${blockchainTenderId}`);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.loading('Ожидание подтверждения в MetaMask...', {\n                            id: 'bid-submission'\n                        });\n                        // If tender ID is 0, attempt to use the tender count to get a valid ID\n                        if (blockchainTenderId === '0') {\n                            try {\n                                const contractInstance = await window.ethereum.request({\n                                    method: 'eth_call',\n                                    params: [\n                                        {\n                                            to: \"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\n                                            data: '0x05062247' // Function selector for tenderCount()\n                                        },\n                                        'latest'\n                                    ]\n                                });\n                                // Parse the hex result to get the tender count\n                                const count = parseInt(contractInstance, 16);\n                                if (count > 0) {\n                                    // Use the latest tender ID (count - 1)\n                                    blockchainTenderId = (count - 1).toString();\n                                    console.log(`Using last tender ID: ${blockchainTenderId} instead of 0`);\n                                } else {\n                                    throw new Error('No tenders found in the contract');\n                                }\n                            } catch (countError) {\n                                console.error('Error getting tender count:', countError);\n                                throw new Error('Cannot submit bid for ID 0. Please use a valid tender ID.');\n                            }\n                        }\n                        // First check if the tender exists in the blockchain\n                        const tenderExists = await checkTenderExists(blockchainTenderId);\n                        // Additional check to see if you're the creator before attempting submission\n                        if (tenderExists) {\n                            const tenderDetails = await getTender(blockchainTenderId);\n                            if (tenderDetails.success && tenderDetails.data) {\n                                const tenderCreator = tenderDetails.data.creator.toLowerCase();\n                                const currentAccount = account?.toLowerCase();\n                                console.log(`Comparing accounts for tender ${blockchainTenderId}:`, {\n                                    original: {\n                                        creator: tenderDetails.data.creator,\n                                        account: account\n                                    },\n                                    lowercase: {\n                                        creator: tenderCreator,\n                                        account: currentAccount\n                                    },\n                                    equal: tenderCreator === currentAccount\n                                });\n                                if (tenderCreator === currentAccount) {\n                                    const errorMsg = 'Вы не можете участвовать в своем собственном тендере. Пожалуйста, используйте другой аккаунт MetaMask.';\n                                    react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(errorMsg, {\n                                        id: 'bid-submission'\n                                    });\n                                    setBidSubmissionError(errorMsg);\n                                    setLoading(false);\n                                    return;\n                                }\n                            }\n                        }\n                        // Если тендер не существует в блокчейне, но у нас есть детали тендера из базы данных,\n                        // попробуем создать его в блокчейне\n                        if (!tenderExists && tender) {\n                            console.log(`Tender ${blockchainTenderId} doesn't exist in blockchain. Attempting to migrate it from database.`);\n                            react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.loading('Тендер не найден в блокчейне. Попытка миграции из базы данных...', {\n                                id: 'bid-submission'\n                            });\n                            try {\n                                // Создаем дату дедлайна\n                                const deadlineDate = new Date(tender.deadline);\n                                const deadlineTimestamp = Math.floor(deadlineDate.getTime() / 1000);\n                                // Создаем дату истечения (по умолчанию +1 день)\n                                const expirationMinutes = 1440; // 24 часа\n                                // Получаем нужные числовые параметры\n                                const distance = tender.distance || 100;\n                                const weight = tender.weight || 100;\n                                const cargoType = tender.cargoType || \"general\";\n                                const urgencyDays = tender.urgencyDays || 7;\n                                console.log(`Attempting to create tender in blockchain with params:`, {\n                                    id: blockchainTenderId,\n                                    title: tender.title,\n                                    description: tender.description,\n                                    budget: tender.budget,\n                                    deadline: deadlineTimestamp,\n                                    distance,\n                                    weight,\n                                    cargoType,\n                                    urgencyDays,\n                                    expirationMinutes\n                                });\n                                // Вызываем функцию создания тендера в блокчейне\n                                const createResult = await createTender(tender.title, tender.description, tender.budget, deadlineTimestamp, distance, weight, cargoType, urgencyDays, expirationMinutes);\n                                if (createResult.success) {\n                                    console.log(`Successfully migrated tender to blockchain with ID: ${createResult.data?.id}`);\n                                    react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.success('Тендер успешно мигрирован в блокчейн!', {\n                                        id: 'bid-submission'\n                                    });\n                                    // Используем новый ID из блокчейна\n                                    blockchainTenderId = createResult.data?.id || blockchainTenderId;\n                                } else {\n                                    throw new Error(`Failed to migrate tender: ${createResult.error}`);\n                                }\n                            } catch (migrationErr) {\n                                console.error('Error migrating tender to blockchain:', migrationErr);\n                                throw new Error(`Не удалось мигрировать тендер в блокчейн: ${migrationErr.message}`);\n                            }\n                        } else if (!tenderExists) {\n                            throw new Error(`Tender with ID ${blockchainTenderId} does not exist in the blockchain. It may have been removed or never existed.`);\n                        }\n                        // Вызываем функцию для блокчейна - теперь используем submitBid, которая вызывает takeTender\n                        // Дополнительная проверка перед отправкой\n                        const numericId = parseInt(blockchainTenderId);\n                        if (isNaN(numericId) || numericId <= 0) {\n                            throw new Error(`Недопустимый ID тендера: ${blockchainTenderId}. ID должен быть положительным числом.`);\n                        }\n                        result = await submitBid(blockchainTenderId, parseFloat(amount), proposal);\n                        if (result.success) {\n                            console.log('Tender taken successfully:', result);\n                            react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.success('Вы успешно взяли тендер в работу!', {\n                                id: 'bid-submission',\n                                duration: 5000\n                            });\n                            // Показать hash транзакции, если доступен\n                            if (result.hash) {\n                                const txHash = result.hash;\n                                const truncatedHash = `${txHash.slice(0, 6)}...${txHash.slice(-4)}`;\n                                react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.success(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Транзакция выполнена!\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 317,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                            href: `https://sepolia.etherscan.io/tx/${txHash}`,\n                                            target: \"_blank\",\n                                            rel: \"noopener noreferrer\",\n                                            className: \"text-blue-500 underline\",\n                                            children: [\n                                                \"Посмотреть транзакцию \",\n                                                truncatedHash\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 318,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 316,\n                                    columnNumber: 17\n                                }, undefined), {\n                                    id: 'tx-success',\n                                    duration: 10000\n                                });\n                            }\n                            // Закрываем модальное окно\n                            setAmount('');\n                            setProposal('');\n                            onClose();\n                            // Обновляем страницу родителя\n                            if (onBidSubmitted) {\n                                await onBidSubmitted();\n                            }\n                        } else {\n                            throw new Error(result.error || 'Неизвестная ошибка при отправке заявки');\n                        }\n                    } catch (err) {\n                        console.error('Error taking tender:', err);\n                        // Формируем понятное сообщение об ошибке для пользователя\n                        let errorMessage = 'Произошла ошибка при взятии тендера в работу';\n                        if (err.message) {\n                            if (err.message.includes('user rejected transaction')) {\n                                errorMessage = 'Вы отменили транзакцию';\n                            } else if (err.message.includes('Tender does not exist')) {\n                                errorMessage = 'Тендер не существует в блокчейне';\n                            } else if (err.message.includes('Cannot take your own tender')) {\n                                errorMessage = 'Вы не можете взять в работу свой собственный тендер';\n                                // Check if addresses are different in casing but same value\n                                let reportedCreator = '';\n                                if (tender.creator && account) {\n                                    reportedCreator = tender.creator;\n                                    const sameAddressDifferentCase = tender.creator.toLowerCase() === account.toLowerCase() && tender.creator !== account;\n                                    if (sameAddressDifferentCase) {\n                                        console.log('Detected same address with different case:', {\n                                            reported: tender.creator,\n                                            account: account,\n                                            sameWhenLowercase: tender.creator.toLowerCase() === account.toLowerCase()\n                                        });\n                                        errorMessage += '. Адрес тендера и ваш адрес совпадают, но имеют разный регистр букв.';\n                                        // Update UI with more helpful message\n                                        react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"font-bold\",\n                                                    children: \"Это ваш тендер, но адреса записаны по-разному\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 376,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm mt-1\",\n                                                    children: [\n                                                        \"Ваш адрес: \",\n                                                        account\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 377,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm\",\n                                                    children: [\n                                                        \"Адрес создателя: \",\n                                                        tender.creator\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 378,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm mt-2\",\n                                                    children: \"Эти адреса считаются одинаковыми в блокчейне\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 379,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 375,\n                                            columnNumber: 21\n                                        }, undefined), {\n                                            id: 'owner-error',\n                                            duration: 10000\n                                        });\n                                    }\n                                }\n                                // If this is owner account error, add more details\n                                react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"font-bold\",\n                                            children: \"Вы не можете взять свой собственный тендер\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 389,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm mt-1\",\n                                            children: \"Пожалуйста, переключитесь на другой аккаунт в MetaMask\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 390,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 388,\n                                    columnNumber: 17\n                                }, undefined), {\n                                    id: 'owner-error',\n                                    duration: 8000\n                                });\n                                // Debug info in console\n                                console.error('Owner account error:', {\n                                    tenderCreator: tender.creator,\n                                    currentAccount: account,\n                                    tenderId: tender.id,\n                                    numericId: blockchainTenderId\n                                });\n                            } else if (err.message.includes('Tender is not open')) {\n                                errorMessage = 'Тендер уже не открыт для участия';\n                            } else if (err.message.includes('Tender has expired')) {\n                                errorMessage = 'Срок действия тендера истек';\n                            } else {\n                                errorMessage = `Ошибка: ${err.message}`;\n                            }\n                        }\n                        setBidSubmissionError(errorMessage);\n                        react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(errorMessage, {\n                            id: 'bid-submission'\n                        });\n                    }\n                } else {\n                    // Блокчейн недоступен - показываем ошибку\n                    const errorMessage = 'Смарт-контракт недоступен. Проверьте подключение к MetaMask.';\n                    setError(errorMessage);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(errorMessage, {\n                        id: 'bid-submission'\n                    });\n                    setLoading(false);\n                    return;\n                }\n            } catch (err) {\n                console.error('Error submitting bid:', err);\n                const errorMessage = err instanceof Error ? err.message : 'Ошибка при отправке заявки';\n                setError(errorMessage);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(`Ошибка: ${errorMessage}`, {\n                    id: 'bid-submission'\n                });\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"TenderModal.useCallback[handleSubmitBid]\"], [\n        account,\n        tender.id,\n        amount,\n        proposal,\n        submitBid,\n        onClose,\n        onBidSubmitted,\n        isContractAvailable,\n        checkTenderExists\n    ]);\n    const handleTakeTender = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TenderModal.useCallback[handleTakeTender]\": async ()=>{\n            if (!account) {\n                setError('Пожалуйста, подключите кошелек');\n                return;\n            }\n            if (!tender.fromBlockchain) {\n                setError('Функция \"Забрать тендер\" доступна только для тендеров в блокчейне');\n                return;\n            }\n            if (!isContractAvailable) {\n                setError('Смарт-контракт недоступен. Убедитесь, что MetaMask подключен к правильной сети.');\n                return;\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                console.log(`Taking tender ${tender.id}`);\n                const result = await takeTender(tender.id);\n                if (result && result.success) {\n                    console.log('Tender taken successfully');\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.success('Вы успешно забрали тендер!');\n                    onClose();\n                    if (onBidSubmitted) {\n                        await onBidSubmitted();\n                    }\n                } else {\n                    setError(result?.error || 'Ошибка при взятии тендера');\n                }\n            } catch (err) {\n                console.error('Error taking tender:', err);\n                setError(err instanceof Error ? err.message : 'Ошибка при взятии тендера');\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error(`Ошибка: ${err instanceof Error ? err.message : 'Не удалось взять тендер'}`);\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"TenderModal.useCallback[handleTakeTender]\"], [\n        account,\n        tender.id,\n        tender.fromBlockchain,\n        takeTender,\n        isContractAvailable,\n        onClose,\n        onBidSubmitted\n    ]);\n    if (!isOpen) return null;\n    const getStatusText = (status)=>{\n        switch(status){\n            case 'OPEN':\n                return 'Открыт';\n            case 'AWARDED':\n                return 'Присужден';\n            case 'COMPLETED':\n                return 'Завершен';\n            case 'CANCELLED':\n                return 'Отменен';\n            case 'CLOSED':\n                return 'Закрыт';\n            default:\n                return status;\n        }\n    };\n    const getStatusClass = (status)=>{\n        switch(status){\n            case 'OPEN':\n                return 'bg-green-100 text-green-800';\n            case 'AWARDED':\n                return 'bg-blue-100 text-blue-800';\n            case 'COMPLETED':\n                return 'bg-purple-100 text-purple-800';\n            case 'CANCELLED':\n                return 'bg-red-100 text-red-800';\n            case 'CLOSED':\n                return 'bg-gray-100 text-gray-800';\n            default:\n                return 'bg-gray-100 text-gray-800';\n        }\n    };\n    const getCargoTypeText = (type)=>{\n        if (!type) return 'Обычный';\n        switch(type){\n            case 'general':\n                return 'Обычный';\n            case 'fragile':\n                return 'Хрупкий';\n            case 'perishable':\n                return 'Скоропортящийся';\n            default:\n                return type;\n        }\n    };\n    const renderParticipationButtons = ()=>{\n        if (!account) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-yellow-50 border border-yellow-200 p-4 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-yellow-800 mb-2\",\n                        children: \"Для участия необходимо подключить кошелек\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 513,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-md font-medium w-full text-center\",\n                        onClick: ()=>window.location.href = \"/connect-wallet\",\n                        children: \"Подключить кошелек\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 514,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                lineNumber: 512,\n                columnNumber: 9\n            }, undefined);\n        }\n        if (isCreator) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-blue-50 p-4 rounded\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-blue-800 font-medium\",\n                        children: \"Вы создатель этого тендера\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 527,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-blue-600 italic text-sm\",\n                        children: \"Вы не можете участвовать в собственном тендере\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 528,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                lineNumber: 526,\n                columnNumber: 9\n            }, undefined);\n        }\n        if (showBidForm) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 border-t border-gray-200 pt-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-medium text-gray-900\",\n                        children: \"Подать заявку\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 536,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleSubmitBid,\n                        className: \"mt-4 space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"bid-amount\",\n                                        className: \"block text-sm font-medium text-gray-700\",\n                                        children: \"Сумма (USD)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 539,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"number\",\n                                        id: \"bid-amount\",\n                                        value: amount,\n                                        onChange: (e)=>setAmount(e.target.value),\n                                        className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\",\n                                        placeholder: \"Введите вашу ставку\",\n                                        min: \"1\",\n                                        required: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 542,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 538,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"bid-proposal\",\n                                        className: \"block text-sm font-medium text-gray-700\",\n                                        children: \"Предложение\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 555,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        id: \"bid-proposal\",\n                                        value: proposal,\n                                        onChange: (e)=>setProposal(e.target.value),\n                                        className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\",\n                                        rows: 4,\n                                        placeholder: \"Опишите ваше предложение\",\n                                        required: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 558,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 554,\n                                columnNumber: 13\n                            }, undefined),\n                            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-md bg-red-50 p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-shrink-0\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"h-5 w-5 text-red-400\",\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                viewBox: \"0 0 20 20\",\n                                                fill: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    fillRule: \"evenodd\",\n                                                    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                                                    clipRule: \"evenodd\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 574,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 573,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 572,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"ml-3\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-red-700\",\n                                                children: error\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 578,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 577,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 571,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 570,\n                                columnNumber: 15\n                            }, undefined),\n                            bidSubmissionError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"rounded-md bg-yellow-50 p-4 border border-yellow-300 shadow-md\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-shrink-0\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"h-5 w-5 text-yellow-400\",\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                viewBox: \"0 0 20 20\",\n                                                fill: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    fillRule: \"evenodd\",\n                                                    d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n                                                    clipRule: \"evenodd\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 589,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 588,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 587,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"ml-3 flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"text-sm font-medium text-yellow-800\",\n                                                    children: \"Проблема с отправкой заявки\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 593,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-yellow-700 mt-1 font-semibold\",\n                                                    children: bidSubmissionError\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 594,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                bidSubmissionError?.includes('не существует') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm text-yellow-700\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-medium\",\n                                                                    children: \"Возможные причины:\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 599,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"list-disc pl-5 mt-1 space-y-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"Тендер был закрыт или отменен создателем\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 601,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"Тендер был удален из блокчейна\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 602,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"Вы используете устаревшие данные\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 603,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"ID тендера не соответствует контракту\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 604,\n                                                                            columnNumber: 29\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 600,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"mt-2 font-medium\",\n                                                                    children: \"Рекомендуемые действия:\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 606,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"list-disc pl-5 mt-1 space-y-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"Обновите страницу для получения актуальных данных\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 608,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"Проверьте список доступных тендеров\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 609,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"Если ошибка повторяется, вернитесь на главную страницу\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 610,\n                                                                            columnNumber: 29\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 607,\n                                                                    columnNumber: 27\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                            lineNumber: 598,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-4 text-sm bg-gray-100 p-3 rounded border border-gray-300\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-semibold text-gray-700\",\n                                                                    children: \"Техническая информация:\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 614,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"mt-1 font-mono text-xs text-gray-600 overflow-auto max-h-32\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            children: [\n                                                                                \"Tender ID: \",\n                                                                                tender.id\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 616,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            children: [\n                                                                                \"Contract Available: \",\n                                                                                isContractAvailable ? 'Yes' : 'No'\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 617,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            children: [\n                                                                                \"Blockchain Mode: \",\n                                                                                tender.fromBlockchain ? 'Yes' : 'No'\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 618,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            children: [\n                                                                                \"Numeric ID: \",\n                                                                                isNumericId ? 'Yes' : 'No'\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 619,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            children: [\n                                                                                \"Contract Address: \",\n                                                                                \"0x5FbDB2315678afecb367f032d93F642f64180aa3\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 620,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            children: [\n                                                                                \"Error Timestamp: \",\n                                                                                new Date().toISOString()\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 621,\n                                                                            columnNumber: 29\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 615,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"mt-3 flex flex-wrap gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>window.location.reload(),\n                                                                            className: \"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs rounded\",\n                                                                            children: \"Обновить страницу\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 624,\n                                                                            columnNumber: 29\n                                                                        }, undefined),\n                                                                        !isContractAvailable && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>{\n                                                                                react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.loading('Переподключение к смарт-контракту...', {\n                                                                                    id: 'contract-reconnect'\n                                                                                });\n                                                                                // Пытаемся переподключиться к смарт-контракту\n                                                                                if (false) {} else {\n                                                                                    react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error('MetaMask не установлен!', {\n                                                                                        id: 'contract-reconnect'\n                                                                                    });\n                                                                                }\n                                                                            },\n                                                                            className: \"px-3 py-1 bg-green-500 hover:bg-green-600 text-white text-xs rounded flex items-center\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                                    className: \"w-3 h-3 mr-1\",\n                                                                                    fill: \"none\",\n                                                                                    stroke: \"currentColor\",\n                                                                                    viewBox: \"0 0 24 24\",\n                                                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                                        strokeLinecap: \"round\",\n                                                                                        strokeLinejoin: \"round\",\n                                                                                        strokeWidth: \"2\",\n                                                                                        d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                                        lineNumber: 665,\n                                                                                        columnNumber: 35\n                                                                                    }, undefined)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                                    lineNumber: 664,\n                                                                                    columnNumber: 33\n                                                                                }, undefined),\n                                                                                \"Переподключить контракт\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                            lineNumber: 631,\n                                                                            columnNumber: 31\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 623,\n                                                                    columnNumber: 27\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                            lineNumber: 613,\n                                                            columnNumber: 25\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 597,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                bidSubmissionError?.includes('контракт') && !bidSubmissionError?.includes('не существует') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-3 flex flex-wrap gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                // Пытаемся переподключиться к смарт-контракту\n                                                                react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.loading('Переподключение к смарт-контракту...', {\n                                                                    id: 'contract-reconnect'\n                                                                });\n                                                                if (false) {} else {\n                                                                    react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error('MetaMask не установлен!', {\n                                                                        id: 'contract-reconnect'\n                                                                    });\n                                                                }\n                                                            },\n                                                            className: \"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs rounded flex items-center\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                    className: \"w-3 h-3 mr-1\",\n                                                                    fill: \"none\",\n                                                                    stroke: \"currentColor\",\n                                                                    viewBox: \"0 0 24 24\",\n                                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        strokeLinecap: \"round\",\n                                                                        strokeLinejoin: \"round\",\n                                                                        strokeWidth: \"2\",\n                                                                        d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                        lineNumber: 711,\n                                                                        columnNumber: 29\n                                                                    }, undefined)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 710,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                \"Переподключить контракт\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                            lineNumber: 677,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>window.location.reload(),\n                                                            className: \"px-3 py-1 bg-green-500 hover:bg-green-600 text-white text-xs rounded flex items-center\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                    className: \"w-3 h-3 mr-1\",\n                                                                    fill: \"none\",\n                                                                    stroke: \"currentColor\",\n                                                                    viewBox: \"0 0 24 24\",\n                                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        strokeLinecap: \"round\",\n                                                                        strokeLinejoin: \"round\",\n                                                                        strokeWidth: \"2\",\n                                                                        d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                        lineNumber: 720,\n                                                                        columnNumber: 29\n                                                                    }, undefined)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                                    lineNumber: 719,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                \"Обновить страницу\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                            lineNumber: 715,\n                                                            columnNumber: 25\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                    lineNumber: 676,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 592,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 586,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 585,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-end\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"button\",\n                                        onClick: ()=>setShowBidForm(false),\n                                        className: \"mr-2 inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50\",\n                                        children: \"Отмена\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 732,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"submit\",\n                                        disabled: loading || !account,\n                                        className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300\",\n                                        children: [\n                                            loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                        className: \"opacity-25\",\n                                                        cx: \"12\",\n                                                        cy: \"12\",\n                                                        r: \"10\",\n                                                        stroke: \"currentColor\",\n                                                        strokeWidth: \"4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 746,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        className: \"opacity-75\",\n                                                        fill: \"currentColor\",\n                                                        d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 747,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 745,\n                                                columnNumber: 19\n                                            }, undefined) : null,\n                                            loading ? 'Отправка...' : 'Отправить заявку'\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 739,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 731,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 537,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                lineNumber: 535,\n                columnNumber: 9\n            }, undefined);\n        }\n        // Блок для обычной формы участия\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col md:flex-row justify-between items-center gap-4 bg-green-50 p-6 rounded-lg border border-green-200 mb-4 shadow-sm\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"font-semibold text-green-800 text-lg mb-2\",\n                            children: \"Участвовать в тендере\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 762,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-green-700\",\n                            children: tender.fromBlockchain ? \"Этот тендер создан в блокчейне. Вы можете забрать его или отправить заявку с вашей ценой.\" : \"Этот тендер создан в базе данных. Вы можете отправить заявку с вашей ценой.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 763,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                    lineNumber: 761,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col md:flex-row gap-3 w-full md:w-auto\",\n                    children: [\n                        tender.fromBlockchain && isContractAvailable && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleTakeTender,\n                            disabled: loading,\n                            className: \"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-md disabled:bg-gray-300 font-medium flex-1 md:flex-none\",\n                            children: loading ? 'Обработка...' : 'Забрать тендер'\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 771,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setShowBidForm(true),\n                            className: \"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-md font-medium flex-1 md:flex-none\",\n                            children: \"Отправить заявку\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 779,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                    lineNumber: 769,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n            lineNumber: 760,\n            columnNumber: 7\n        }, undefined);\n    };\n    // Функция для отображения информации о блокчейне\n    const renderBlockchainInfo = ()=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mb-4 p-3 bg-gray-100 rounded text-sm\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"Статус смарт-контракта: \",\n                                        isContractAvailable ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-green-600 font-semibold\",\n                                            children: \"Доступен\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 798,\n                                            columnNumber: 17\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-red-600 font-semibold\",\n                                            children: \"Недоступен\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 799,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 796,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"ID тендера: \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-mono\",\n                                            children: tender.id\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 801,\n                                            columnNumber: 28\n                                        }, undefined),\n                                        \" (\",\n                                        isNumericId ? 'числовой' : 'не числовой',\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 801,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"Источник данных: \",\n                                        tender.fromBlockchain ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-blue-600\",\n                                            children: \"Блокчейн\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 803,\n                                            columnNumber: 15\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-purple-600\",\n                                            children: \"База данных\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 804,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 802,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 795,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex space-x-2\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>window.location.reload(),\n                                className: \"px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white text-xs rounded flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-3 w-3 mr-1\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        stroke: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 814,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 813,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \"Обновить\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 809,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 808,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                    lineNumber: 794,\n                    columnNumber: 9\n                }, undefined),\n                !isContractAvailable && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-3 p-2 bg-amber-50 border border-amber-200 rounded\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-amber-700 mb-1 text-xs font-medium\",\n                            children: \"Для отправки заявки требуется подключение к смарт-контракту\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 823,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-wrap gap-2 mt-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.loading('Подключение к смарт-контракту...', {\n                                            id: 'contract-connect'\n                                        });\n                                        // Пытаемся переподключиться к смарт-контракту\n                                        if (false) {} else {\n                                            react_hot_toast__WEBPACK_IMPORTED_MODULE_5__.toast.error('MetaMask не установлен!', {\n                                                id: 'contract-connect'\n                                            });\n                                        }\n                                    },\n                                    className: \"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-xs rounded flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            className: \"h-3 w-3 mr-1\",\n                                            fill: \"none\",\n                                            viewBox: \"0 0 24 24\",\n                                            stroke: \"currentColor\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 864,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 863,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Подключить MetaMask\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 825,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>window.location.reload(),\n                                    className: \"px-3 py-1 bg-green-500 hover:bg-green-600 text-white text-xs rounded flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            className: \"h-3 w-3 mr-1\",\n                                            fill: \"none\",\n                                            viewBox: \"0 0 24 24\",\n                                            stroke: \"currentColor\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 874,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 873,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Обновить страницу\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 869,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        window.location.href = \"/dashboard\";\n                                    },\n                                    className: \"px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white text-xs rounded flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            className: \"h-3 w-3 mr-1\",\n                                            fill: \"none\",\n                                            viewBox: \"0 0 24 24\",\n                                            stroke: \"currentColor\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 886,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 885,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Вернуться на главную\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 879,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                            lineNumber: 824,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                    lineNumber: 822,\n                    columnNumber: 11\n                }, undefined),\n                tender.fromBlockchain && \"0x5FbDB2315678afecb367f032d93F642f64180aa3\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-2 text-xs text-gray-500\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Адрес контракта: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: `https://sepolia.etherscan.io/address/${\"0x5FbDB2315678afecb367f032d93F642f64180aa3\"}`,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"text-blue-500 underline\",\n                                children: \"0x5FbDB2315678afecb367f032d93F642f64180aa3\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 896,\n                                columnNumber: 33\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 896,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                    lineNumber: 895,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n            lineNumber: 793,\n            columnNumber: 7\n        }, undefined);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-start mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold\",\n                                children: tender.title\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 915,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onClose,\n                                className: \"text-gray-400 hover:text-gray-600\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    className: \"h-6 w-6\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M6 18L18 6M6 6l12 12\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 921,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 920,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 916,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 914,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center mb-4 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `px-2 py-0.5 rounded-full flex items-center ${isContractAvailable ? 'bg-green-100 text-green-800' : 'bg-amber-100 text-amber-800'}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `h-2 w-2 rounded-full mr-1.5 ${isContractAvailable ? 'bg-green-500' : 'bg-amber-500'}`\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 933,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: isContractAvailable ? 'Смарт-контракт доступен' : 'Смарт-контракт недоступен'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 936,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 928,\n                                columnNumber: 13\n                            }, undefined),\n                            tender.fromBlockchain && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ml-2 px-2 py-0.5 rounded-full bg-blue-100 text-blue-800 flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-3 w-3 mr-1\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        stroke: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                            lineNumber: 946,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 945,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Блокчейн\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 944,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 927,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4 flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `text-xs font-medium px-2.5 py-0.5 rounded ${getStatusClass(tender.status)}`,\n                                children: getStatusText(tender.status)\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 954,\n                                columnNumber: 13\n                            }, undefined),\n                            tender.timeLeft && tender.status === 'OPEN' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ml-2 text-sm text-yellow-700\",\n                                children: [\n                                    \"Осталось: \",\n                                    tender.timeLeft\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 958,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 953,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700 mb-6\",\n                        children: tender.description\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 964,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-semibold mb-2 border-b pb-2\",\n                                        children: \"Детали груза\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 968,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Расстояние:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 971,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            tender.distance || 0,\n                                                            \" км\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 972,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 970,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Вес:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 975,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            tender.weight || 0,\n                                                            \" кг\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 976,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 974,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Тип груза:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 979,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: getCargoTypeText(tender.cargoType)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 980,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 978,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Срок доставки:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 983,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            tender.urgencyDays || 1,\n                                                            \" дней\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 984,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 982,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Бюджет:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 987,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"$\",\n                                                            tender.budget\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 988,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 986,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 969,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 967,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-semibold mb-2 border-b pb-2\",\n                                        children: \"Информация\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 994,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Создан:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 997,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: new Date(tender.createdAt).toLocaleString()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 998,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 996,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            tender.expiresAt && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Действует до:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 1002,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: new Date(tender.expiresAt).toLocaleString()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 1003,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 1001,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Срок исполнения:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 1007,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: typeof tender.deadline === 'bigint' ? new Date(Number(tender.deadline) * 1000).toLocaleString() : new Date(tender.deadline).toLocaleString()\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 1008,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 1006,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            tender.creator && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-gray-600\",\n                                                        children: \"Создатель:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 1014,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-mono\",\n                                                        children: [\n                                                            tender.creator.substring(0, 6),\n                                                            \"...\",\n                                                            tender.creator.substring(tender.creator.length - 4)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                        lineNumber: 1015,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                                lineNumber: 1013,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                        lineNumber: 995,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 993,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 966,\n                        columnNumber: 11\n                    }, undefined),\n                    renderBlockchainInfo(),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t pt-4\",\n                        children: [\n                            renderParticipationButtons(),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 flex justify-end\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onClose,\n                                    className: \"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded mr-2\",\n                                    children: \"Закрыть\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                    lineNumber: 1029,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                                lineNumber: 1028,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                        lineNumber: 1025,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n                lineNumber: 913,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n            lineNumber: 912,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/TenderModal.tsx\",\n        lineNumber: 911,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TenderModal);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvVGVuZGVyTW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUQ7QUFFVjtBQUNnQjtBQUNWO0FBQ1Q7QUErQnhDLE1BQU1PLGNBQTBDLENBQUMsRUFDL0NDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxNQUFNLEVBQ05DLFlBQVksS0FBSyxFQUNqQkMsaUJBQWlCLFdBQWEsQ0FBQyxFQUMvQkMsdUJBQXVCLElBQUksRUFDNUI7SUFDQyxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHWCx1REFBT0E7SUFDM0IsTUFBTVksY0FBYyxDQUFDQyxNQUFNQyxPQUFPUCxPQUFPUSxFQUFFO0lBRTNDLDZCQUE2QjtJQUM3QixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR25CLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ29CLFFBQVFDLFVBQVUsR0FBR3JCLCtDQUFRQSxDQUFTO0lBQzdDLE1BQU0sQ0FBQ3NCLFVBQVVDLFlBQVksR0FBR3ZCLCtDQUFRQSxDQUFTO0lBQ2pELE1BQU0sQ0FBQ3dCLFNBQVNDLFdBQVcsR0FBR3pCLCtDQUFRQSxDQUFVO0lBQ2hELE1BQU0sQ0FBQzBCLE9BQU9DLFNBQVMsR0FBRzNCLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUM0QixvQkFBb0JDLHNCQUFzQixHQUFHN0IsK0NBQVFBLENBQWdCO0lBRTVFLDZDQUE2QztJQUM3QyxNQUFNLEVBQUU4QixTQUFTLEVBQUVDLG1CQUFtQixFQUFFQyxVQUFVLEVBQUVDLFNBQVMsRUFBRUMsWUFBWSxFQUFFLEdBQUcvQixvRUFBaUJBO0lBQ2pHLE1BQU1nQyxZQUFZL0IsK0RBQVlBO0lBRTlCLDBEQUEwRDtJQUMxRCxNQUFNZ0MsbUJBQW1CTCx1QkFBd0JqQixDQUFBQSxlQUFlRixvQkFBbUI7SUFFbkYsb0VBQW9FO0lBQ3BFLE1BQU15QixvQkFBb0JwQyxrREFBV0E7c0RBQUMsT0FBT2dCO1lBQzNDLElBQUk7Z0JBQ0Zx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REFBQ3BFO2dEQUFFSyxXQUFVOztrRUFDWCw4REFBQ3lEO3dEQUFLekQsV0FBVTtrRUFBNEI7Ozs7OztrRUFDNUMsOERBQUN5RDtrRUFBTSxPQUFPcEssT0FBT2dGLFFBQVEsS0FBSyxXQUM5QixJQUFJRCxLQUFLeEUsT0FBT1AsT0FBT2dGLFFBQVEsSUFBSSxNQUFNMEYsY0FBYyxLQUN2RCxJQUFJM0YsS0FBSy9FLE9BQU9nRixRQUFRLEVBQUUwRixjQUFjOzs7Ozs7Ozs7Ozs7NENBRTdDMUssT0FBT3dFLE9BQU8sa0JBQ2IsOERBQUM4QjtnREFBRUssV0FBVTs7a0VBQ1gsOERBQUN5RDt3REFBS3pELFdBQVU7a0VBQTRCOzs7Ozs7a0VBQzVDLDhEQUFDeUQ7d0RBQUt6RCxXQUFVOzs0REFBYTNHLE9BQU93RSxPQUFPLENBQUNvRyxTQUFTLENBQUMsR0FBRzs0REFBRzs0REFBSTVLLE9BQU93RSxPQUFPLENBQUNvRyxTQUFTLENBQUM1SyxPQUFPd0UsT0FBTyxDQUFDeEIsTUFBTSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQVExSG1IO2tDQUVELDhEQUFDOUQ7d0JBQUlNLFdBQVU7OzRCQUNaYzswQ0FFRCw4REFBQ3BCO2dDQUFJTSxXQUFVOzBDQUNiLDRFQUFDZTtvQ0FDQ0MsU0FBUzVIO29DQUNUNEcsV0FBVTs4Q0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2Y7QUFFQSxpRUFBZTlHLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGRpeWFyYm9sZWdlbm92L3RlbmRlci9mcm9udGVuZC9jb21wb25lbnRzL1RlbmRlck1vZGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IHVzZVdlYjMgfSBmcm9tICcuLi9ob29rcy91c2VXZWIzJztcbmltcG9ydCB1c2VDb250cmFjdFRlbmRlciBmcm9tICcuLi9ob29rcy91c2VDb250cmFjdFRlbmRlcic7XG5pbXBvcnQgdXNlVGVuZGVyQVBJIGZyb20gJy4uL2hvb2tzL3VzZVRlbmRlckFQSSc7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmV4cG9ydCB0eXBlIFRlbmRlclN0YXR1cyA9ICdPUEVOJyB8ICdDTE9TRUQnIHwgJ0FXQVJERUQnIHwgJ0NPTVBMRVRFRCcgfCAnQ0FOQ0VMTEVEJztcblxuZXhwb3J0IGludGVyZmFjZSBUZW5kZXJEZXRhaWxzIHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgYnVkZ2V0OiBudW1iZXI7XG4gIGRlYWRsaW5lOiBzdHJpbmc7XG4gIHN0YXR1czogVGVuZGVyU3RhdHVzO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgZXhwaXJlc0F0Pzogc3RyaW5nO1xuICBkaXN0YW5jZT86IG51bWJlcjtcbiAgd2VpZ2h0PzogbnVtYmVyO1xuICBjYXJnb1R5cGU/OiBzdHJpbmc7XG4gIHVyZ2VuY3lEYXlzPzogbnVtYmVyO1xuICBjcmVhdG9yPzogc3RyaW5nO1xuICB0aW1lTGVmdD86IHN0cmluZztcbiAgZnJvbUJsb2NrY2hhaW4/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgVGVuZGVyTW9kYWxQcm9wcyB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgdGVuZGVyOiBUZW5kZXJEZXRhaWxzO1xuICBpc0NyZWF0b3I/OiBib29sZWFuO1xuICBvbkJpZFN1Ym1pdHRlZD86ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGZvcmNlZEJsb2NrY2hhaW5Nb2RlPzogYm9vbGVhbjtcbn1cblxuY29uc3QgVGVuZGVyTW9kYWw6IFJlYWN0LkZDPFRlbmRlck1vZGFsUHJvcHM+ID0gKHsgXG4gIGlzT3BlbiwgXG4gIG9uQ2xvc2UsIFxuICB0ZW5kZXIsIFxuICBpc0NyZWF0b3IgPSBmYWxzZSwgXG4gIG9uQmlkU3VibWl0dGVkID0gYXN5bmMgKCkgPT4ge30sXG4gIGZvcmNlZEJsb2NrY2hhaW5Nb2RlID0gdHJ1ZVxufSkgPT4ge1xuICBjb25zdCB7IGFjY291bnQgfSA9IHVzZVdlYjMoKTtcbiAgY29uc3QgaXNOdW1lcmljSWQgPSAhaXNOYU4oTnVtYmVyKHRlbmRlci5pZCkpO1xuICBcbiAgLy8g0KHQvtGB0YLQvtGP0L3QuNC1INC00LvRjyDRhNC+0YDQvNGLINC30LDRj9Cy0LrQuFxuICBjb25zdCBbc2hvd0JpZEZvcm0sIHNldFNob3dCaWRGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Ftb3VudCwgc2V0QW1vdW50XSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbcHJvcG9zYWwsIHNldFByb3Bvc2FsXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtiaWRTdWJtaXNzaW9uRXJyb3IsIHNldEJpZFN1Ym1pc3Npb25FcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgXG4gIC8vINCl0YPQutC4INC00LvRjyDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNGPINGBINC60L7QvdGC0YDQsNC60YLQvtC8INC4IEFQSVxuICBjb25zdCB7IHN1Ym1pdEJpZCwgaXNDb250cmFjdEF2YWlsYWJsZSwgdGFrZVRlbmRlciwgZ2V0VGVuZGVyLCBjcmVhdGVUZW5kZXIgfSA9IHVzZUNvbnRyYWN0VGVuZGVyKCk7XG4gIGNvbnN0IHRlbmRlckFQSSA9IHVzZVRlbmRlckFQSSgpO1xuICBcbiAgLy8g0JLRgdC10LPQtNCwINC/0YvRgtCw0LXQvNGB0Y8g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINCx0LvQvtC60YfQtdC50L0sINC10YHQu9C4INC+0L0g0LTQvtGB0YLRg9C/0LXQvVxuICBjb25zdCBjYW5Vc2VCbG9ja2NoYWluID0gaXNDb250cmFjdEF2YWlsYWJsZSAmJiAoaXNOdW1lcmljSWQgfHwgZm9yY2VkQmxvY2tjaGFpbk1vZGUpO1xuICBcbiAgLy8g0KTRg9C90LrRhtC40Y8g0LTQu9GPINC/0YDQvtCy0LXRgNC60Lgg0YHRg9GJ0LXRgdGC0LLQvtCy0LDQvdC40Y8g0YLQtdC90LTQtdGA0LAg0L/QtdGA0LXQtCDQvtGC0L/RgNCw0LLQutC+0Lkg0LfQsNGP0LLQutC4XG4gIGNvbnN0IGNoZWNrVGVuZGVyRXhpc3RzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYENoZWNraW5nIGlmIHRlbmRlciAke2lkfSBleGlzdHMgaW4gYmxvY2tjaGFpbi4uLmApO1xuICAgICAgXG4gICAgICAvLyBNYWtlIGEgc2FmZSBjYWxsIHRoYXQgY2F0Y2hlcyB0aGUgcmV2ZXJ0IGVycm9yIGluc3RlYWQgb2YgbGV0dGluZyBpdCBidWJibGUgdXBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0VGVuZGVyKGlkKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN1Y2Nlc3MgJiYgISFyZXNwb25zZS5kYXRhOyAvLyBUcnVlIGlmIHRoZSByZXF1ZXN0IHdhcyBzdWNjZXNzZnVsIGFuZCBkYXRhIGV4aXN0c1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAvLyBJZiB3ZSBnZXQgaGVyZSwgdGhlIGNvbnRyYWN0IGNhbGwgaXRzZWxmIHRocmV3IGFuIGVycm9yXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYENvbnRyYWN0IGVycm9yIGNoZWNraW5nIHRlbmRlciBleGlzdGVuY2U6YCwgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVycm9yIGlzIHNwZWNpZmljYWxseSBhYm91dCB0ZW5kZXIgbm90IGV4aXN0aW5nXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIChcbiAgICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSB8fFxuICAgICAgICAgIChlcnJvci5yZWFzb24gJiYgZXJyb3IucmVhc29uLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSlcbiAgICAgICAgKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgQ2F1Z2h0ICdUZW5kZXIgZG9lcyBub3QgZXhpc3QnIGVycm9yIC0gdGVuZGVyICR7aWR9IGNvbmZpcm1lZCBub3QgdG8gZXhpc3RgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFRlbmRlciBkZWZpbml0ZWx5IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRm9yIG90aGVyIGVycm9ycywgaXQncyBzYWZlciB0byBmYWlsIHRoZSBjaGVja1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGNoZWNrVGVuZGVyRXhpc3RzIHdyYXBwZXI6YCwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgW2dldFRlbmRlcl0pO1xuICBcbiAgY29uc3QgaGFuZGxlU3VibWl0QmlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGU/OiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIGlmICghYWNjb3VudCkge1xuICAgICAgc2V0RXJyb3IoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQv9C+0LTQutC70Y7Rh9C40YLQtSDQutC+0YjQtdC70LXQuicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWFtb3VudCB8fCAhcHJvcG9zYWwpIHtcbiAgICAgIHNldEVycm9yKCfQn9C+0LbQsNC70YPQudGB0YLQsCwg0LfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGNvbnRyYWN0IGlzIGF2YWlsYWJsZSBmb3IgYmxvY2tjaGFpbiB0ZW5kZXJzXG4gICAgaWYgKCFpc0NvbnRyYWN0QXZhaWxhYmxlKSB7XG4gICAgICBzZXRFcnJvcign0KHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGCINC90LXQtNC+0YHRgtGD0L/QtdC9LiDQo9Cx0LXQtNC40YLQtdGB0YwsINGH0YLQviBNZXRhTWFzayDQv9C+0LTQutC70Y7Rh9C10L0g0Log0L/RgNCw0LLQuNC70YzQvdC+0Lkg0YHQtdGC0LguJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0QmlkU3VibWlzc2lvbkVycm9yKG51bGwpO1xuICAgIHRvYXN0LmxvYWRpbmcoJ9Cf0L7QtNCz0L7RgtC+0LLQutCwINGC0YDQsNC90LfQsNC60YbQuNC4Li4uJywgeyBpZDogJ2JpZC1zdWJtaXNzaW9uJyB9KTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYFRha2luZyB0ZW5kZXIgJHt0ZW5kZXIuaWR9YCk7XG4gICAgICBjb25zb2xlLmxvZyhgQW1vdW50OiAke2Ftb3VudH0sIFByb3Bvc2FsOiAke3Byb3Bvc2FsfWApO1xuICAgICAgXG4gICAgICAvLyDQn9GA0LXQvtCx0YDQsNC30YPQtdC8INC70Y7QsdC+0LkgSUQg0LIg0YfQuNGB0LvQvtCy0L7QuSDRhNC+0YDQvNCw0YIg0LTQu9GPINCx0LvQvtC60YfQtdC50L3QsFxuICAgICAgbGV0IGJsb2NrY2hhaW5UZW5kZXJJZCA9IHRlbmRlci5pZDtcbiAgICAgIC8vINCV0YHQu9C4IElEINC90LUg0YfQuNGB0LvQvtCy0L7QuSwg0L/Ri9GC0LDQtdC80YHRjyDQv9GA0LXQvtCx0YDQsNC30L7QstCw0YLRjFxuICAgICAgY29uc3QgaXNOdW1lcmljSWQgPSAvXlxcZCskLy50ZXN0KHRlbmRlci5pZCk7XG4gICAgICBpZiAoIWlzTnVtZXJpY0lkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8g0J/Ri9GC0LDQtdC80YHRjyDQuNC30LLQu9C10YfRjCDRh9C40YHQu9C+0LLRg9GOINGH0LDRgdGC0Ywg0LjQtyBJRCAo0LXRgdC70Lgg0L7QvdCwINC10YHRgtGMKVxuICAgICAgICAgIC8vINCY0YHQv9GA0LDQstC70Y/QtdC8INGA0LXQs9GD0LvRj9GA0L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtSwg0YfRgtC+0LHRiyDQuNGB0LrQsNGC0Ywg0YLQvtC70YzQutC+INC/0L7RgdC70LXQtNC+0LLQsNGC0LXQu9GM0L3QvtGB0YLQuCDRhtC40YTRgCDQtNC70LjQvdC+0LkgNCDQuCDQsdC+0LvQtdC1XG4gICAgICAgICAgY29uc3QgbnVtZXJpY1BhcnQgPSB0ZW5kZXIuaWQubWF0Y2goL1xcZHs0LH0vKTtcbiAgICAgICAgICBpZiAobnVtZXJpY1BhcnQgJiYgcGFyc2VJbnQobnVtZXJpY1BhcnRbMF0pID4gMCkge1xuICAgICAgICAgICAgYmxvY2tjaGFpblRlbmRlcklkID0gbnVtZXJpY1BhcnRbMF07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXh0cmFjdGVkIG51bWVyaWMgSUQgJHtibG9ja2NoYWluVGVuZGVySWR9IGZyb20gJHt0ZW5kZXIuaWR9IGZvciBibG9ja2NoYWluYCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vINCT0LXQvdC10YDQuNGA0YPQtdC8INGB0YLQsNCx0LjQu9GM0L3Ri9C5INC/0L7Qu9C+0LbQuNGC0LXQu9GM0L3Ri9C5IElEINC90LAg0L7RgdC90L7QstC1INGF0LXRiNCwINGB0YLRgNC+0LrQuFxuICAgICAgICAgICAgbGV0IGhhc2hDb2RlID0gMTAwMDsgLy8g0L3QsNGH0LjQvdCw0LXQvCDRgSDQsdC+0LvQtdC1INC60YDRg9C/0L3QvtCz0L4g0L/QvtC70L7QttC40YLQtdC70YzQvdC+0LPQviDQt9C90LDRh9C10L3QuNGPXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbmRlci5pZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQvNC10YLQvtC0INGF0LXRiNC40YDQvtCy0LDQvdC40Y8g0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDQutC+0L3RgdC40YHRgtC10L3RgtC90L7Qs9C+INGH0LjRgdC70LBcbiAgICAgICAgICAgICAgaGFzaENvZGUgPSAoKGhhc2hDb2RlIDw8IDUpIC0gaGFzaENvZGUpICsgdGVuZGVyLmlkLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICAgIGhhc2hDb2RlID0gaGFzaENvZGUgJiBoYXNoQ29kZTsgLy8g0JrQvtC90LLQtdGA0YLQuNGA0YPQtdC8INCyIDMyLdCx0LjRgtC90L7QtSDRhtC10LvQvtC1XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDQo9Cx0LXQttC00LDQtdC80YHRjywg0YfRgtC+IElEINC/0L7Qu9C+0LbQuNGC0LXQu9GM0L3Ri9C5INC4INCyINGA0LDQt9GD0LzQvdC+0Lwg0LTQuNCw0L/QsNC30L7QvdC1ICgxMDAwMCDQtNC+IDEwMDAwMDApXG4gICAgICAgICAgICBibG9ja2NoYWluVGVuZGVySWQgPSAoTWF0aC5hYnMoaGFzaENvZGUpICUgOTkwMDAwICsgMTAwMDApLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vINCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdCw0Y8g0L/RgNC+0LLQtdGA0LrQsCwg0YfRgtC+0LHRiyDRg9Cx0LXQtNC40YLRjNGB0Y8sINGH0YLQviBJRCDQvdC1INGA0LDQstC10L0gMFxuICAgICAgICAgICAgaWYgKGJsb2NrY2hhaW5UZW5kZXJJZCA9PT0gJzAnIHx8IHBhcnNlSW50KGJsb2NrY2hhaW5UZW5kZXJJZCkgPD0gMCkge1xuICAgICAgICAgICAgICBibG9ja2NoYWluVGVuZGVySWQgPSAnMTAwMDEnOyAvLyDQkdC10LfQvtC/0LDRgdC90L7QtSDQt9C90LDRh9C10L3QuNC1INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBHZW5lcmF0ZWQgbnVtZXJpYyBJRCAke2Jsb2NrY2hhaW5UZW5kZXJJZH0gZnJvbSBoYXNoIG9mIFwiJHt0ZW5kZXIuaWR9XCIgZm9yIGJsb2NrY2hhaW5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbnZlcnRpbmcgSUQgdG8gbnVtZXJpYyBmb3JtYXQ6JywgZXJyKTtcbiAgICAgICAgICBjb25zdCBlcnJvck1zZyA9IGDQntGI0LjQsdC60LAg0L/RgNC4INC60L7QvdCy0LXRgNGC0LDRhtC40LggSUQ6ICR7ZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gO1xuICAgICAgICAgIHNldEJpZFN1Ym1pc3Npb25FcnJvcihlcnJvck1zZyk7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoZXJyb3JNc2csIHsgaWQ6ICdiaWQtc3VibWlzc2lvbicgfSk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERvdWJsZS1jaGVjayB0aGUgbnVtZXJpYyBJRCBpcyB2YWxpZFxuICAgICAgaWYgKCFibG9ja2NoYWluVGVuZGVySWQgfHwgaXNOYU4oTnVtYmVyKGJsb2NrY2hhaW5UZW5kZXJJZCkpIHx8IE51bWJlcihibG9ja2NoYWluVGVuZGVySWQpIDw9IDApIHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBg0J3QtdC00L7Qv9GD0YHRgtC40LzRi9C5IElEINGC0LXQvdC00LXRgNCwOiAke2Jsb2NrY2hhaW5UZW5kZXJJZH0uIElEINC00L7Qu9C20LXQvSDQsdGL0YLRjCDQv9C+0LvQvtC20LjRgtC10LvRjNC90YvQvCDRh9C40YHQu9C+0LwuYDtcbiAgICAgICAgc2V0QmlkU3VibWlzc2lvbkVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoZXJyb3JNc2csIHsgaWQ6ICdiaWQtc3VibWlzc2lvbicgfSk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCf0LXRgNC10LQg0L7RgtC/0YDQsNCy0LrQvtC5INC30LDRj9Cy0LrQuCwg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90L4g0L/RgNC+0LLQtdGA0Y/QtdC8LCDRgdGD0YnQtdGB0YLQstGD0LXRgiDQu9C4INGC0LXQvdC00LXRgFxuICAgICAgY29uc29sZS5sb2coYERvdWJsZS1jaGVja2luZyB0ZW5kZXIgZXhpc3RlbmNlIHdpdGggSUQ6ICR7YmxvY2tjaGFpblRlbmRlcklkfWApO1xuXG4gICAgICAvLyDQktGB0LXQs9C00LAg0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0LHQu9C+0LrRh9C10LnQvSwg0LXRgdC70Lgg0LrQvtC90YLRgNCw0LrRgiDQtNC+0YHRgtGD0L/QtdC9XG4gICAgICBpZiAoaXNDb250cmFjdEF2YWlsYWJsZSkge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBibG9ja2NoYWluIGZvciB0YWtpbmcgdGVuZGVyIHdpdGggSUQ6ICR7YmxvY2tjaGFpblRlbmRlcklkfWApO1xuICAgICAgICAgIHRvYXN0LmxvYWRpbmcoJ9Ce0LbQuNC00LDQvdC40LUg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0LIgTWV0YU1hc2suLi4nLCB7IGlkOiAnYmlkLXN1Ym1pc3Npb24nIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHRlbmRlciBJRCBpcyAwLCBhdHRlbXB0IHRvIHVzZSB0aGUgdGVuZGVyIGNvdW50IHRvIGdldCBhIHZhbGlkIElEXG4gICAgICAgICAgaWYgKGJsb2NrY2hhaW5UZW5kZXJJZCA9PT0gJzAnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBjb250cmFjdEluc3RhbmNlID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ2V0aF9jYWxsJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IFt7XG4gICAgICAgICAgICAgICAgICB0bzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ09OVFJBQ1RfQUREUkVTUyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6ICcweDA1MDYyMjQ3JyAvLyBGdW5jdGlvbiBzZWxlY3RvciBmb3IgdGVuZGVyQ291bnQoKVxuICAgICAgICAgICAgICAgIH0sICdsYXRlc3QnXVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBoZXggcmVzdWx0IHRvIGdldCB0aGUgdGVuZGVyIGNvdW50XG4gICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gcGFyc2VJbnQoY29udHJhY3RJbnN0YW5jZSwgMTYpO1xuICAgICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBsYXRlc3QgdGVuZGVyIElEIChjb3VudCAtIDEpXG4gICAgICAgICAgICAgICAgYmxvY2tjaGFpblRlbmRlcklkID0gKGNvdW50IC0gMSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgbGFzdCB0ZW5kZXIgSUQ6ICR7YmxvY2tjaGFpblRlbmRlcklkfSBpbnN0ZWFkIG9mIDBgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRlbmRlcnMgZm91bmQgaW4gdGhlIGNvbnRyYWN0Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGNvdW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB0ZW5kZXIgY291bnQ6JywgY291bnRFcnJvcik7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHN1Ym1pdCBiaWQgZm9yIElEIDAuIFBsZWFzZSB1c2UgYSB2YWxpZCB0ZW5kZXIgSUQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSB0ZW5kZXIgZXhpc3RzIGluIHRoZSBibG9ja2NoYWluXG4gICAgICAgICAgY29uc3QgdGVuZGVyRXhpc3RzID0gYXdhaXQgY2hlY2tUZW5kZXJFeGlzdHMoYmxvY2tjaGFpblRlbmRlcklkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGRpdGlvbmFsIGNoZWNrIHRvIHNlZSBpZiB5b3UncmUgdGhlIGNyZWF0b3IgYmVmb3JlIGF0dGVtcHRpbmcgc3VibWlzc2lvblxuICAgICAgICAgIGlmICh0ZW5kZXJFeGlzdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlckRldGFpbHMgPSBhd2FpdCBnZXRUZW5kZXIoYmxvY2tjaGFpblRlbmRlcklkKTtcbiAgICAgICAgICAgIGlmICh0ZW5kZXJEZXRhaWxzLnN1Y2Nlc3MgJiYgdGVuZGVyRGV0YWlscy5kYXRhKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRlbmRlckNyZWF0b3IgPSB0ZW5kZXJEZXRhaWxzLmRhdGEuY3JlYXRvci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudCA9IGFjY291bnQ/LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ29tcGFyaW5nIGFjY291bnRzIGZvciB0ZW5kZXIgJHtibG9ja2NoYWluVGVuZGVySWR9OmAsIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgICAgICAgICAgY3JlYXRvcjogdGVuZGVyRGV0YWlscy5kYXRhLmNyZWF0b3IsXG4gICAgICAgICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsb3dlcmNhc2U6IHtcbiAgICAgICAgICAgICAgICAgIGNyZWF0b3I6IHRlbmRlckNyZWF0b3IsXG4gICAgICAgICAgICAgICAgICBhY2NvdW50OiBjdXJyZW50QWNjb3VudFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXF1YWw6IHRlbmRlckNyZWF0b3IgPT09IGN1cnJlbnRBY2NvdW50XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHRlbmRlckNyZWF0b3IgPT09IGN1cnJlbnRBY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAn0JLRiyDQvdC1INC80L7QttC10YLQtSDRg9GH0LDRgdGC0LLQvtCy0LDRgtGMINCyINGB0LLQvtC10Lwg0YHQvtCx0YHRgtCy0LXQvdC90L7QvCDRgtC10L3QtNC10YDQtS4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC40YHQv9C+0LvRjNC30YPQudGC0LUg0LTRgNGD0LPQvtC5INCw0LrQutCw0YPQvdGCIE1ldGFNYXNrLic7XG4gICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoZXJyb3JNc2csIHsgaWQ6ICdiaWQtc3VibWlzc2lvbicgfSk7XG4gICAgICAgICAgICAgICAgc2V0QmlkU3VibWlzc2lvbkVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8g0JXRgdC70Lgg0YLQtdC90LTQtdGAINC90LUg0YHRg9GJ0LXRgdGC0LLRg9C10YIg0LIg0LHQu9C+0LrRh9C10LnQvdC1LCDQvdC+INGDINC90LDRgSDQtdGB0YLRjCDQtNC10YLQsNC70Lgg0YLQtdC90LTQtdGA0LAg0LjQtyDQsdCw0LfRiyDQtNCw0L3QvdGL0YUsXG4gICAgICAgICAgLy8g0L/QvtC/0YDQvtCx0YPQtdC8INGB0L7Qt9C00LDRgtGMINC10LPQviDQsiDQsdC70L7QutGH0LXQudC90LVcbiAgICAgICAgICBpZiAoIXRlbmRlckV4aXN0cyAmJiB0ZW5kZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBUZW5kZXIgJHtibG9ja2NoYWluVGVuZGVySWR9IGRvZXNuJ3QgZXhpc3QgaW4gYmxvY2tjaGFpbi4gQXR0ZW1wdGluZyB0byBtaWdyYXRlIGl0IGZyb20gZGF0YWJhc2UuYCk7XG4gICAgICAgICAgICB0b2FzdC5sb2FkaW5nKCfQotC10L3QtNC10YAg0L3QtSDQvdCw0LnQtNC10L0g0LIg0LHQu9C+0LrRh9C10LnQvdC1LiDQn9C+0L/Ri9GC0LrQsCDQvNC40LPRgNCw0YbQuNC4INC40Lcg0LHQsNC30Ysg0LTQsNC90L3Ri9GFLi4uJywgeyBpZDogJ2JpZC1zdWJtaXNzaW9uJyB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0LTQsNGC0YMg0LTQtdC00LvQsNC50L3QsFxuICAgICAgICAgICAgICBjb25zdCBkZWFkbGluZURhdGUgPSBuZXcgRGF0ZSh0ZW5kZXIuZGVhZGxpbmUpO1xuICAgICAgICAgICAgICBjb25zdCBkZWFkbGluZVRpbWVzdGFtcCA9IE1hdGguZmxvb3IoZGVhZGxpbmVEYXRlLmdldFRpbWUoKSAvIDEwMDApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0LTQsNGC0YMg0LjRgdGC0LXRh9C10L3QuNGPICjQv9C+INGD0LzQvtC70YfQsNC90LjRjiArMSDQtNC10L3RjClcbiAgICAgICAgICAgICAgY29uc3QgZXhwaXJhdGlvbk1pbnV0ZXMgPSAxNDQwOyAvLyAyNCDRh9Cw0YHQsFxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQvdGD0LbQvdGL0LUg0YfQuNGB0LvQvtCy0YvQtSDQv9Cw0YDQsNC80LXRgtGA0YtcbiAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0ZW5kZXIuZGlzdGFuY2UgfHwgMTAwO1xuICAgICAgICAgICAgICBjb25zdCB3ZWlnaHQgPSB0ZW5kZXIud2VpZ2h0IHx8IDEwMDtcbiAgICAgICAgICAgICAgY29uc3QgY2FyZ29UeXBlID0gdGVuZGVyLmNhcmdvVHlwZSB8fCBcImdlbmVyYWxcIjtcbiAgICAgICAgICAgICAgY29uc3QgdXJnZW5jeURheXMgPSB0ZW5kZXIudXJnZW5jeURheXMgfHwgNztcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0aW5nIHRvIGNyZWF0ZSB0ZW5kZXIgaW4gYmxvY2tjaGFpbiB3aXRoIHBhcmFtczpgLCB7XG4gICAgICAgICAgICAgICAgaWQ6IGJsb2NrY2hhaW5UZW5kZXJJZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogdGVuZGVyLnRpdGxlLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0ZW5kZXIuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgYnVkZ2V0OiB0ZW5kZXIuYnVkZ2V0LFxuICAgICAgICAgICAgICAgIGRlYWRsaW5lOiBkZWFkbGluZVRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSwgd2VpZ2h0LCBjYXJnb1R5cGUsIHVyZ2VuY3lEYXlzLCBleHBpcmF0aW9uTWludXRlc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vINCS0YvQt9GL0LLQsNC10Lwg0YTRg9C90LrRhtC40Y4g0YHQvtC30LTQsNC90LjRjyDRgtC10L3QtNC10YDQsCDQsiDQsdC70L7QutGH0LXQudC90LVcbiAgICAgICAgICAgICAgY29uc3QgY3JlYXRlUmVzdWx0ID0gYXdhaXQgY3JlYXRlVGVuZGVyKFxuICAgICAgICAgICAgICAgIHRlbmRlci50aXRsZSxcbiAgICAgICAgICAgICAgICB0ZW5kZXIuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgdGVuZGVyLmJ1ZGdldCxcbiAgICAgICAgICAgICAgICBkZWFkbGluZVRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgICAgICAgICB3ZWlnaHQsXG4gICAgICAgICAgICAgICAgY2FyZ29UeXBlLFxuICAgICAgICAgICAgICAgIHVyZ2VuY3lEYXlzLFxuICAgICAgICAgICAgICAgIGV4cGlyYXRpb25NaW51dGVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoY3JlYXRlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IG1pZ3JhdGVkIHRlbmRlciB0byBibG9ja2NoYWluIHdpdGggSUQ6ICR7Y3JlYXRlUmVzdWx0LmRhdGE/LmlkfWApO1xuICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ9Ci0LXQvdC00LXRgCDRg9GB0L/QtdGI0L3QviDQvNC40LPRgNC40YDQvtCy0LDQvSDQsiDQsdC70L7QutGH0LXQudC9IScsIHsgaWQ6ICdiaWQtc3VibWlzc2lvbicgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8g0JjRgdC/0L7Qu9GM0LfRg9C10Lwg0L3QvtCy0YvQuSBJRCDQuNC3INCx0LvQvtC60YfQtdC50L3QsFxuICAgICAgICAgICAgICAgIGJsb2NrY2hhaW5UZW5kZXJJZCA9IGNyZWF0ZVJlc3VsdC5kYXRhPy5pZCB8fCBibG9ja2NoYWluVGVuZGVySWQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbWlncmF0ZSB0ZW5kZXI6ICR7Y3JlYXRlUmVzdWx0LmVycm9yfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChtaWdyYXRpb25FcnI6IGFueSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtaWdyYXRpbmcgdGVuZGVyIHRvIGJsb2NrY2hhaW46JywgbWlncmF0aW9uRXJyKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDQndC1INGD0LTQsNC70L7RgdGMINC80LjQs9GA0LjRgNC+0LLQsNGC0Ywg0YLQtdC90LTQtdGAINCyINCx0LvQvtC60YfQtdC50L06ICR7bWlncmF0aW9uRXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghdGVuZGVyRXhpc3RzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRlbmRlciB3aXRoIElEICR7YmxvY2tjaGFpblRlbmRlcklkfSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgYmxvY2tjaGFpbi4gSXQgbWF5IGhhdmUgYmVlbiByZW1vdmVkIG9yIG5ldmVyIGV4aXN0ZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vINCS0YvQt9GL0LLQsNC10Lwg0YTRg9C90LrRhtC40Y4g0LTQu9GPINCx0LvQvtC60YfQtdC50L3QsCAtINGC0LXQv9C10YDRjCDQuNGB0L/QvtC70YzQt9GD0LXQvCBzdWJtaXRCaWQsINC60L7RgtC+0YDQsNGPINCy0YvQt9GL0LLQsNC10YIgdGFrZVRlbmRlclxuICAgICAgICAgIC8vINCU0L7Qv9C+0LvQvdC40YLQtdC70YzQvdCw0Y8g0L/RgNC+0LLQtdGA0LrQsCDQv9C10YDQtdC0INC+0YLQv9GA0LDQstC60L7QuVxuICAgICAgICAgIGNvbnN0IG51bWVyaWNJZCA9IHBhcnNlSW50KGJsb2NrY2hhaW5UZW5kZXJJZCk7XG4gICAgICAgICAgaWYgKGlzTmFOKG51bWVyaWNJZCkgfHwgbnVtZXJpY0lkIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg0J3QtdC00L7Qv9GD0YHRgtC40LzRi9C5IElEINGC0LXQvdC00LXRgNCwOiAke2Jsb2NrY2hhaW5UZW5kZXJJZH0uIElEINC00L7Qu9C20LXQvSDQsdGL0YLRjCDQv9C+0LvQvtC20LjRgtC10LvRjNC90YvQvCDRh9C40YHQu9C+0LwuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHN1Ym1pdEJpZChibG9ja2NoYWluVGVuZGVySWQsIHBhcnNlRmxvYXQoYW1vdW50KSwgcHJvcG9zYWwpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RlbmRlciB0YWtlbiBzdWNjZXNzZnVsbHk6JywgcmVzdWx0KTtcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ9CS0Ysg0YPRgdC/0LXRiNC90L4g0LLQt9GP0LvQuCDRgtC10L3QtNC10YAg0LIg0YDQsNCx0L7RgtGDIScsIHsgaWQ6ICdiaWQtc3VibWlzc2lvbicsIGR1cmF0aW9uOiA1MDAwIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDQn9C+0LrQsNC30LDRgtGMIGhhc2gg0YLRgNCw0L3Qt9Cw0LrRhtC40LgsINC10YHQu9C4INC00L7RgdGC0YPQv9C10L1cbiAgICAgICAgICAgIGlmIChyZXN1bHQuaGFzaCkge1xuICAgICAgICAgICAgICBjb25zdCB0eEhhc2ggPSByZXN1bHQuaGFzaDtcbiAgICAgICAgICAgICAgY29uc3QgdHJ1bmNhdGVkSGFzaCA9IGAke3R4SGFzaC5zbGljZSgwLCA2KX0uLi4ke3R4SGFzaC5zbGljZSgtNCl9YDtcbiAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPHA+0KLRgNCw0L3Qt9Cw0LrRhtC40Y8g0LLRi9C/0L7Qu9C90LXQvdCwITwvcD5cbiAgICAgICAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICAgICAgICBocmVmPXtgaHR0cHM6Ly9zZXBvbGlhLmV0aGVyc2Nhbi5pby90eC8ke3R4SGFzaH1gfSBcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCIgXG4gICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwIHVuZGVybGluZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgINCf0L7RgdC80L7RgtGA0LXRgtGMINGC0YDQsNC90LfQsNC60YbQuNGOIHt0cnVuY2F0ZWRIYXNofVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PixcbiAgICAgICAgICAgICAgICB7IGlkOiAndHgtc3VjY2VzcycsIGR1cmF0aW9uOiAxMDAwMCB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vINCX0LDQutGA0YvQstCw0LXQvCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cbiAgICAgICAgICAgIHNldEFtb3VudCgnJyk7XG4gICAgICAgICAgICBzZXRQcm9wb3NhbCgnJyk7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDRgdGC0YDQsNC90LjRhtGDINGA0L7QtNC40YLQtdC70Y9cbiAgICAgICAgICAgIGlmIChvbkJpZFN1Ym1pdHRlZCkge1xuICAgICAgICAgICAgICBhd2FpdCBvbkJpZFN1Ym1pdHRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yIHx8ICfQndC10LjQt9Cy0LXRgdGC0L3QsNGPINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDQt9Cw0Y/QstC60LgnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdGFraW5nIHRlbmRlcjonLCBlcnIpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vINCk0L7RgNC80LjRgNGD0LXQvCDQv9C+0L3Rj9GC0L3QvtC1INGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtSDQtNC70Y8g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQstC30Y/RgtC40Lgg0YLQtdC90LTQtdGA0LAg0LIg0YDQsNCx0L7RgtGDJztcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygndXNlciByZWplY3RlZCB0cmFuc2FjdGlvbicpKSB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICfQktGLINC+0YLQvNC10L3QuNC70Lgg0YLRgNCw0L3Qt9Cw0LrRhtC40Y4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnVGVuZGVyIGRvZXMgbm90IGV4aXN0JykpIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ9Ci0LXQvdC00LXRgCDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCINCyINCx0LvQvtC60YfQtdC50L3QtSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdDYW5ub3QgdGFrZSB5b3VyIG93biB0ZW5kZXInKSkge1xuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAn0JLRiyDQvdC1INC80L7QttC10YLQtSDQstC30Y/RgtGMINCyINGA0LDQsdC+0YLRgyDRgdCy0L7QuSDRgdC+0LHRgdGC0LLQtdC90L3Ri9C5INGC0LXQvdC00LXRgCc7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhZGRyZXNzZXMgYXJlIGRpZmZlcmVudCBpbiBjYXNpbmcgYnV0IHNhbWUgdmFsdWVcbiAgICAgICAgICAgICAgbGV0IHJlcG9ydGVkQ3JlYXRvciA9ICcnO1xuICAgICAgICAgICAgICBpZiAodGVuZGVyLmNyZWF0b3IgJiYgYWNjb3VudCkge1xuICAgICAgICAgICAgICAgIHJlcG9ydGVkQ3JlYXRvciA9IHRlbmRlci5jcmVhdG9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbWVBZGRyZXNzRGlmZmVyZW50Q2FzZSA9IFxuICAgICAgICAgICAgICAgICAgdGVuZGVyLmNyZWF0b3IudG9Mb3dlckNhc2UoKSA9PT0gYWNjb3VudC50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgICAgICAgICAgICB0ZW5kZXIuY3JlYXRvciAhPT0gYWNjb3VudDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoc2FtZUFkZHJlc3NEaWZmZXJlbnRDYXNlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGV0ZWN0ZWQgc2FtZSBhZGRyZXNzIHdpdGggZGlmZmVyZW50IGNhc2U6Jywge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRlZDogdGVuZGVyLmNyZWF0b3IsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgIHNhbWVXaGVuTG93ZXJjYXNlOiB0ZW5kZXIuY3JlYXRvci50b0xvd2VyQ2FzZSgpID09PSBhY2NvdW50LnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9ICcuINCQ0LTRgNC10YEg0YLQtdC90LTQtdGA0LAg0Lgg0LLQsNGIINCw0LTRgNC10YEg0YHQvtCy0L/QsNC00LDRjtGCLCDQvdC+INC40LzQtdGO0YIg0YDQsNC30L3Ri9C5INGA0LXQs9C40YHRgtGAINCx0YPQutCyLic7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSB3aXRoIG1vcmUgaGVscGZ1bCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGRcIj7QrdGC0L4g0LLQsNGIINGC0LXQvdC00LXRgCwg0L3QviDQsNC00YDQtdGB0LAg0LfQsNC/0LjRgdCw0L3RiyDQv9C+LdGA0LDQt9C90L7QvNGDPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbXQtMVwiPtCS0LDRiCDQsNC00YDQtdGBOiB7YWNjb3VudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPtCQ0LTRgNC10YEg0YHQvtC30LTQsNGC0LXQu9GPOiB7dGVuZGVyLmNyZWF0b3J9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbXQtMlwiPtCt0YLQuCDQsNC00YDQtdGB0LAg0YHRh9C40YLQsNGO0YLRgdGPINC+0LTQuNC90LDQutC+0LLRi9C80Lgg0LIg0LHQu9C+0LrRh9C10LnQvdC1PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4sXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdvd25lci1lcnJvcicsIGR1cmF0aW9uOiAxMDAwMCB9XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBvd25lciBhY2NvdW50IGVycm9yLCBhZGQgbW9yZSBkZXRhaWxzXG4gICAgICAgICAgICAgIHRvYXN0LmVycm9yKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGRcIj7QktGLINC90LUg0LzQvtC20LXRgtC1INCy0LfRj9GC0Ywg0YHQstC+0Lkg0YHQvtCx0YHRgtCy0LXQvdC90YvQuSDRgtC10L3QtNC10YA8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG10LTFcIj7Qn9C+0LbQsNC70YPQudGB0YLQsCwg0L/QtdGA0LXQutC70Y7Rh9C40YLQtdGB0Ywg0L3QsCDQtNGA0YPQs9C+0Lkg0LDQutC60LDRg9C90YIg0LIgTWV0YU1hc2s8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+LFxuICAgICAgICAgICAgICAgIHsgaWQ6ICdvd25lci1lcnJvcicsIGR1cmF0aW9uOiA4MDAwIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIERlYnVnIGluZm8gaW4gY29uc29sZVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdPd25lciBhY2NvdW50IGVycm9yOicsIHtcbiAgICAgICAgICAgICAgICB0ZW5kZXJDcmVhdG9yOiB0ZW5kZXIuY3JlYXRvcixcbiAgICAgICAgICAgICAgICBjdXJyZW50QWNjb3VudDogYWNjb3VudCxcbiAgICAgICAgICAgICAgICB0ZW5kZXJJZDogdGVuZGVyLmlkLFxuICAgICAgICAgICAgICAgIG51bWVyaWNJZDogYmxvY2tjaGFpblRlbmRlcklkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnVGVuZGVyIGlzIG5vdCBvcGVuJykpIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ9Ci0LXQvdC00LXRgCDRg9C20LUg0L3QtSDQvtGC0LrRgNGL0YIg0LTQu9GPINGD0YfQsNGB0YLQuNGPJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ1RlbmRlciBoYXMgZXhwaXJlZCcpKSB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICfQodGA0L7QuiDQtNC10LnRgdGC0LLQuNGPINGC0LXQvdC00LXRgNCwINC40YHRgtC10LonO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYNCe0YjQuNCx0LrQsDogJHtlcnIubWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRCaWRTdWJtaXNzaW9uRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICB0b2FzdC5lcnJvcihlcnJvck1lc3NhZ2UsIHsgaWQ6ICdiaWQtc3VibWlzc2lvbicgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vINCR0LvQvtC60YfQtdC50L0g0L3QtdC00L7RgdGC0YPQv9C10L0gLSDQv9C+0LrQsNC30YvQstCw0LXQvCDQvtGI0LjQsdC60YNcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gJ9Ch0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgiDQvdC10LTQvtGB0YLRg9C/0LXQvS4g0J/RgNC+0LLQtdGA0YzRgtC1INC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LogTWV0YU1hc2suJztcbiAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoZXJyb3JNZXNzYWdlLCB7IGlkOiAnYmlkLXN1Ym1pc3Npb24nIH0pO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3VibWl0dGluZyBiaWQ6JywgZXJyKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn0J7RiNC40LHQutCwINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INC30LDRj9Cy0LrQuCc7XG4gICAgICBcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB0b2FzdC5lcnJvcihg0J7RiNC40LHQutCwOiAke2Vycm9yTWVzc2FnZX1gLCB7IGlkOiAnYmlkLXN1Ym1pc3Npb24nIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFthY2NvdW50LCB0ZW5kZXIuaWQsIGFtb3VudCwgcHJvcG9zYWwsIHN1Ym1pdEJpZCwgb25DbG9zZSwgb25CaWRTdWJtaXR0ZWQsIGlzQ29udHJhY3RBdmFpbGFibGUsIGNoZWNrVGVuZGVyRXhpc3RzXSk7XG4gIFxuICBjb25zdCBoYW5kbGVUYWtlVGVuZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYWNjb3VudCkge1xuICAgICAgc2V0RXJyb3IoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQv9C+0LTQutC70Y7Rh9C40YLQtSDQutC+0YjQtdC70LXQuicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXRlbmRlci5mcm9tQmxvY2tjaGFpbikge1xuICAgICAgc2V0RXJyb3IoJ9Ck0YPQvdC60YbQuNGPIFwi0JfQsNCx0YDQsNGC0Ywg0YLQtdC90LTQtdGAXCIg0LTQvtGB0YLRg9C/0L3QsCDRgtC+0LvRjNC60L4g0LTQu9GPINGC0LXQvdC00LXRgNC+0LIg0LIg0LHQu9C+0LrRh9C10LnQvdC1Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICghaXNDb250cmFjdEF2YWlsYWJsZSkge1xuICAgICAgc2V0RXJyb3IoJ9Ch0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgiDQvdC10LTQvtGB0YLRg9C/0LXQvS4g0KPQsdC10LTQuNGC0LXRgdGMLCDRh9GC0L4gTWV0YU1hc2sg0L/QvtC00LrQu9GO0YfQtdC9INC6INC/0YDQsNCy0LjQu9GM0L3QvtC5INGB0LXRgtC4LicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhgVGFraW5nIHRlbmRlciAke3RlbmRlci5pZH1gKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRha2VUZW5kZXIodGVuZGVyLmlkKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBjb25zb2xlLmxvZygnVGVuZGVyIHRha2VuIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKCfQktGLINGD0YHQv9C10YjQvdC+INC30LDQsdGA0LDQu9C4INGC0LXQvdC00LXRgCEnKTtcbiAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICBpZiAob25CaWRTdWJtaXR0ZWQpIHtcbiAgICAgICAgICBhd2FpdCBvbkJpZFN1Ym1pdHRlZCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQ/LmVycm9yIHx8ICfQntGI0LjQsdC60LAg0L/RgNC4INCy0LfRj9GC0LjQuCDRgtC10L3QtNC10YDQsCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdGFraW5nIHRlbmRlcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICfQntGI0LjQsdC60LAg0L/RgNC4INCy0LfRj9GC0LjQuCDRgtC10L3QtNC10YDQsCcpO1xuICAgICAgdG9hc3QuZXJyb3IoYNCe0YjQuNCx0LrQsDogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0LLQt9GP0YLRjCDRgtC10L3QtNC10YAnfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFthY2NvdW50LCB0ZW5kZXIuaWQsIHRlbmRlci5mcm9tQmxvY2tjaGFpbiwgdGFrZVRlbmRlciwgaXNDb250cmFjdEF2YWlsYWJsZSwgb25DbG9zZSwgb25CaWRTdWJtaXR0ZWRdKTtcbiAgXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcbiAgXG4gIGNvbnN0IGdldFN0YXR1c1RleHQgPSAoc3RhdHVzOiBUZW5kZXJTdGF0dXMpID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSAnT1BFTic6IHJldHVybiAn0J7RgtC60YDRi9GCJztcbiAgICAgIGNhc2UgJ0FXQVJERUQnOiByZXR1cm4gJ9Cf0YDQuNGB0YPQttC00LXQvSc7XG4gICAgICBjYXNlICdDT01QTEVURUQnOiByZXR1cm4gJ9CX0LDQstC10YDRiNC10L0nO1xuICAgICAgY2FzZSAnQ0FOQ0VMTEVEJzogcmV0dXJuICfQntGC0LzQtdC90LXQvSc7XG4gICAgICBjYXNlICdDTE9TRUQnOiByZXR1cm4gJ9CX0LDQutGA0YvRgic7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gc3RhdHVzO1xuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IGdldFN0YXR1c0NsYXNzID0gKHN0YXR1czogVGVuZGVyU3RhdHVzKSA9PiB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgJ09QRU4nOiByZXR1cm4gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCc7XG4gICAgICBjYXNlICdBV0FSREVEJzogcmV0dXJuICdiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwJztcbiAgICAgIGNhc2UgJ0NPTVBMRVRFRCc6IHJldHVybiAnYmctcHVycGxlLTEwMCB0ZXh0LXB1cnBsZS04MDAnO1xuICAgICAgY2FzZSAnQ0FOQ0VMTEVEJzogcmV0dXJuICdiZy1yZWQtMTAwIHRleHQtcmVkLTgwMCc7XG4gICAgICBjYXNlICdDTE9TRUQnOiByZXR1cm4gJ2JnLWdyYXktMTAwIHRleHQtZ3JheS04MDAnO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktODAwJztcbiAgICB9XG4gIH07XG4gIFxuICBjb25zdCBnZXRDYXJnb1R5cGVUZXh0ID0gKHR5cGU/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXR5cGUpIHJldHVybiAn0J7QsdGL0YfQvdGL0LknO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZ2VuZXJhbCc6IHJldHVybiAn0J7QsdGL0YfQvdGL0LknO1xuICAgICAgY2FzZSAnZnJhZ2lsZSc6IHJldHVybiAn0KXRgNGD0L/QutC40LknO1xuICAgICAgY2FzZSAncGVyaXNoYWJsZSc6IHJldHVybiAn0KHQutC+0YDQvtC/0L7RgNGC0Y/RidC40LnRgdGPJztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiB0eXBlO1xuICAgIH1cbiAgfTtcbiAgXG4gIGNvbnN0IHJlbmRlclBhcnRpY2lwYXRpb25CdXR0b25zID0gKCkgPT4ge1xuICAgIGlmICghYWNjb3VudCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy15ZWxsb3ctNTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctMjAwIHAtNCByb3VuZGVkXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctODAwIG1iLTJcIj7QlNC70Y8g0YPRh9Cw0YHRgtC40Y8g0L3QtdC+0LHRhdC+0LTQuNC80L4g0L/QvtC00LrQu9GO0YfQuNGC0Ywg0LrQvtGI0LXQu9C10Lo8L3A+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHgtNiBweS0zIHJvdW5kZWQtbWQgZm9udC1tZWRpdW0gdy1mdWxsIHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvY29ubmVjdC13YWxsZXRcIn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICDQn9C+0LTQutC70Y7Rh9C40YLRjCDQutC+0YjQtdC70LXQulxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIGlmIChpc0NyZWF0b3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS01MCBwLTQgcm91bmRlZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmx1ZS04MDAgZm9udC1tZWRpdW1cIj7QktGLINGB0L7Qt9C00LDRgtC10LvRjCDRjdGC0L7Qs9C+INGC0LXQvdC00LXRgNCwPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaXRhbGljIHRleHQtc21cIj7QktGLINC90LUg0LzQvtC20LXRgtC1INGD0YfQsNGB0YLQstC+0LLQsNGC0Ywg0LIg0YHQvtCx0YHRgtCy0LXQvdC90L7QvCDRgtC10L3QtNC10YDQtTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2hvd0JpZEZvcm0pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgcHQtNlwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj7Qn9C+0LTQsNGC0Ywg0LfQsNGP0LLQutGDPC9oMz5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0QmlkfSBjbGFzc05hbWU9XCJtdC00IHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJiaWQtYW1vdW50XCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAg0KHRg9C80LzQsCAoVVNEKVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICBpZD1cImJpZC1hbW91bnRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgYmxvY2sgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyLWdyYXktMzAwIHNoYWRvdy1zbSBmb2N1czpib3JkZXItYmx1ZS01MDAgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDQstCw0YjRgyDRgdGC0LDQstC60YNcIlxuICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJiaWQtcHJvcG9zYWxcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICDQn9GA0LXQtNC70L7QttC10L3QuNC1XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIGlkPVwiYmlkLXByb3Bvc2FsXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvcG9zYWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9wb3NhbChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXItZ3JheS0zMDAgc2hhZG93LXNtIGZvY3VzOmJvcmRlci1ibHVlLTUwMCBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0J7Qv9C40YjQuNGC0LUg0LLQsNGI0LUg0L/RgNC10LTQu9C+0LbQtdC90LjQtVwiXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYmctcmVkLTUwIHAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXJlZC00MDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEwIDE4YTggOCAwIDEwMC0xNiA4IDggMCAwMDAgMTZ6TTguNzA3IDcuMjkzYTEgMSAwIDAwLTEuNDE0IDEuNDE0TDguNTg2IDEwbC0xLjI5MyAxLjI5M2ExIDEgMCAxMDEuNDE0IDEuNDE0TDEwIDExLjQxNGwxLjI5MyAxLjI5M2ExIDEgMCAwMDEuNDE0LTEuNDE0TDExLjQxNCAxMGwxLjI5My0xLjI5M2ExIDEgMCAwMC0xLjQxNC0xLjQxNEwxMCA4LjU4NiA4LjcwNyA3LjI5M3pcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNzAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtiaWRTdWJtaXNzaW9uRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYmcteWVsbG93LTUwIHAtNCBib3JkZXIgYm9yZGVyLXllbGxvdy0zMDAgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQteWVsbG93LTQwMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNOC4yNTcgMy4wOTljLjc2NS0xLjM2IDIuNzIyLTEuMzYgMy40ODYgMGw1LjU4IDkuOTJjLjc1IDEuMzM0LS4yMTMgMi45OC0xLjc0MiAyLjk4SDQuNDJjLTEuNTMgMC0yLjQ5My0xLjY0Ni0xLjc0My0yLjk4bDUuNTgtOS45MnpNMTEgMTNhMSAxIDAgMTEtMiAwIDEgMSAwIDAxMiAwem0tMS04YTEgMSAwIDAwLTEgMXYzYTEgMSAwIDAwMiAwVjZhMSAxIDAgMDAtMS0xelwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTMgZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQteWVsbG93LTgwMFwiPtCf0YDQvtCx0LvQtdC80LAg0YEg0L7RgtC/0YDQsNCy0LrQvtC5INC30LDRj9Cy0LrQuDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC15ZWxsb3ctNzAwIG10LTEgZm9udC1zZW1pYm9sZFwiPntiaWRTdWJtaXNzaW9uRXJyb3J9PC9wPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge2JpZFN1Ym1pc3Npb25FcnJvcj8uaW5jbHVkZXMoJ9C90LUg0YHRg9GJ0LXRgdGC0LLRg9C10YInKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC15ZWxsb3ctNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+0JLQvtC30LzQvtC20L3Ri9C1INC/0YDQuNGH0LjQvdGLOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZGlzYyBwbC01IG10LTEgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCi0LXQvdC00LXRgCDQsdGL0Lsg0LfQsNC60YDRi9GCINC40LvQuCDQvtGC0LzQtdC90LXQvSDRgdC+0LfQtNCw0YLQtdC70LXQvDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCi0LXQvdC00LXRgCDQsdGL0Lsg0YPQtNCw0LvQtdC9INC40Lcg0LHQu9C+0LrRh9C10LnQvdCwPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0JLRiyDQuNGB0L/QvtC70YzQt9GD0LXRgtC1INGD0YHRgtCw0YDQtdCy0YjQuNC1INC00LDQvdC90YvQtTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPklEINGC0LXQvdC00LXRgNCwINC90LUg0YHQvtC+0YLQstC10YLRgdGC0LLRg9C10YIg0LrQvtC90YLRgNCw0LrRgtGDPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiBmb250LW1lZGl1bVwiPtCg0LXQutC+0LzQtdC90LTRg9C10LzRi9C1INC00LXQudGB0YLQstC40Y86PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1kaXNjIHBsLTUgbXQtMSBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J7QsdC90L7QstC40YLQtSDRgdGC0YDQsNC90LjRhtGDINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LDQutGC0YPQsNC70YzQvdGL0YUg0LTQsNC90L3Ri9GFPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J/RgNC+0LLQtdGA0YzRgtC1INGB0L/QuNGB0L7QuiDQtNC+0YHRgtGD0L/QvdGL0YUg0YLQtdC90LTQtdGA0L7QsjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCV0YHQu9C4INC+0YjQuNCx0LrQsCDQv9C+0LLRgtC+0YDRj9C10YLRgdGPLCDQstC10YDQvdC40YLQtdGB0Ywg0L3QsCDQs9C70LDQstC90YPRjiDRgdGC0YDQsNC90LjRhtGDPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQtc20gYmctZ3JheS0xMDAgcC0zIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS03MDBcIj7QotC10YXQvdC40YfQtdGB0LrQsNGPINC40L3RhNC+0YDQvNCw0YbQuNGPOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIGZvbnQtbW9ubyB0ZXh0LXhzIHRleHQtZ3JheS02MDAgb3ZlcmZsb3ctYXV0byBtYXgtaC0zMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRlbmRlciBJRDoge3RlbmRlci5pZH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+Q29udHJhY3QgQXZhaWxhYmxlOiB7aXNDb250cmFjdEF2YWlsYWJsZSA/ICdZZXMnIDogJ05vJ308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+QmxvY2tjaGFpbiBNb2RlOiB7dGVuZGVyLmZyb21CbG9ja2NoYWluID8gJ1llcycgOiAnTm8nfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5OdW1lcmljIElEOiB7aXNOdW1lcmljSWQgPyAnWWVzJyA6ICdObyd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkNvbnRyYWN0IEFkZHJlc3M6IHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5FcnJvciBUaW1lc3RhbXA6IHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J7QsdC90L7QstC40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFpc0NvbnRyYWN0QXZhaWxhYmxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5sb2FkaW5nKCfQn9C10YDQtdC/0L7QtNC60LvRjtGH0LXQvdC40LUg0Log0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0YMuLi4nLCB7IGlkOiAnY29udHJhY3QtcmVjb25uZWN0JyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQn9GL0YLQsNC10LzRgdGPINC/0LXRgNC10L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INGB0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgtGDXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JfQsNC/0YDQsNGI0LjQstCw0LXQvCDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INC6IE1ldGFNYXNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogW3sgY2hhaW5JZDogJzB4YWEzNmE3JyB9XSAvLyBTZXBvbGlhIGNoYWluSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0L7RgdC70LUg0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0LXRgtC4INC/0YDQvtCy0LXRgNGP0LXQvCDRgdGC0LDRgtGD0YEg0LrQvtC90YLRgNCw0LrRgtCwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb250cmFjdEF2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKCfQodC80LDRgNGCLdC60L7QvdGC0YDQsNC60YIg0YPRgdC/0LXRiNC90L4g0L/QvtC00LrQu9GO0YfQtdC9IScsIHsgaWQ6ICdjb250cmFjdC1yZWNvbm5lY3QnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INGB0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgtGDLiDQn9C+0L/RgNC+0LHRg9C50YLQtSDQvtCx0L3QvtCy0LjRgtGMINGB0YLRgNCw0L3QuNGG0YMuJywgeyBpZDogJ2NvbnRyYWN0LXJlY29ubmVjdCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlY29ubmVjdGluZyB0byBjb250cmFjdDonLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKGDQntGI0LjQsdC60LA6ICR7ZXJyLm1lc3NhZ2UgfHwgJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QtdGA0LXQv9C+0LTQutC70Y7Rh9C40YLRjNGB0Y8nfWAsIHsgaWQ6ICdjb250cmFjdC1yZWNvbm5lY3QnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ01ldGFNYXNrINC90LUg0YPRgdGC0LDQvdC+0LLQu9C10L0hJywgeyBpZDogJ2NvbnRyYWN0LXJlY29ubmVjdCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JlZW4tNTAwIGhvdmVyOmJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD1cIjJcIiBkPVwiTTEzIDEwVjNMNCAxNGg3djdsOS0xMWgtN3pcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQn9C10YDQtdC/0L7QtNC60LvRjtGH0LjRgtGMINC60L7QvdGC0YDQsNC60YJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7YmlkU3VibWlzc2lvbkVycm9yPy5pbmNsdWRlcygn0LrQvtC90YLRgNCw0LrRgicpICYmICFiaWRTdWJtaXNzaW9uRXJyb3I/LmluY2x1ZGVzKCfQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCJykgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCf0YvRgtCw0LXQvNGB0Y8g0L/QtdGA0LXQv9C+0LTQutC70Y7Rh9C40YLRjNGB0Y8g0Log0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0YNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5sb2FkaW5nKCfQn9C10YDQtdC/0L7QtNC60LvRjtGH0LXQvdC40LUg0Log0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0YMuLi4nLCB7IGlkOiAnY29udHJhY3QtcmVjb25uZWN0JyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQl9Cw0L/RgNCw0YjQuNCy0LDQtdC8INC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LogTWV0YU1hc2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX3JlcXVlc3RBY2NvdW50cycgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHhhYTM2YTcnIH1dIC8vIFNlcG9saWEgY2hhaW5JZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0J/QvtGB0LvQtSDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0YHQtdGC0Lgg0L/RgNC+0LLQtdGA0Y/QtdC8INGB0YLQsNGC0YPRgSDQutC+0L3RgtGA0LDQutGC0LBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbnRyYWN0QXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ9Ch0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgiDRg9GB0L/QtdGI0L3QviDQv9C+0LTQutC70Y7Rh9C10L0hJywgeyBpZDogJ2NvbnRyYWN0LXJlY29ubmVjdCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LTQutC70Y7Rh9C40YLRjNGB0Y8g0Log0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0YMuINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC+0LHQvdC+0LLQuNGC0Ywg0YHRgtGA0LDQvdC40YbRgy4nLCB7IGlkOiAnY29udHJhY3QtcmVjb25uZWN0JyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnI6IEVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVjb25uZWN0aW5nIHRvIGNvbnRyYWN0OicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoYNCe0YjQuNCx0LrQsDogJHtlcnIubWVzc2FnZSB8fCAn0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C10YDQtdC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyd9YCwgeyBpZDogJ2NvbnRyYWN0LXJlY29ubmVjdCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcignTWV0YU1hc2sg0L3QtSDRg9GB0YLQsNC90L7QstC70LXQvSEnLCB7IGlkOiAnY29udHJhY3QtcmVjb25uZWN0JyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD1cIjJcIiBkPVwiTTEzIDEwVjNMNCAxNGg3djdsOS0xMWgtN3pcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICDQn9C10YDQtdC/0L7QtNC60LvRjtGH0LjRgtGMINC60L7QvdGC0YDQsNC60YJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JlZW4tNTAwIGhvdmVyOmJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD1cIjJcIiBkPVwiTTQgNHY1aC41ODJtMTUuMzU2IDJBOC4wMDEgOC4wMDEgMCAwMDQuNTgyIDltMCAwSDltMTEgMTF2LTVoLS41ODFtMCAwYTguMDAzIDguMDAzIDAgMDEtMTUuMzU3LTJtMTUuMzU3IDJIMTVcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICDQntCx0L3QvtCy0LjRgtGMINGB0YLRgNCw0L3QuNGG0YNcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QmlkRm9ybShmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMiBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLW1kIHNoYWRvdy1zbSB0ZXh0LWdyYXktNzAwIGJnLXdoaXRlIGhvdmVyOmJnLWdyYXktNTBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg0J7RgtC80LXQvdCwXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIWFjY291bnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1tZCBzaGFkb3ctc20gdGV4dC13aGl0ZSBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1ibHVlLTUwMCBkaXNhYmxlZDpiZy1ibHVlLTMwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIC1tbC0xIG1yLTIgaC00IHctNCB0ZXh0LXdoaXRlXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICB7bG9hZGluZyA/ICfQntGC0L/RgNCw0LLQutCwLi4uJyA6ICfQntGC0L/RgNCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDJ31cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8g0JHQu9C+0Log0LTQu9GPINC+0LHRi9GH0L3QvtC5INGE0L7RgNC80Ysg0YPRh9Cw0YHRgtC40Y9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgZ2FwLTQgYmctZ3JlZW4tNTAgcC02IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgbWItNCBzaGFkb3ctc21cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyZWVuLTgwMCB0ZXh0LWxnIG1iLTJcIj7Qo9GH0LDRgdGC0LLQvtCy0LDRgtGMINCyINGC0LXQvdC00LXRgNC1PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTcwMFwiPlxuICAgICAgICAgICAge3RlbmRlci5mcm9tQmxvY2tjaGFpbiBcbiAgICAgICAgICAgICAgPyBcItCt0YLQvtGCINGC0LXQvdC00LXRgCDRgdC+0LfQtNCw0L0g0LIg0LHQu9C+0LrRh9C10LnQvdC1LiDQktGLINC80L7QttC10YLQtSDQt9Cw0LHRgNCw0YLRjCDQtdCz0L4g0LjQu9C4INC+0YLQv9GA0LDQstC40YLRjCDQt9Cw0Y/QstC60YMg0YEg0LLQsNGI0LXQuSDRhtC10L3QvtC5LlwiXG4gICAgICAgICAgICAgIDogXCLQrdGC0L7RgiDRgtC10L3QtNC10YAg0YHQvtC30LTQsNC9INCyINCx0LDQt9C1INC00LDQvdC90YvRhS4g0JLRiyDQvNC+0LbQtdGC0LUg0L7RgtC/0YDQsNCy0LjRgtGMINC30LDRj9Cy0LrRgyDRgSDQstCw0YjQtdC5INGG0LXQvdC+0LkuXCJ9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGdhcC0zIHctZnVsbCBtZDp3LWF1dG9cIj5cbiAgICAgICAgICB7dGVuZGVyLmZyb21CbG9ja2NoYWluICYmIGlzQ29udHJhY3RBdmFpbGFibGUgJiYgKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUYWtlVGVuZGVyfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweC02IHB5LTMgcm91bmRlZC1tZCBkaXNhYmxlZDpiZy1ncmF5LTMwMCBmb250LW1lZGl1bSBmbGV4LTEgbWQ6ZmxleC1ub25lXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2xvYWRpbmcgPyAn0J7QsdGA0LDQsdC+0YLQutCwLi4uJyA6ICfQl9Cw0LHRgNCw0YLRjCDRgtC10L3QtNC10YAnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QmlkRm9ybSh0cnVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBweC02IHB5LTMgcm91bmRlZC1tZCBmb250LW1lZGl1bSBmbGV4LTEgbWQ6ZmxleC1ub25lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDQntGC0L/RgNCw0LLQuNGC0Ywg0LfQsNGP0LLQutGDXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcbiAgXG4gIC8vINCk0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINC40L3RhNC+0YDQvNCw0YbQuNC4INC+INCx0LvQvtC60YfQtdC50L3QtVxuICBjb25zdCByZW5kZXJCbG9ja2NoYWluSW5mbyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1ncmF5LTEwMCByb3VuZGVkIHRleHQtc21cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydFwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAg0KHRgtCw0YLRg9GBINGB0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgtCwOiB7aXNDb250cmFjdEF2YWlsYWJsZSA/IFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNjAwIGZvbnQtc2VtaWJvbGRcIj7QlNC+0YHRgtGD0L/QtdC9PC9zcGFuPiA6IFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCBmb250LXNlbWlib2xkXCI+0J3QtdC00L7RgdGC0YPQv9C10L08L3NwYW4+fVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+SUQg0YLQtdC90LTQtdGA0LA6IDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbW9ub1wiPnt0ZW5kZXIuaWR9PC9zcGFuPiAoe2lzTnVtZXJpY0lkID8gJ9GH0LjRgdC70L7QstC+0LknIDogJ9C90LUg0YfQuNGB0LvQvtCy0L7QuSd9KTwvcD5cbiAgICAgICAgICAgIDxwPtCY0YHRgtC+0YfQvdC40Log0LTQsNC90L3Ri9GFOiB7dGVuZGVyLmZyb21CbG9ja2NoYWluID8gXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDBcIj7QkdC70L7QutGH0LXQudC9PC9zcGFuPiA6IFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS02MDBcIj7QkdCw0LfQsCDQtNCw0L3QvdGL0YU8L3NwYW4+fVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyYXktNTAwIGhvdmVyOmJnLWdyYXktNjAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC0zIHctMyBtci0xXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTQgNHY1aC41ODJtMTUuMzU2IDJBOC4wMDEgOC4wMDEgMCAwMDQuNTgyIDltMCAwSDltMTEgMTF2LTVoLS41ODFtMCAwYTguMDAzIDguMDAzIDAgMDEtMTUuMzU3LTJtMTUuMzU3IDJIMTVcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAg0J7QsdC90L7QstC40YLRjFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgeyFpc0NvbnRyYWN0QXZhaWxhYmxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgcC0yIGJnLWFtYmVyLTUwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYW1iZXItNzAwIG1iLTEgdGV4dC14cyBmb250LW1lZGl1bVwiPtCU0LvRjyDQvtGC0L/RgNCw0LLQutC4INC30LDRj9Cy0LrQuCDRgtGA0LXQsdGD0LXRgtGB0Y8g0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQuiDRgdC80LDRgNGCLdC60L7QvdGC0YDQsNC60YLRgzwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTIgbXQtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHRvYXN0LmxvYWRpbmcoJ9Cf0L7QtNC60LvRjtGH0LXQvdC40LUg0Log0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0YMuLi4nLCB7IGlkOiAnY29udHJhY3QtY29ubmVjdCcgfSk7XG4gICAgICAgICAgICAgICAgICAvLyDQn9GL0YLQsNC10LzRgdGPINC/0LXRgNC10L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INGB0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgtGDXG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vINCX0LDQv9GA0LDRiNC40LLQsNC10Lwg0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQuiBNZXRhTWFza1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHhhYTM2YTcnIH1dIC8vIFNlcG9saWEgY2hhaW5JZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDQn9C+0YHQu9C1INC/0LXRgNC10LrQu9GO0YfQtdC90LjRjyDRgdC10YLQuCDQv9GA0L7QstC10YDRj9C10Lwg0YHRgtCw0YLRg9GBINC60L7QvdGC0YDQsNC60YLQsFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29udHJhY3RBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Quc3VjY2Vzcygn0KHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGCINGD0YHQv9C10YjQvdC+INC40L3QuNGG0LjQsNC70LjQt9C40YDQvtCy0LDQvSEnLCB7IGlkOiAnY29udHJhY3QtY29ubmVjdCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LTQutC70Y7Rh9C40YLRjNGB0Y8g0Log0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0YMuINCe0LHQvdC+0LLQuNGC0LUg0YHRgtGA0LDQvdC40YbRgy4nLCB7IGlkOiAnY29udHJhY3QtY29ubmVjdCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycjogRXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gTWV0YU1hc2s6JywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKGDQntGI0LjQsdC60LA6ICR7ZXJyLm1lc3NhZ2V9YCwgeyBpZDogJ2NvbnRyYWN0LWNvbm5lY3QnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ01ldGFNYXNrINC90LUg0YPRgdGC0LDQvdC+0LLQu9C10L0hJywgeyBpZDogJ2NvbnRyYWN0LWNvbm5lY3QnIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtMyB3LTMgbXItMVwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEzIDEwVjNMNCAxNGg3djdsOS0xMWgtN3pcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgINCf0L7QtNC60LvRjtGH0LjRgtGMIE1ldGFNYXNrXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgZmxleCBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC0zIHctMyBtci0xXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNVwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAg0J7QsdC90L7QstC40YLRjCDRgdGC0YDQsNC90LjRhtGDXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2Rhc2hib2FyZFwiO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyYXktNTAwIGhvdmVyOmJnLWdyYXktNjAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtMyB3LTMgbXItMVwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTMgMTJsMi0ybTAgMGw3LTcgNyA3TTUgMTB2MTBhMSAxIDAgMDAxIDFoM20xMC0xMWwyIDJtLTItMnYxMGExIDEgMCAwMS0xIDFoLTNtLTYgMGExIDEgMCAwMDEtMXYtNGExIDEgMCAwMTEtMWgyYTEgMSAwIDAxMSAxdjRhMSAxIDAgMDAxIDFtLTYgMGg2XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICDQktC10YDQvdGD0YLRjNGB0Y8g0L3QsCDQs9C70LDQstC90YPRjlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAge3RlbmRlci5mcm9tQmxvY2tjaGFpbiAmJiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICA8cD7QkNC00YDQtdGBINC60L7QvdGC0YDQsNC60YLQsDogPGEgXG4gICAgICAgICAgICAgIGhyZWY9e2BodHRwczovL3NlcG9saWEuZXRoZXJzY2FuLmlvL2FkZHJlc3MvJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTfWB9XG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwIHVuZGVybGluZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTfVxuICAgICAgICAgICAgPC9hPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHotNDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXhsIHctZnVsbCBtYXgtdy0zeGwgbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItNFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPnt0ZW5kZXIudGl0bGV9PC9oMj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTYgdy02XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBCbG9ja2NoYWluIHN0YXR1cyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtYi00IHRleHQtc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyICR7XG4gICAgICAgICAgICAgIGlzQ29udHJhY3RBdmFpbGFibGUgXG4gICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwJyBcbiAgICAgICAgICAgICAgICA6ICdiZy1hbWJlci0xMDAgdGV4dC1hbWJlci04MDAnXG4gICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGgtMiB3LTIgcm91bmRlZC1mdWxsIG1yLTEuNSAke1xuICAgICAgICAgICAgICAgIGlzQ29udHJhY3RBdmFpbGFibGUgPyAnYmctZ3JlZW4tNTAwJyA6ICdiZy1hbWJlci01MDAnXG4gICAgICAgICAgICAgIH1gfT48L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgIHtpc0NvbnRyYWN0QXZhaWxhYmxlIFxuICAgICAgICAgICAgICAgICAgPyAn0KHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGCINC00L7RgdGC0YPQv9C10L0nIFxuICAgICAgICAgICAgICAgICAgOiAn0KHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGCINC90LXQtNC+0YHRgtGD0L/QtdC9J31cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHt0ZW5kZXIuZnJvbUJsb2NrY2hhaW4gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTIgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsIGJnLWJsdWUtMTAwIHRleHQtYmx1ZS04MDAgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTFcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMyAxMFYzTDQgMTRoN3Y3bDktMTFoLTd6XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICDQkdC70L7QutGH0LXQudC9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC14cyBmb250LW1lZGl1bSBweC0yLjUgcHktMC41IHJvdW5kZWQgJHtnZXRTdGF0dXNDbGFzcyh0ZW5kZXIuc3RhdHVzKX1gfT5cbiAgICAgICAgICAgICAge2dldFN0YXR1c1RleHQodGVuZGVyLnN0YXR1cyl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt0ZW5kZXIudGltZUxlZnQgJiYgdGVuZGVyLnN0YXR1cyA9PT0gJ09QRU4nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc20gdGV4dC15ZWxsb3ctNzAwXCI+XG4gICAgICAgICAgICAgICAg0J7RgdGC0LDQu9C+0YHRjDoge3RlbmRlci50aW1lTGVmdH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgbWItNlwiPnt0ZW5kZXIuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNiBtYi04XCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTIgYm9yZGVyLWIgcGItMlwiPtCU0LXRgtCw0LvQuCDQs9GA0YPQt9CwPC9oMz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMFwiPtCg0LDRgdGB0YLQvtGP0L3QuNC1Ojwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgICA8c3Bhbj57dGVuZGVyLmRpc3RhbmNlIHx8IDB9INC60Lw8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwXCI+0JLQtdGBOjwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgICA8c3Bhbj57dGVuZGVyLndlaWdodCB8fCAwfSDQutCzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMFwiPtCi0LjQvyDQs9GA0YPQt9CwOjwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgICA8c3Bhbj57Z2V0Q2FyZ29UeXBlVGV4dCh0ZW5kZXIuY2FyZ29UeXBlKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwXCI+0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuDo8L3NwYW4+IFxuICAgICAgICAgICAgICAgICAgPHNwYW4+e3RlbmRlci51cmdlbmN5RGF5cyB8fCAxfSDQtNC90LXQuTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDBcIj7QkdGO0LTQttC10YI6PC9zcGFuPiBcbiAgICAgICAgICAgICAgICAgIDxzcGFuPiR7dGVuZGVyLmJ1ZGdldH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTIgYm9yZGVyLWIgcGItMlwiPtCY0L3RhNC+0YDQvNCw0YbQuNGPPC9oMz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMFwiPtCh0L7Qt9C00LDQvTo8L3NwYW4+IFxuICAgICAgICAgICAgICAgICAgPHNwYW4+e25ldyBEYXRlKHRlbmRlci5jcmVhdGVkQXQpLnRvTG9jYWxlU3RyaW5nKCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICB7dGVuZGVyLmV4cGlyZXNBdCAmJiAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwXCI+0JTQtdC50YHRgtCy0YPQtdGCINC00L46PC9zcGFuPiBcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e25ldyBEYXRlKHRlbmRlci5leHBpcmVzQXQpLnRvTG9jYWxlU3RyaW5nKCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDBcIj7QodGA0L7QuiDQuNGB0L/QvtC70L3QtdC90LjRjzo8L3NwYW4+IFxuICAgICAgICAgICAgICAgICAgPHNwYW4+e3R5cGVvZiB0ZW5kZXIuZGVhZGxpbmUgPT09ICdiaWdpbnQnIFxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKE51bWJlcih0ZW5kZXIuZGVhZGxpbmUpICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoKSBcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgRGF0ZSh0ZW5kZXIuZGVhZGxpbmUpLnRvTG9jYWxlU3RyaW5nKCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICB7dGVuZGVyLmNyZWF0b3IgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMFwiPtCh0L7Qt9C00LDRgtC10LvRjDo8L3NwYW4+IFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1vbm9cIj57dGVuZGVyLmNyZWF0b3Iuc3Vic3RyaW5nKDAsIDYpfS4uLnt0ZW5kZXIuY3JlYXRvci5zdWJzdHJpbmcodGVuZGVyLmNyZWF0b3IubGVuZ3RoIC0gNCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIERpc3BsYXkgYmxvY2tjaGFpbiBpbmZvcm1hdGlvbiAqL31cbiAgICAgICAgICB7cmVuZGVyQmxvY2tjaGFpbkluZm8oKX1cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IHB0LTRcIj5cbiAgICAgICAgICAgIHtyZW5kZXJQYXJ0aWNpcGF0aW9uQnV0dG9ucygpfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTIwMCBob3ZlcjpiZy1ncmF5LTMwMCB0ZXh0LWdyYXktODAwIHB4LTQgcHktMiByb3VuZGVkIG1yLTJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg0JfQsNC60YDRi9GC0YxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRlbmRlck1vZGFsOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlV2ViMyIsInVzZUNvbnRyYWN0VGVuZGVyIiwidXNlVGVuZGVyQVBJIiwidG9hc3QiLCJUZW5kZXJNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJ0ZW5kZXIiLCJpc0NyZWF0b3IiLCJvbkJpZFN1Ym1pdHRlZCIsImZvcmNlZEJsb2NrY2hhaW5Nb2RlIiwiYWNjb3VudCIsImlzTnVtZXJpY0lkIiwiaXNOYU4iLCJOdW1iZXIiLCJpZCIsInNob3dCaWRGb3JtIiwic2V0U2hvd0JpZEZvcm0iLCJhbW91bnQiLCJzZXRBbW91bnQiLCJwcm9wb3NhbCIsInNldFByb3Bvc2FsIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiYmlkU3VibWlzc2lvbkVycm9yIiwic2V0QmlkU3VibWlzc2lvbkVycm9yIiwic3VibWl0QmlkIiwiaXNDb250cmFjdEF2YWlsYWJsZSIsInRha2VUZW5kZXIiLCJnZXRUZW5kZXIiLCJjcmVhdGVUZW5kZXIiLCJ0ZW5kZXJBUEkiLCJjYW5Vc2VCbG9ja2NoYWluIiwiY2hlY2tUZW5kZXJFeGlzdHMiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwiZGF0YSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInJlYXNvbiIsIndhcm4iLCJoYW5kbGVTdWJtaXRCaWQiLCJlIiwicHJldmVudERlZmF1bHQiLCJibG9ja2NoYWluVGVuZGVySWQiLCJ0ZXN0IiwibnVtZXJpY1BhcnQiLCJtYXRjaCIsInBhcnNlSW50IiwiaGFzaENvZGUiLCJpIiwibGVuZ3RoIiwiY2hhckNvZGVBdCIsIk1hdGgiLCJhYnMiLCJ0b1N0cmluZyIsImVyciIsImVycm9yTXNnIiwiRXJyb3IiLCJyZXN1bHQiLCJjb250cmFjdEluc3RhbmNlIiwid2luZG93IiwiZXRoZXJldW0iLCJyZXF1ZXN0IiwibWV0aG9kIiwicGFyYW1zIiwidG8iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQ09OVFJBQ1RfQUREUkVTUyIsImNvdW50IiwiY291bnRFcnJvciIsInRlbmRlckV4aXN0cyIsInRlbmRlckRldGFpbHMiLCJ0ZW5kZXJDcmVhdG9yIiwiY3JlYXRvciIsInRvTG93ZXJDYXNlIiwiY3VycmVudEFjY291bnQiLCJvcmlnaW5hbCIsImxvd2VyY2FzZSIsImVxdWFsIiwiZGVhZGxpbmVEYXRlIiwiRGF0ZSIsImRlYWRsaW5lIiwiZGVhZGxpbmVUaW1lc3RhbXAiLCJmbG9vciIsImdldFRpbWUiLCJleHBpcmF0aW9uTWludXRlcyIsImRpc3RhbmNlIiwid2VpZ2h0IiwiY2FyZ29UeXBlIiwidXJnZW5jeURheXMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiYnVkZ2V0IiwiY3JlYXRlUmVzdWx0IiwibWlncmF0aW9uRXJyIiwibnVtZXJpY0lkIiwicGFyc2VGbG9hdCIsImR1cmF0aW9uIiwiaGFzaCIsInR4SGFzaCIsInRydW5jYXRlZEhhc2giLCJzbGljZSIsImRpdiIsInAiLCJhIiwiaHJlZiIsInRhcmdldCIsInJlbCIsImNsYXNzTmFtZSIsImVycm9yTWVzc2FnZSIsInJlcG9ydGVkQ3JlYXRvciIsInNhbWVBZGRyZXNzRGlmZmVyZW50Q2FzZSIsInJlcG9ydGVkIiwic2FtZVdoZW5Mb3dlcmNhc2UiLCJ0ZW5kZXJJZCIsImhhbmRsZVRha2VUZW5kZXIiLCJmcm9tQmxvY2tjaGFpbiIsImdldFN0YXR1c1RleHQiLCJzdGF0dXMiLCJnZXRTdGF0dXNDbGFzcyIsImdldENhcmdvVHlwZVRleHQiLCJ0eXBlIiwicmVuZGVyUGFydGljaXBhdGlvbkJ1dHRvbnMiLCJidXR0b24iLCJvbkNsaWNrIiwibG9jYXRpb24iLCJoMyIsImZvcm0iLCJvblN1Ym1pdCIsImxhYmVsIiwiaHRtbEZvciIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwibWluIiwicmVxdWlyZWQiLCJ0ZXh0YXJlYSIsInJvd3MiLCJzdmciLCJ4bWxucyIsInZpZXdCb3giLCJmaWxsIiwicGF0aCIsImZpbGxSdWxlIiwiZCIsImNsaXBSdWxlIiwidWwiLCJsaSIsInRvSVNPU3RyaW5nIiwicmVsb2FkIiwidGhlbiIsImNoYWluSWQiLCJzZXRUaW1lb3V0IiwiY2F0Y2giLCJzdHJva2UiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImRpc2FibGVkIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJyZW5kZXJCbG9ja2NoYWluSW5mbyIsInNwYW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsImgyIiwidGltZUxlZnQiLCJjcmVhdGVkQXQiLCJ0b0xvY2FsZVN0cmluZyIsImV4cGlyZXNBdCIsInN1YnN0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/TenderModal.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./hooks/useContractTender.ts":
/*!************************************!*\
  !*** ./hooks/useContractTender.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useContractTender)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useWeb3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useWeb3 */ \"(pages-dir-node)/./hooks/useWeb3.ts\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethers */ \"ethers\");\n/* harmony import */ var _abi_TenderChain_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../abi/TenderChain.json */ \"(pages-dir-node)/./abi/TenderChain.json\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_useWeb3__WEBPACK_IMPORTED_MODULE_1__, ethers__WEBPACK_IMPORTED_MODULE_2__]);\n([_useWeb3__WEBPACK_IMPORTED_MODULE_1__, ethers__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// Import the generated ABI\n\n// Fallback ABI in case the import fails\nconst FALLBACK_ABI = [\n    // Main functions\n    \"function createTender(string _title, string _description, uint256 _budget, uint256 _deadline, uint256 _distance, uint256 _weight, string _cargoType, uint256 _urgencyDays, uint256 _expirationMinutes) public returns (uint256)\",\n    \"function getTender(uint256 _id) public view returns (uint256 id, string title, string description, uint256 budget, uint256 deadline, uint256 distance, uint256 weight, string cargoType, uint256 urgencyDays, address creator, address bidder, uint8 status, uint256 createdAt, uint256 expiresAt)\",\n    \"function getActiveTenders() public view returns (uint256[] memory)\",\n    \"function takeTender(uint256 _id) public\",\n    \"function submitBid(uint256 _id, string _proposal) public payable\",\n    \"function completeTender(uint256 _id) public\",\n    \"function cancelTender(uint256 _id) public\",\n    // State variables\n    \"function tenderCount() public view returns (uint256)\",\n    \"function tenders(uint256) public view returns (uint256 id, string title, string description, uint256 budget, uint256 deadline, uint256 distance, uint256 weight, string cargoType, uint256 urgencyDays, address creator, address bidder, uint8 status, uint256 createdAt, uint256 expiresAt)\",\n    // Events\n    \"event TenderCreated(uint256 indexed id, string title, uint256 budget, address indexed creator, uint256 expiresAt)\",\n    \"event TenderTaken(uint256 indexed id, address indexed bidder, uint256 timestamp)\",\n    \"event BidSubmitted(uint256 indexed id, address indexed bidder, string proposal, uint256 amount, uint256 timestamp)\",\n    \"event TenderCompleted(uint256 indexed id, address indexed bidder, uint256 timestamp)\",\n    \"event TenderCancelled(uint256 indexed id, address indexed creator, uint256 timestamp)\"\n];\n// Use the imported ABI if available, otherwise use the fallback\nconst ABI = _abi_TenderChain_json__WEBPACK_IMPORTED_MODULE_3__?.abi || FALLBACK_ABI;\n// Адрес контракта\nconst CONTRACT_ADDRESS = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\" || 0;\n// Добавляем дополнительное логирование для отладки\nconsole.log(\"Contract address from ENV:\", CONTRACT_ADDRESS);\n// Улучшенная функция для инициализации контракта\nconst MAX_INIT_ATTEMPTS = 5;\nconst INIT_RETRY_DELAY = 2000; // ms\n// Helper function to extract error messages from various error types\nconst getErrorMessage = (error)=>{\n    if (error instanceof Error) return error.message;\n    if (typeof error === 'string') return error;\n    return 'Unknown error occurred';\n};\n// Helper function to handle contract errors\nconst handleContractError = (error, defaultValue)=>{\n    console.error('Contract error:', error);\n    return {\n        success: false,\n        error: error?.message || error?.reason || 'Unknown contract error',\n        data: defaultValue\n    };\n};\n// Helper function to check if contract address has deployed code\nasync function verifyContractAddress(address, provider) {\n    try {\n        console.log(`🔍 Verifying contract at address: ${address}`);\n        // Check if address is valid\n        if (!ethers__WEBPACK_IMPORTED_MODULE_2__.ethers.isAddress(address)) {\n            console.error('❌ Invalid address format:', address);\n            return false;\n        }\n        // Check if contract has code\n        const code = await provider.getCode(address);\n        // If there's no code at this address, it's not a contract\n        if (code === '0x' || code === '0x0') {\n            console.error('❌ No contract deployed at this address (empty bytecode)');\n            return false;\n        }\n        console.log(`✅ Contract found at ${address} with bytecode length: ${(code.length - 2) / 2} bytes`);\n        return true;\n    } catch (error) {\n        console.error('❌ Error verifying contract address:', error);\n        return false;\n    }\n}\n// Helper function to validate ABI contains expected methods\nfunction validateContractABI(abi) {\n    try {\n        console.log('🔍 Validating contract ABI structure...');\n        // Essential methods that should exist in the contract - update to match the actual contract\n        const requiredMethods = [\n            'tenderCount',\n            'createTender',\n            'getTender'\n        ];\n        const optionalMethods = [\n            'submitBid',\n            'getBidsForTender',\n            'takeTender',\n            'getActiveTenders'\n        ];\n        // Check if ABI is an array\n        if (!Array.isArray(abi)) {\n            console.error('❌ ABI is not an array:', abi);\n            return false;\n        }\n        // Extract function names from ABI\n        const methodNames = abi.filter((item)=>item.type === 'function' || typeof item === 'string' && item.includes('function')).map((item)=>{\n            if (typeof item === 'string') {\n                // Извлекаем имя функции из строки вида \"function name(...)\"\n                const match = item.match(/function\\s+([a-zA-Z0-9_]+)/);\n                return match ? match[1] : '';\n            }\n            return item.name;\n        }).filter(Boolean); // Фильтруем пустые строки\n        console.log('📋 Contract methods found in ABI:', methodNames);\n        // Check if all required methods exist in ABI\n        const missingRequiredMethods = requiredMethods.filter((method)=>!methodNames.includes(method));\n        if (missingRequiredMethods.length > 0) {\n            console.error('❌ Missing required methods in ABI:', missingRequiredMethods);\n            return false;\n        }\n        // Check for optional methods and just log warnings\n        const missingOptionalMethods = optionalMethods.filter((method)=>!methodNames.includes(method));\n        if (missingOptionalMethods.length > 0) {\n            console.warn('⚠️ Some optional methods are missing in ABI:', missingOptionalMethods);\n            console.warn('This may limit functionality but is not critical');\n        }\n        console.log('✅ Contract ABI contains all required methods');\n        return true;\n    } catch (error) {\n        console.error('❌ Error validating contract ABI:', error);\n        return false;\n    }\n}\nfunction useContractTender() {\n    // All state hooks must be called unconditionally at the top level\n    const { provider, signer, account } = (0,_useWeb3__WEBPACK_IMPORTED_MODULE_1__.useWeb3)();\n    const [contract, setContract] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isContractAvailable, setIsContractAvailable] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [contractStatus, setContractStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('idle');\n    const [contractErrorDetails, setContractErrorDetails] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use refs to safely track values across renders\n    const contractRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const isContractAvailableRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isContractAvailable);\n    // Track last call time for debouncing\n    const lastGetActiveTendersCall = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const isLoadingTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const initAttempts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // Улучшенная проверка подключения напрямую через window.ethereum\n    const forceContractInitialization = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[forceContractInitialization]\": async ()=>{\n            try {\n                setContractStatus('loading');\n                setContractErrorDetails(null);\n                console.log('🚀 Initializing contract...');\n                // Проверяем адрес контракта\n                if (!CONTRACT_ADDRESS) {\n                    console.error('❌ Contract address is not defined');\n                    setIsContractAvailable(false);\n                    setError('Smart contract address is not configured. Please check your environment settings.');\n                    setContractStatus('error');\n                    setContractErrorDetails('Missing contract address in environment configuration');\n                    return false;\n                }\n                console.log(`📋 Using contract address: ${CONTRACT_ADDRESS}`);\n                // Проверяем наличие window.ethereum\n                console.log('🔄 Checking window.ethereum availability');\n                if (true) {\n                    console.error('❌ window.ethereum is not available');\n                    setError('MetaMask extension is not installed or not accessible');\n                    setContractStatus('error');\n                    setContractErrorDetails('MetaMask extension is not installed or not accessible');\n                    return false;\n                }\n                console.log('✅ window.ethereum is available');\n                // Проверяем сеть\n                try {\n                    const chainId = await window.ethereum.request({\n                        method: 'eth_chainId'\n                    });\n                    console.log(`📊 Current chain ID: ${chainId}`);\n                    // Check if we're on Sepolia (0xaa36a7) or local Hardhat network (0x7a69)\n                    const isValidNetwork = chainId === '0xaa36a7' || chainId === '0x7a69';\n                    if (!isValidNetwork) {\n                        console.warn(`⚠️ Connected to unsupported network: ${chainId}, expected either 0xaa36a7 (Sepolia) or 0x7a69 (Hardhat local)`);\n                    } else {\n                        console.log(`✅ Connected to supported network: ${chainId}`);\n                    }\n                } catch (error) {\n                    console.error('❌ Error checking network:', error);\n                }\n                // Запрашиваем подключение к MetaMask\n                try {\n                    console.log('🔄 Requesting MetaMask accounts...');\n                    const accounts = await window.ethereum.request({\n                        method: 'eth_requestAccounts'\n                    });\n                    console.log(`✅ Connected to accounts: ${accounts.join(', ')}`);\n                } catch (error) {\n                    console.error('❌ User rejected account connection:', error);\n                    setError('User rejected MetaMask connection');\n                    setContractStatus('error');\n                    setContractErrorDetails('User rejected MetaMask connection');\n                    return false;\n                }\n                // Check current network and switch only if we're not on a supported network\n                try {\n                    const chainId = await window.ethereum.request({\n                        method: 'eth_chainId'\n                    });\n                    // If we're on Hardhat local network, don't try to switch to Sepolia\n                    if (chainId === '0x7a69') {\n                        console.log('✅ Already connected to Hardhat local network (0x7a69), not switching');\n                    } else if (chainId !== '0xaa36a7') {\n                        console.log('🔄 Not on a supported network, trying Hardhat local first...');\n                        try {\n                            // Try switching to Hardhat local first (since that's what we're using)\n                            await window.ethereum.request({\n                                method: 'wallet_switchEthereumChain',\n                                params: [\n                                    {\n                                        chainId: '0x7a69'\n                                    }\n                                ] // Hardhat local chainId\n                            });\n                            console.log('✅ Switched to Hardhat local network');\n                        } catch (hardhatSwitchError) {\n                            // If we can't switch to Hardhat, try Sepolia\n                            console.log('⚠️ Could not switch to Hardhat local, trying Sepolia...');\n                            try {\n                                await window.ethereum.request({\n                                    method: 'wallet_switchEthereumChain',\n                                    params: [\n                                        {\n                                            chainId: '0xaa36a7'\n                                        }\n                                    ] // Sepolia chainId\n                                });\n                                console.log('✅ Switched to Sepolia network');\n                            } catch (sepoliaSwitchError) {\n                                // If we can't switch to Sepolia and it's not because it doesn't exist, fail\n                                if (sepoliaSwitchError.code !== 4902) {\n                                    console.error('❌ Failed to switch to any supported network:', sepoliaSwitchError);\n                                    setError('Failed to switch to a supported network');\n                                    setContractStatus('error');\n                                    setContractErrorDetails('Failed to switch to a supported network');\n                                    return false;\n                                }\n                                // Try to add Sepolia if it doesn't exist\n                                console.log('🔄 Sepolia network not found, attempting to add it...');\n                                try {\n                                    await window.ethereum.request({\n                                        method: 'wallet_addEthereumChain',\n                                        params: [\n                                            {\n                                                chainId: '0xaa36a7',\n                                                chainName: 'Sepolia Testnet',\n                                                nativeCurrency: {\n                                                    name: 'ETH',\n                                                    symbol: 'ETH',\n                                                    decimals: 18\n                                                },\n                                                rpcUrls: [\n                                                    'https://sepolia.infura.io/v3/'\n                                                ],\n                                                blockExplorerUrls: [\n                                                    'https://sepolia.etherscan.io/'\n                                                ]\n                                            }\n                                        ]\n                                    });\n                                    console.log('✅ Added Sepolia network');\n                                } catch (addSepoliaError) {\n                                    console.error('❌ Failed to add Sepolia network:', addSepoliaError);\n                                    setError('Failed to add Sepolia network to MetaMask');\n                                    setContractStatus('error');\n                                    setContractErrorDetails('Failed to add Sepolia network to MetaMask');\n                                    return false;\n                                }\n                            }\n                        }\n                    } else {\n                        console.log('✅ Already connected to Sepolia network, not switching');\n                    }\n                } catch (networkError) {\n                    console.error('❌ Network switching error:', networkError);\n                    setError('Error switching networks');\n                    setContractStatus('error');\n                    setContractErrorDetails('Error switching networks');\n                    return false;\n                }\n                // Получаем провайдер и подписывающего\n                console.log('🔄 Creating provider and signer...');\n                const provider = new ethers__WEBPACK_IMPORTED_MODULE_2__.ethers.BrowserProvider(window.ethereum);\n                const newSigner = await provider.getSigner();\n                const signerAddress = await newSigner.getAddress();\n                console.log(`✅ Got signer with address: ${signerAddress}`);\n                // Проверяем ABI\n                if (!ABI || ABI.length === 0) {\n                    console.error('❌ ABI is empty or undefined');\n                    setError('Contract ABI is missing or invalid');\n                    setContractStatus('error');\n                    setContractErrorDetails('Contract ABI is missing or invalid');\n                    return false;\n                }\n                // First validate the ABI\n                if (!validateContractABI(ABI)) {\n                    setIsContractAvailable(false);\n                    setError('Contract ABI is invalid or missing required methods. Check console for details.');\n                    setContractStatus('error');\n                    setContractErrorDetails('ABI validation failed: missing required methods or invalid format');\n                    return false;\n                }\n                // Проверяем наличие метода tenderCount в ABI\n                const hasTenderCount = ABI.some({\n                    \"useContractTender.useCallback[forceContractInitialization].hasTenderCount\": (item)=>typeof item === 'string' ? item.includes('tenderCount') : item.name === 'tenderCount'\n                }[\"useContractTender.useCallback[forceContractInitialization].hasTenderCount\"]);\n                if (!hasTenderCount) {\n                    console.warn('⚠️ tenderCount method not found in ABI');\n                }\n                // Создаем новый экземпляр контракта\n                console.log(`🔄 Creating contract instance at address: ${CONTRACT_ADDRESS}`);\n                const contract = new ethers__WEBPACK_IMPORTED_MODULE_2__.ethers.Contract(CONTRACT_ADDRESS, ABI, newSigner);\n                contractRef.current = contract;\n                // Verify the contract address first\n                const isValidContract = await verifyContractAddress(CONTRACT_ADDRESS, provider);\n                if (!isValidContract) {\n                    console.error(`❌ No valid contract found at ${CONTRACT_ADDRESS}`);\n                    setIsContractAvailable(false);\n                    setError(`No valid contract found at address ${CONTRACT_ADDRESS}. The contract may not be deployed or the address may be incorrect.`);\n                    setContractStatus('error');\n                    setContractErrorDetails(`Invalid contract at ${CONTRACT_ADDRESS}: No bytecode found or invalid address format`);\n                    return false;\n                }\n                // Проверяем соединение с контрактом вызовом простой функции\n                try {\n                    console.log(`🔄 Testing contract with direct call to tenderCount()`);\n                    const count = await contract.tenderCount();\n                    console.log(`✅ Direct contract call succeeded! Tender count: ${count}`);\n                } catch (error) {\n                    console.error(`❌ Failed to call tenderCount():`, error);\n                    // Проверяем, является ли ошибка проблемой декодирования данных\n                    if (error.message.includes('could not decode result data')) {\n                        console.error('❌ Data decoding error - contract address or ABI mismatch!');\n                        setIsContractAvailable(false);\n                        setError(`Contract call failed: The contract at ${CONTRACT_ADDRESS} does not match the expected interface. Please verify the contract address and ABI.`);\n                        setContractStatus('error');\n                        setContractErrorDetails(`Contract call failed: The contract at ${CONTRACT_ADDRESS} does not match the expected interface. Please verify the contract address and ABI.`);\n                        return false;\n                    }\n                    // Проверяем другие распространенные ошибки\n                    if (error.message.includes('call revert exception')) {\n                        console.error('❌ Contract reverted the call - function may not exist or be accessible');\n                    } else if (error.message.includes('invalid address')) {\n                        console.error('❌ Invalid contract address format');\n                    } else if (error.message.includes('contract not deployed')) {\n                        console.error('❌ No contract deployed at this address');\n                    }\n                    setIsContractAvailable(false);\n                    setError(`Failed to verify contract: ${error.message}`);\n                    setContractStatus('error');\n                    setContractErrorDetails(`Failed to verify contract: ${error.message}`);\n                    return false;\n                }\n                // Обновляем состояние\n                setIsContractAvailable(true);\n                isContractAvailableRef.current = true;\n                setContract(contract);\n                console.log(`✅ Contract initialized successfully with direct method`);\n                return true;\n            } catch (err) {\n                console.error(`❌ Failed to initialize contract:`, err);\n                setIsContractAvailable(false);\n                setError(`Failed to initialize contract: ${err instanceof Error ? err.message : 'Unknown error'}`);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[forceContractInitialization]\"], []);\n    // Manual direct contract check function\n    const testContractConnection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[testContractConnection]\": async ()=>{\n            console.log(\"Performing direct contract connection test\");\n            if (!CONTRACT_ADDRESS) {\n                console.error(\"No contract address provided\");\n                return false;\n            }\n            try {\n                // Try using window.ethereum directly if available\n                if (false) {} else {\n                    console.warn(\"No window.ethereum available for direct check\");\n                    return false;\n                }\n            } catch (error) {\n                console.error(\"Direct contract connection test failed:\", error);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[testContractConnection]\"], [\n        CONTRACT_ADDRESS,\n        contract,\n        isContractAvailable\n    ]);\n    // Запуск принудительной инициализации при изменении аккаунта\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useContractTender.useEffect\": ()=>{\n            if (account) {\n                console.log(\"Account changed or connected, attempting forced contract initialization\");\n                forceContractInitialization();\n            }\n        }\n    }[\"useContractTender.useEffect\"], [\n        account,\n        forceContractInitialization\n    ]);\n    // Улучшенная проверка контракта в useEffect\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useContractTender.useEffect\": ()=>{\n            let isMounted = true;\n            let retryCount = 0;\n            const checkContractWithRetry = {\n                \"useContractTender.useEffect.checkContractWithRetry\": async ()=>{\n                    if (!isMounted) return;\n                    console.log(`Contract check attempt ${retryCount + 1}/${MAX_INIT_ATTEMPTS}`);\n                    // Выход, если контракт уже доступен\n                    if (isContractAvailable && contract) {\n                        console.log(\"Contract already available, skipping check\");\n                        return;\n                    }\n                    // Проверка, есть ли доступный аккаунт\n                    if (account) {\n                        const success = await forceContractInitialization();\n                        if (success) {\n                            console.log(\"Contract initialization successful\");\n                            return;\n                        }\n                    }\n                    // Если мы дошли до этой точки, значит инициализация не удалась\n                    retryCount++;\n                    if (retryCount < MAX_INIT_ATTEMPTS) {\n                        console.log(`Will retry contract check in ${INIT_RETRY_DELAY}ms`);\n                        setTimeout(checkContractWithRetry, INIT_RETRY_DELAY);\n                    } else {\n                        console.log(\"Maximum contract check attempts reached\");\n                    }\n                }\n            }[\"useContractTender.useEffect.checkContractWithRetry\"];\n            // Запускаем первую проверку\n            checkContractWithRetry();\n            return ({\n                \"useContractTender.useEffect\": ()=>{\n                    isMounted = false;\n                }\n            })[\"useContractTender.useEffect\"];\n        }\n    }[\"useContractTender.useEffect\"], [\n        account,\n        contract,\n        isContractAvailable,\n        forceContractInitialization\n    ]);\n    // Get stable account reference\n    const signerAddress = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useContractTender.useMemo[signerAddress]\": async ()=>{\n            if (!signer) return null;\n            try {\n                return await signer.getAddress();\n            } catch (error) {\n                console.error(\"Error getting signer address:\", error);\n                return null;\n            }\n        }\n    }[\"useContractTender.useMemo[signerAddress]\"], [\n        signer\n    ]);\n    // Create a non-async version for useEffect dependencies\n    const [signerAddressStr, setSignerAddressStr] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Update signerAddressStr when signerAddress promise resolves\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useContractTender.useEffect\": ()=>{\n            if (signer) {\n                signer.getAddress().then({\n                    \"useContractTender.useEffect\": (address)=>{\n                        setSignerAddressStr(address);\n                    }\n                }[\"useContractTender.useEffect\"]).catch({\n                    \"useContractTender.useEffect\": (error)=>{\n                        console.error(\"Failed to get signer address:\", error);\n                        setSignerAddressStr(null);\n                    }\n                }[\"useContractTender.useEffect\"]);\n            } else {\n                setSignerAddressStr(null);\n            }\n        }\n    }[\"useContractTender.useEffect\"], [\n        signer\n    ]);\n    // Store previous signer reference to prevent unnecessary reconnections\n    const previousSignerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Create stable checks that can be used in dependencies\n    const contractAvailable = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[contractAvailable]\": ()=>{\n            return !!contractRef.current && isContractAvailableRef.current;\n        }\n    }[\"useContractTender.useCallback[contractAvailable]\"], []);\n    // Common error check for all contract methods\n    const checkContractAvailability = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[checkContractAvailability]\": ()=>{\n            const available = isContractAvailableRef.current;\n            if (!available) {\n                const errorMsg = 'Contract is not available. Please connect your wallet.';\n                // Use type casting to fix the type mismatch\n                setError(errorMsg);\n                return {\n                    available: false,\n                    error: errorMsg\n                };\n            }\n            return {\n                available: true,\n                error: ''\n            };\n        }\n    }[\"useContractTender.useCallback[checkContractAvailability]\"], []);\n    // Общедоступная функция для проверки статуса контракта\n    const checkContractStatus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[checkContractStatus]\": async ()=>{\n            console.log(\"Manual contract status check requested\");\n            return forceContractInitialization();\n        }\n    }[\"useContractTender.useCallback[checkContractStatus]\"], [\n        forceContractInitialization\n    ]);\n    // Создание нового тендера\n    const createTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[createTender]\": async (title, description, budget, deadline, distanceKm, weightKg, cargoType, urgencyDays, expirationMinutes = 10 // по умолчанию тендер действует 10 минут\n        )=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                // For ethers v6, convert BigNumberish to number safely\n                const deadlineTimestamp = Number((0,ethers__WEBPACK_IMPORTED_MODULE_2__.getBigInt)(deadline)) * 1000;\n                const tx = await contractRef.current.createTender(title, description, budget, deadlineTimestamp, distanceKm, weightKg, cargoType, urgencyDays, expirationMinutes);\n                const receipt = await tx.wait();\n                // Получаем ID созданного тендера из события\n                const event = receipt.logs?.filter({\n                    \"useContractTender.useCallback[createTender]\": (log)=>log.fragment?.name === 'TenderCreated'\n                }[\"useContractTender.useCallback[createTender]\"])?.[0];\n                let tenderId;\n                if (event && event.args) {\n                    tenderId = event.args[0].toString();\n                } else {\n                    tenderId = 'fallback-id-' + Date.now();\n                }\n                return {\n                    success: true,\n                    data: {\n                        id: tenderId\n                    },\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                setError(err.message || 'Failed to create tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to create tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[createTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Получить тендер\n    const getTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getTender]\": async (id)=>{\n            console.log(`🔍 Attempting to get tender with ID: ${id}`);\n            // Check contract availability\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                console.error(`❌ Contract not available for getTender: ${availabilityError}`);\n                setError(availabilityError || 'Contract not available');\n                return {\n                    success: false,\n                    error: availabilityError || 'Contract not available',\n                    data: null\n                };\n            }\n            try {\n                console.log(`⏳ Fetching tender ${id} from contract...`);\n                const tenderData = await contractRef.current.getTender(id);\n                console.log(`📦 Raw tender data received:`, tenderData);\n                // Check if tender exists (in the contract, non-existent tenders have ID of 0)\n                if (tenderData.id.toString() === '0') {\n                    console.warn(`⚠️ Tender with ID ${id} does not exist in contract`);\n                    return {\n                        success: false,\n                        error: 'Tender does not exist',\n                        data: null\n                    };\n                }\n                try {\n                    // Instead of directly calling a function from dependencies, use inline conversion logic\n                    // This helps avoid the \"used before declaration\" error\n                    if (!tenderData) {\n                        throw new Error('Tender data is undefined');\n                    }\n                    // Map numeric status to TenderStatus type\n                    const statusMap = [\n                        'OPEN',\n                        'CLOSED',\n                        'AWARDED',\n                        'COMPLETED',\n                        'CANCELLED'\n                    ];\n                    const status = statusMap[Number(tenderData.status)] || 'OPEN';\n                    // Convert BigNumber values to regular numbers\n                    const adaptedTender = {\n                        id: tenderData.id.toString(),\n                        title: tenderData.title,\n                        description: tenderData.description,\n                        budget: tenderData.budget,\n                        deadline: tenderData.deadline,\n                        distance: Number(tenderData.distance),\n                        weight: Number(tenderData.weight),\n                        cargoType: tenderData.cargoType,\n                        urgencyDays: Number(tenderData.urgencyDays),\n                        creator: tenderData.creator,\n                        bidder: tenderData.bidder,\n                        status: status,\n                        createdAt: new Date(Number(tenderData.createdAt) * 1000).toISOString(),\n                        expiresAt: new Date(Number(tenderData.expiresAt) * 1000).toISOString(),\n                        timeLeft: Math.max(0, Math.floor((Number(tenderData.expiresAt) * 1000 - Date.now()) / 1000))\n                    };\n                    return {\n                        success: true,\n                        data: adaptedTender\n                    };\n                } catch (err) {\n                    console.error('Error parsing tender data:', err);\n                    return {\n                        success: false,\n                        error: `Error parsing tender data: ${err.message}`,\n                        data: null\n                    };\n                }\n            } catch (err) {\n                console.error(`❌ Error fetching tender ${id}:`, err);\n                // Check for specific \"Tender does not exist\" error\n                if (err.message && (err.message.includes('Tender does not exist') || err.reason && err.reason.includes('Tender does not exist'))) {\n                    console.warn(`⚠️ Contract confirmed tender ${id} does not exist`);\n                    return {\n                        success: false,\n                        error: 'Tender does not exist',\n                        data: null\n                    };\n                }\n                setError(err.message || 'Failed to fetch tender');\n                return {\n                    success: false,\n                    error: `Error fetching tender: ${err.message || 'Unknown error'}`,\n                    data: null\n                };\n            }\n        }\n    }[\"useContractTender.useCallback[getTender]\"], [\n        contractRef,\n        checkContractAvailability,\n        setError\n    ]);\n    // Функция получения активных тендеров\n    const getActiveTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getActiveTenders]\": async ()=>{\n            const now = Date.now();\n            console.log(`[getActiveTenders] Called at ${new Date(now).toISOString()}`);\n            console.log(`[getActiveTenders] Last call was ${now - lastGetActiveTendersCall.current}ms ago`);\n            console.log(`[getActiveTenders] IsLoadingTenders: ${isLoadingTenders.current}`);\n            console.log(`[getActiveTenders] Contract available: ${isContractAvailable}, Contract ref: ${!!contractRef.current}`);\n            // Implement proper debouncing\n            if (now - lastGetActiveTendersCall.current < 3000) {\n                console.log(\"[getActiveTenders] ⚠️ Debouncing - too soon after last call\");\n                return {\n                    success: false,\n                    error: \"Rate limited. Please wait before trying again.\",\n                    data: []\n                };\n            }\n            // Check if we're already fetching\n            if (isLoadingTenders.current) {\n                console.log(\"[getActiveTenders] ⚠️ Already fetching, skipping duplicate call\");\n                return {\n                    success: false,\n                    error: \"Request already in progress\",\n                    data: []\n                };\n            }\n            // Track this request\n            console.log(\"[getActiveTenders] ✅ Starting request\");\n            isLoadingTenders.current = true;\n            lastGetActiveTendersCall.current = now;\n            setLoading(true);\n            // Check contract availability before proceeding\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                console.log(`[getActiveTenders] ❌ Contract not available: ${availabilityError}`);\n                isLoadingTenders.current = false;\n                setLoading(false);\n                return {\n                    success: false,\n                    error: availabilityError || \"Contract not available\",\n                    data: []\n                };\n            }\n            try {\n                // Create a timeout promise\n                console.log(\"[getActiveTenders] Setting up timeout promise\");\n                const timeoutPromise = new Promise({\n                    \"useContractTender.useCallback[getActiveTenders]\": (_, reject)=>{\n                        setTimeout({\n                            \"useContractTender.useCallback[getActiveTenders]\": ()=>reject(new Error(\"Timeout fetching active tenders\"))\n                        }[\"useContractTender.useCallback[getActiveTenders]\"], 15000);\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders]\"]);\n                // Race the contract call against the timeout\n                console.log(\"[getActiveTenders] Making contract call\");\n                const activeTenderIds = await Promise.race([\n                    contractRef.current.getActiveTenders(),\n                    timeoutPromise\n                ]);\n                console.log(`[getActiveTenders] Received ${activeTenderIds?.length || 0} tender IDs`);\n                if (!activeTenderIds || activeTenderIds.length === 0) {\n                    console.log(\"[getActiveTenders] No active tenders found\");\n                    isLoadingTenders.current = false;\n                    setLoading(false);\n                    return {\n                        success: true,\n                        data: []\n                    };\n                }\n                console.log(`[getActiveTenders] Fetching details for ${activeTenderIds.length} tenders`);\n                const tenderPromises = activeTenderIds.filter({\n                    \"useContractTender.useCallback[getActiveTenders].tenderPromises\": (id)=>id !== null && id !== undefined\n                }[\"useContractTender.useCallback[getActiveTenders].tenderPromises\"]).map({\n                    \"useContractTender.useCallback[getActiveTenders].tenderPromises\": (id)=>{\n                        const idString = id.toString();\n                        console.log(`[getActiveTenders] Fetching tender ${idString}`);\n                        return contractRef.current.getTender(idString);\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders].tenderPromises\"]);\n                const tendersData = await Promise.all(tenderPromises);\n                console.log(`[getActiveTenders] Received ${tendersData.length} tender details`);\n                const tenders = tendersData.map({\n                    \"useContractTender.useCallback[getActiveTenders].tenders\": (tenderData)=>{\n                        console.log(`[getActiveTenders] Processing tender ${tenderData.id.toString()}`);\n                        return {\n                            id: tenderData.id.toString(),\n                            title: tenderData.title,\n                            description: tenderData.description,\n                            budget: tenderData.budget,\n                            deadline: tenderData.deadline,\n                            distance: Number(tenderData.distance),\n                            weight: Number(tenderData.weight),\n                            cargoType: tenderData.cargoType,\n                            urgencyDays: Number(tenderData.urgencyDays),\n                            creator: tenderData.creator,\n                            bidder: tenderData.bidder,\n                            status: [\n                                'OPEN',\n                                'CLOSED',\n                                'AWARDED',\n                                'COMPLETED',\n                                'CANCELLED'\n                            ][Number(tenderData.status)],\n                            createdAt: new Date(Number(tenderData.createdAt) * 1000).toISOString(),\n                            expiresAt: new Date(Number(tenderData.expiresAt) * 1000).toISOString()\n                        };\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders].tenders\"]);\n                // Добавление времени до истечения срока\n                const currentTime = Math.floor(Date.now() / 1000);\n                tenders.forEach({\n                    \"useContractTender.useCallback[getActiveTenders]\": (tender)=>{\n                        const expiresAt = Math.floor(new Date(tender.expiresAt).getTime() / 1000);\n                        tender.timeLeft = expiresAt > currentTime ? expiresAt - currentTime : 0;\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders]\"]);\n                console.log(`[getActiveTenders] ✅ Completed successfully with ${tenders.length} tenders`);\n                return {\n                    success: true,\n                    data: tenders\n                };\n            } catch (err) {\n                console.error('[getActiveTenders] ❌ Error:', err);\n                setError(err.message || 'Failed to get active tenders');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to get active tenders',\n                    data: []\n                };\n            } finally{\n                console.log(\"[getActiveTenders] Request complete, cleaning up\");\n                isLoadingTenders.current = false;\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[getActiveTenders]\"], [\n        contractRef,\n        checkContractAvailability\n    ]);\n    // \"Забрать\" тендер\n    const takeTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[takeTender]\": async (id)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                const tx = await contractRef.current.takeTender(id);\n                const receipt = await tx.wait();\n                return {\n                    success: true,\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('Error taking tender:', err);\n                setError(err.message || 'Failed to take tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to take tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[takeTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Helper function to check if a tender exists in the blockchain without throwing errors\n    const checkTenderExists = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[checkTenderExists]\": async (tenderId)=>{\n            try {\n                console.log(`🔍 Checking if tender ${tenderId} exists in blockchain...`);\n                // Make a safe call that catches the revert error\n                try {\n                    const tenderResponse = await getTender(tenderId);\n                    return tenderResponse.success && !!tenderResponse.data; // True if the request was successful and data exists\n                } catch (error) {\n                    // If we get here, the contract call itself threw an error\n                    console.error(`❌ Contract error checking tender existence:`, error);\n                    // Check if the error is specifically about tender not existing\n                    if (error.message && (error.message.includes('Tender does not exist') || error.reason && error.reason.includes('Tender does not exist'))) {\n                        console.warn(`⚠️ Caught 'Tender does not exist' error - tender ${tenderId} confirmed not to exist`);\n                        return false; // Tender definitely doesn't exist\n                    }\n                    // For other errors, it's safer to fail the check\n                    return false;\n                }\n            } catch (error) {\n                console.error(`❌ Error in checkTenderExists wrapper:`, error);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[checkTenderExists]\"], [\n        getTender\n    ]);\n    // Submit bid function with retry and better error handling\n    const submitBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[submitBid]\": async (tenderId, amount, proposal)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                console.log(`🔍 Checking if tender ${tenderId} exists before submitting bid...`);\n                // First check if the tender exists to avoid the \"Tender does not exist\" error\n                const tenderExists = await checkTenderExists(tenderId);\n                if (!tenderExists) {\n                    const errorMsg = `Tender with ID ${tenderId} does not exist in the blockchain. It may have been removed or never existed.`;\n                    console.error(`❌ ${errorMsg}`);\n                    return {\n                        success: false,\n                        error: errorMsg\n                    };\n                }\n                console.log(`💸 Taking tender ${tenderId}...`);\n                // Call takeTender instead of submitBid since that's what our contract actually has\n                const tx = await contractRef.current.takeTender(tenderId);\n                console.log(`📝 Tender taking transaction sent: ${tx.hash}`);\n                console.log(`⏱️ Waiting for transaction confirmation...`);\n                const receipt = await tx.wait();\n                console.log(`✅ Tender taken confirmed in block ${receipt.blockNumber}`);\n                return {\n                    success: true,\n                    data: {\n                        hash: receipt.hash\n                    },\n                    hash: receipt.hash\n                };\n            } catch (err) {\n                console.error(`❌ Error taking tender:`, err);\n                // Check for specific error types\n                let errorMessage = '';\n                if (err.code === 'CALL_EXCEPTION' || err.code === 'UNPREDICTABLE_GAS_LIMIT') {\n                    // Contract execution error\n                    if (err.reason) {\n                        errorMessage = `Contract error: ${err.reason}`;\n                    } else if (err.message && err.message.includes('Tender does not exist')) {\n                        errorMessage = 'Tender does not exist';\n                    } else if (err.message && err.message.includes('Cannot take your own tender')) {\n                        errorMessage = 'You cannot take your own tender';\n                    } else if (err.message && err.message.includes('Tender is not open')) {\n                        errorMessage = 'Tender is not open for taking';\n                    } else if (err.message && err.message.includes('Tender has expired')) {\n                        errorMessage = 'Tender has expired';\n                    } else {\n                        errorMessage = `Contract execution failed: ${err.message}`;\n                    }\n                } else if (err.code === 'ACTION_REJECTED') {\n                    // User rejected transaction\n                    errorMessage = 'Transaction rejected by user';\n                } else if (err.code === 'INSUFFICIENT_FUNDS') {\n                    // Insufficient funds\n                    errorMessage = 'Insufficient funds for transaction';\n                } else if (err.message) {\n                    // Generic error with message\n                    errorMessage = err.message;\n                } else {\n                    // Unknown error\n                    errorMessage = 'Unknown error taking tender';\n                }\n                setError(errorMessage);\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[submitBid]\"], [\n        checkContractAvailability,\n        signer,\n        contractRef,\n        checkTenderExists\n    ]);\n    // Получить все заявки на тендер (адаптировано для контракта без getBidsForTender)\n    const getBidsForTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getBidsForTender]\": async (id)=>{\n            console.log(`⚠️ getBidsForTender called for tender ${id}, but this contract doesn't support listing bids`);\n            // Check if we can at least get the tender to see if there's a bidder assigned\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: `Contract not available: ${availabilityError}. Note: This contract doesn't support listing bids.`\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                // Try to get the tender to check if there's a bidder\n                const tender = await contractRef.current.getTender(id);\n                if (tender && tender.bidder && tender.bidder !== '0x0000000000000000000000000000000000000000') {\n                    // If there's a bidder, create a single mock bid entry\n                    const mockBid = {\n                        id: '1',\n                        bidder: tender.bidder,\n                        amount: 0,\n                        timestamp: new Date(Number(tender.createdAt) * 1000).toISOString(),\n                        status: tender.status === 2 ? 'ACCEPTED' : 'PENDING' // 2 is AWARDED in enum\n                    };\n                    return {\n                        success: true,\n                        data: [\n                            mockBid\n                        ],\n                        error: 'Note: This contract only shows the assigned bidder, not all bids'\n                    };\n                }\n                return {\n                    success: true,\n                    data: [],\n                    error: 'Note: This contract doesn\\'t support listing all bids'\n                };\n            } catch (err) {\n                console.error('Error getting tender for bid info:', err);\n                setError(err.message || 'Failed to get bids (not supported by this contract)');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to get bids (not supported by this contract)',\n                    data: []\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[getBidsForTender]\"], [\n        contractRef,\n        checkContractAvailability\n    ]);\n    // Завершить тендер\n    const completeTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[completeTender]\": async (id)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                const tx = await contractRef.current.completeTender(id);\n                const receipt = await tx.wait();\n                return {\n                    success: true,\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('Error completing tender:', err);\n                setError(err.message || 'Failed to complete tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to complete tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[completeTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Отменить тендер\n    const cancelTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[cancelTender]\": async (id)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                const tx = await contractRef.current.cancelTender(id);\n                const receipt = await tx.wait();\n                return {\n                    success: true,\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('Error cancelling tender:', err);\n                setError(err.message || 'Failed to cancel tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to cancel tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[cancelTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Add a helper function to add Hardhat network to MetaMask\n    const addHardhatNetworkToMetaMask = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[addHardhatNetworkToMetaMask]\": async ()=>{\n            if (true) {\n                console.error('❌ window.ethereum is not available');\n                return false;\n            }\n            try {\n                console.log('🔄 Adding Hardhat local network to MetaMask...');\n                await window.ethereum.request({\n                    method: 'wallet_addEthereumChain',\n                    params: [\n                        {\n                            chainId: '0x7a69',\n                            chainName: 'Hardhat Local',\n                            nativeCurrency: {\n                                name: 'ETH',\n                                symbol: 'ETH',\n                                decimals: 18\n                            },\n                            rpcUrls: [\n                                'http://127.0.0.1:8545/'\n                            ],\n                            blockExplorerUrls: null\n                        }\n                    ]\n                });\n                console.log('✅ Added Hardhat local network to MetaMask');\n                // Try to switch to the Hardhat network\n                await window.ethereum.request({\n                    method: 'wallet_switchEthereumChain',\n                    params: [\n                        {\n                            chainId: '0x7a69'\n                        }\n                    ]\n                });\n                console.log('✅ Switched to Hardhat local network');\n                return true;\n            } catch (error) {\n                console.error('❌ Failed to add Hardhat network to MetaMask:', error);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[addHardhatNetworkToMetaMask]\"], []);\n    // Получить количество тендеров в контракте\n    const getTenderCount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getTenderCount]\": async ()=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                console.error(\"Contract not available for getTenderCount:\", availabilityError);\n                return \"0\";\n            }\n            try {\n                console.log(\"Getting tender count from contract\");\n                const count = await contractRef.current.tenderCount();\n                console.log(\"Current tender count:\", count.toString());\n                return count.toString();\n            } catch (err) {\n                console.error('Error getting tender count:', err);\n                return \"0\";\n            }\n        }\n    }[\"useContractTender.useCallback[getTenderCount]\"], [\n        contractRef,\n        checkContractAvailability\n    ]);\n    // Migrate a tender from database to blockchain\n    const migrateTenderToBlockchain = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[migrateTenderToBlockchain]\": async (tenderId, title, description, budget, deadline, status)=>{\n            console.log(`🔄 Migrating tender ${tenderId} to blockchain...`);\n            // Check contract availability\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            // Check if wallet is connected\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                // Convert status string to contract enum value\n                const statusMap = {\n                    'OPEN': 0,\n                    'CLOSED': 1,\n                    'AWARDED': 2,\n                    'COMPLETED': 3,\n                    'CANCELLED': 4\n                };\n                const statusValue = statusMap[status] || 0;\n                // Format deadline to UTC timestamp if it's not already a number\n                let deadlineTimestamp;\n                if (typeof deadline === 'string') {\n                    deadlineTimestamp = Math.floor(new Date(deadline).getTime() / 1000);\n                } else if (typeof deadline === 'bigint') {\n                    deadlineTimestamp = Number(deadline);\n                } else {\n                    deadlineTimestamp = Number(deadline);\n                }\n                // Create the tender in the blockchain\n                console.log(`Creating tender in blockchain with: title=${title}, budget=${budget}, deadline=${deadlineTimestamp}`);\n                const tx = await contractRef.current.createTender(title, description, budget, deadlineTimestamp, 0, 0, 'General', 7 // Default urgencyDays\n                );\n                const receipt = await tx.wait();\n                console.log('Transaction receipt:', receipt);\n                // Get the tender ID from events or last tender count\n                const tenderCount = await contractRef.current.tenderCount();\n                const newTenderId = (tenderCount - 1).toString();\n                console.log(`✅ Tender migrated to blockchain with ID: ${newTenderId}`);\n                return {\n                    success: true,\n                    data: {\n                        id: newTenderId\n                    },\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('❌ Error migrating tender to blockchain:', err);\n                const errorMessage = err.message || 'Failed to migrate tender to blockchain';\n                setError(errorMessage);\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[migrateTenderToBlockchain]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    return {\n        loading,\n        error,\n        isContractAvailable,\n        contractStatus,\n        contractErrorDetails,\n        createTender,\n        getTender,\n        getActiveTenders,\n        takeTender,\n        completeTender,\n        cancelTender,\n        submitBid,\n        getBidsForTender,\n        checkContractStatus,\n        forceContractInitialization,\n        addHardhatNetworkToMetaMask,\n        getTenderCount,\n        migrateTenderToBlockchain\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2hvb2tzL3VzZUNvbnRyYWN0VGVuZGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwRjtBQUN0RDtBQUNKO0FBRTZDO0FBRTdFLDJCQUEyQjtBQUMwQjtBQUtyRCx3Q0FBd0M7QUFDeEMsTUFBTVUsZUFBZTtJQUNuQixpQkFBaUI7SUFDakI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFFQSxrQkFBa0I7SUFDbEI7SUFDQTtJQUVBLFNBQVM7SUFDVDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxnRUFBZ0U7QUFDaEUsTUFBTUMsTUFBTUYsa0RBQWNBLEVBQUVHLE9BQU9GO0FBRW5DLGtCQUFrQjtBQUNsQixNQUFNRyxtQkFBbUJDLDRDQUF3QyxJQUFJLENBQUU7QUFDdkUsbURBQW1EO0FBQ25ERyxRQUFRQyxHQUFHLENBQUMsOEJBQThCTDtBQUUxQyxpREFBaUQ7QUFDakQsTUFBTU0sb0JBQW9CO0FBQzFCLE1BQU1DLG1CQUFtQixNQUFNLEtBQUs7QUE0QnBDLHFFQUFxRTtBQUNyRSxNQUFNQyxrQkFBa0IsQ0FBQ0M7SUFDdkIsSUFBSUEsaUJBQWlCQyxPQUFPLE9BQU9ELE1BQU1FLE9BQU87SUFDaEQsSUFBSSxPQUFPRixVQUFVLFVBQVUsT0FBT0E7SUFDdEMsT0FBTztBQUNUO0FBT0EsNENBQTRDO0FBQzVDLE1BQU1HLHNCQUFzQixDQUFJSCxPQUFZSTtJQUMxQ1QsUUFBUUssS0FBSyxDQUFDLG1CQUFtQkE7SUFDakMsT0FBTztRQUNMSyxTQUFTO1FBQ1RMLE9BQU9BLE9BQU9FLFdBQVdGLE9BQU9NLFVBQVU7UUFDMUNDLE1BQU1IO0lBQ1I7QUFDRjtBQUVBLGlFQUFpRTtBQUNqRSxlQUFlSSxzQkFBc0JDLE9BQWUsRUFBRUMsUUFBa0I7SUFDdEUsSUFBSTtRQUNGZixRQUFRQyxHQUFHLENBQUMsQ0FBQyxrQ0FBa0MsRUFBRWEsU0FBUztRQUUxRCw0QkFBNEI7UUFDNUIsSUFBSSxDQUFDekIsMENBQU1BLENBQUMyQixTQUFTLENBQUNGLFVBQVU7WUFDOUJkLFFBQVFLLEtBQUssQ0FBQyw2QkFBNkJTO1lBQzNDLE9BQU87UUFDVDtRQUVBLDZCQUE2QjtRQUM3QixNQUFNRyxPQUFPLE1BQU1GLFNBQVNHLE9BQU8sQ0FBQ0o7UUFFcEMsMERBQTBEO1FBQzFELElBQUlHLFNBQVMsUUFBUUEsU0FBUyxPQUFPO1lBQ25DakIsUUFBUUssS0FBSyxDQUFDO1lBQ2QsT0FBTztRQUNUO1FBRUFMLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG9CQUFvQixFQUFFYSxRQUFRLHVCQUF1QixFQUFFLENBQUNHLEtBQUtFLE1BQU0sR0FBRyxLQUFLLEVBQUUsTUFBTSxDQUFDO1FBQ2pHLE9BQU87SUFDVCxFQUFFLE9BQU9kLE9BQU87UUFDZEwsUUFBUUssS0FBSyxDQUFDLHVDQUF1Q0E7UUFDckQsT0FBTztJQUNUO0FBQ0Y7QUFFQSw0REFBNEQ7QUFDNUQsU0FBU2Usb0JBQW9CekIsR0FBVTtJQUNyQyxJQUFJO1FBQ0ZLLFFBQVFDLEdBQUcsQ0FBQztRQUVaLDRGQUE0RjtRQUM1RixNQUFNb0Isa0JBQWtCO1lBQUM7WUFBZTtZQUFnQjtTQUFZO1FBQ3BFLE1BQU1DLGtCQUFrQjtZQUFDO1lBQWE7WUFBb0I7WUFBYztTQUFtQjtRQUUzRiwyQkFBMkI7UUFDM0IsSUFBSSxDQUFDQyxNQUFNQyxPQUFPLENBQUM3QixNQUFNO1lBQ3ZCSyxRQUFRSyxLQUFLLENBQUMsMEJBQTBCVjtZQUN4QyxPQUFPO1FBQ1Q7UUFFQSxrQ0FBa0M7UUFDbEMsTUFBTThCLGNBQWM5QixJQUNqQitCLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsSUFBSSxLQUFLLGNBQWUsT0FBT0QsU0FBUyxZQUFZQSxLQUFLRSxRQUFRLENBQUMsYUFDdEZDLEdBQUcsQ0FBQ0gsQ0FBQUE7WUFDSCxJQUFJLE9BQU9BLFNBQVMsVUFBVTtnQkFDNUIsNERBQTREO2dCQUM1RCxNQUFNSSxRQUFRSixLQUFLSSxLQUFLLENBQUM7Z0JBQ3pCLE9BQU9BLFFBQVFBLEtBQUssQ0FBQyxFQUFFLEdBQUc7WUFDNUI7WUFDQSxPQUFPSixLQUFLSyxJQUFJO1FBQ2xCLEdBQ0NOLE1BQU0sQ0FBQ08sVUFBVSwwQkFBMEI7UUFFOUNqQyxRQUFRQyxHQUFHLENBQUMscUNBQXFDd0I7UUFFakQsNkNBQTZDO1FBQzdDLE1BQU1TLHlCQUF5QmIsZ0JBQWdCSyxNQUFNLENBQUNTLENBQUFBLFNBQVUsQ0FBQ1YsWUFBWUksUUFBUSxDQUFDTTtRQUV0RixJQUFJRCx1QkFBdUJmLE1BQU0sR0FBRyxHQUFHO1lBQ3JDbkIsUUFBUUssS0FBSyxDQUFDLHNDQUFzQzZCO1lBQ3BELE9BQU87UUFDVDtRQUVBLG1EQUFtRDtRQUNuRCxNQUFNRSx5QkFBeUJkLGdCQUFnQkksTUFBTSxDQUFDUyxDQUFBQSxTQUFVLENBQUNWLFlBQVlJLFFBQVEsQ0FBQ007UUFFdEYsSUFBSUMsdUJBQXVCakIsTUFBTSxHQUFHLEdBQUc7WUFDckNuQixRQUFRcUMsSUFBSSxDQUFDLGdEQUFnREQ7WUFDN0RwQyxRQUFRcUMsSUFBSSxDQUFDO1FBQ2Y7UUFFQXJDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVCxFQUFFLE9BQU9JLE9BQU87UUFDZEwsUUFBUUssS0FBSyxDQUFDLG9DQUFvQ0E7UUFDbEQsT0FBTztJQUNUO0FBQ0Y7QUFFZSxTQUFTaUM7SUFDdEIsa0VBQWtFO0lBQ2xFLE1BQU0sRUFBRXZCLFFBQVEsRUFBRXdCLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdwRCxpREFBT0E7SUFDN0MsTUFBTSxDQUFDcUQsVUFBVUMsWUFBWSxHQUFHM0QsK0NBQVFBLENBQWtCO0lBQzFELE1BQU0sQ0FBQzRELFNBQVNDLFdBQVcsR0FBRzdELCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ3NCLE9BQU93QyxTQUFTLEdBQUc5RCwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDK0QscUJBQXFCQyx1QkFBdUIsR0FBR2hFLCtDQUFRQSxDQUFVO0lBQ3hFLE1BQU0sQ0FBQ2lFLGdCQUFnQkMsa0JBQWtCLEdBQUdsRSwrQ0FBUUEsQ0FBMkM7SUFDL0YsTUFBTSxDQUFDbUUsc0JBQXNCQyx3QkFBd0IsR0FBR3BFLCtDQUFRQSxDQUFnQjtJQUVoRixpREFBaUQ7SUFDakQsTUFBTXFFLGNBQWNsRSw2Q0FBTUEsQ0FBa0I7SUFDNUMsTUFBTW1FLHlCQUF5Qm5FLDZDQUFNQSxDQUFDNEQ7SUFFdEMsc0NBQXNDO0lBQ3RDLE1BQU1RLDJCQUEyQnBFLDZDQUFNQSxDQUFTO0lBQ2hELE1BQU1xRSxtQkFBbUJyRSw2Q0FBTUEsQ0FBVTtJQUN6QyxNQUFNc0UsZUFBZXRFLDZDQUFNQSxDQUFTO0lBRXBDLGlFQUFpRTtJQUNqRSxNQUFNdUUsOEJBQThCekUsa0RBQVdBO3NFQUFDO1lBQzlDLElBQUk7Z0JBQ0ZpRSxrQkFBa0I7Z0JBQ2xCRSx3QkFBd0I7Z0JBQ3hCbkQsUUFBUUMsR0FBRyxDQUFDO2dCQUVaLDRCQUE0QjtnQkFDNUIsSUFBSSxDQUFDTCxrQkFBa0I7b0JBQ3JCSSxRQUFRSyxLQUFLLENBQUM7b0JBQ1owQyx1QkFBdUI7b0JBQ3pCRixTQUFTO29CQUNUSSxrQkFBa0I7b0JBQ2xCRSx3QkFBd0I7b0JBQ3hCLE9BQU87Z0JBQ1Q7Z0JBQ0FuRCxRQUFRQyxHQUFHLENBQUMsQ0FBQywyQkFBMkIsRUFBRUwsa0JBQWtCO2dCQUU1RCxvQ0FBb0M7Z0JBQ3BDSSxRQUFRQyxHQUFHLENBQUM7Z0JBQ1osSUFBSSxJQUFpRCxFQUFFO29CQUNyREQsUUFBUUssS0FBSyxDQUFDO29CQUNkd0MsU0FBUztvQkFDVEksa0JBQWtCO29CQUNsQkUsd0JBQXdCO29CQUN4QixPQUFPO2dCQUNUO2dCQUNBbkQsUUFBUUMsR0FBRyxDQUFDO2dCQUVaLGlCQUFpQjtnQkFDakIsSUFBSTtvQkFDRixNQUFNMkQsVUFBVSxNQUFNRixPQUFPQyxRQUFRLENBQUNFLE9BQU8sQ0FBQzt3QkFBRTFCLFFBQVE7b0JBQWM7b0JBQ3RFbkMsUUFBUUMsR0FBRyxDQUFDLENBQUMscUJBQXFCLEVBQUUyRCxTQUFTO29CQUU3Qyx5RUFBeUU7b0JBQ3pFLE1BQU1FLGlCQUFpQkYsWUFBWSxjQUFjQSxZQUFZO29CQUM3RCxJQUFJLENBQUNFLGdCQUFnQjt3QkFDbkI5RCxRQUFRcUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLEVBQUV1QixRQUFRLDhEQUE4RCxDQUFDO29CQUM5SCxPQUFPO3dCQUNMNUQsUUFBUUMsR0FBRyxDQUFDLENBQUMsa0NBQWtDLEVBQUUyRCxTQUFTO29CQUM1RDtnQkFDRixFQUFFLE9BQU92RCxPQUFPO29CQUNkTCxRQUFRSyxLQUFLLENBQUMsNkJBQTZCQTtnQkFDN0M7Z0JBRUEscUNBQXFDO2dCQUNyQyxJQUFJO29CQUNGTCxRQUFRQyxHQUFHLENBQUM7b0JBQ1osTUFBTThELFdBQVcsTUFBTUwsT0FBT0MsUUFBUSxDQUFDRSxPQUFPLENBQUM7d0JBQUUxQixRQUFRO29CQUFzQjtvQkFDL0VuQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyx5QkFBeUIsRUFBRThELFNBQVNDLElBQUksQ0FBQyxPQUFPO2dCQUMvRCxFQUFFLE9BQU8zRCxPQUFPO29CQUNkTCxRQUFRSyxLQUFLLENBQUMsdUNBQXVDQTtvQkFDckR3QyxTQUFTO29CQUNUSSxrQkFBa0I7b0JBQ2xCRSx3QkFBd0I7b0JBQ3hCLE9BQU87Z0JBQ1Q7Z0JBRUEsNEVBQTRFO2dCQUM1RSxJQUFJO29CQUNGLE1BQU1TLFVBQVUsTUFBTUYsT0FBT0MsUUFBUSxDQUFDRSxPQUFPLENBQUM7d0JBQUUxQixRQUFRO29CQUFjO29CQUV0RSxvRUFBb0U7b0JBQ3BFLElBQUl5QixZQUFZLFVBQVU7d0JBQ3hCNUQsUUFBUUMsR0FBRyxDQUFDO29CQUNkLE9BRUssSUFBSTJELFlBQVksWUFBWTt3QkFDL0I1RCxRQUFRQyxHQUFHLENBQUM7d0JBRVosSUFBSTs0QkFDRix1RUFBdUU7NEJBQ3ZFLE1BQU15RCxPQUFPQyxRQUFRLENBQUNFLE9BQU8sQ0FBQztnQ0FDNUIxQixRQUFRO2dDQUNSOEIsUUFBUTtvQ0FBQzt3Q0FBRUwsU0FBUztvQ0FBUztpQ0FBRSxDQUFDLHdCQUF3Qjs0QkFDMUQ7NEJBQ0E1RCxRQUFRQyxHQUFHLENBQUM7d0JBQ2QsRUFBRSxPQUFPaUUsb0JBQXlCOzRCQUNoQyw2Q0FBNkM7NEJBQzdDbEUsUUFBUUMsR0FBRyxDQUFDOzRCQUVaLElBQUk7Z0NBQ0YsTUFBTXlELE9BQU9DLFFBQVEsQ0FBQ0UsT0FBTyxDQUFDO29DQUM1QjFCLFFBQVE7b0NBQ1I4QixRQUFRO3dDQUFDOzRDQUFFTCxTQUFTO3dDQUFXO3FDQUFFLENBQUMsa0JBQWtCO2dDQUN0RDtnQ0FDQTVELFFBQVFDLEdBQUcsQ0FBQzs0QkFDZCxFQUFFLE9BQU9rRSxvQkFBeUI7Z0NBQ2hDLDRFQUE0RTtnQ0FDNUUsSUFBSUEsbUJBQW1CbEQsSUFBSSxLQUFLLE1BQU07b0NBQ3BDakIsUUFBUUssS0FBSyxDQUFDLGdEQUFnRDhEO29DQUM5RHRCLFNBQVM7b0NBQ1RJLGtCQUFrQjtvQ0FDbEJFLHdCQUF3QjtvQ0FDeEIsT0FBTztnQ0FDVDtnQ0FFQSx5Q0FBeUM7Z0NBQ3pDbkQsUUFBUUMsR0FBRyxDQUFDO2dDQUNaLElBQUk7b0NBQ0YsTUFBTXlELE9BQU9DLFFBQVEsQ0FBQ0UsT0FBTyxDQUFDO3dDQUM1QjFCLFFBQVE7d0NBQ1I4QixRQUFROzRDQUFDO2dEQUNQTCxTQUFTO2dEQUNUUSxXQUFXO2dEQUNYQyxnQkFBZ0I7b0RBQUVyQyxNQUFNO29EQUFPc0MsUUFBUTtvREFBT0MsVUFBVTtnREFBRztnREFDM0RDLFNBQVM7b0RBQUM7aURBQWdDO2dEQUMxQ0MsbUJBQW1CO29EQUFDO2lEQUFnQzs0Q0FDdEQ7eUNBQUU7b0NBQ0o7b0NBQ0F6RSxRQUFRQyxHQUFHLENBQUM7Z0NBQ2QsRUFBRSxPQUFPeUUsaUJBQWlCO29DQUN4QjFFLFFBQVFLLEtBQUssQ0FBQyxvQ0FBb0NxRTtvQ0FDbEQ3QixTQUFTO29DQUNUSSxrQkFBa0I7b0NBQ2xCRSx3QkFBd0I7b0NBQ3hCLE9BQU87Z0NBQ1Q7NEJBQ0Y7d0JBQ0U7b0JBQ0YsT0FBTzt3QkFDVG5ELFFBQVFDLEdBQUcsQ0FBQztvQkFDZDtnQkFDRixFQUFFLE9BQU8wRSxjQUFjO29CQUNyQjNFLFFBQVFLLEtBQUssQ0FBQyw4QkFBOEJzRTtvQkFDNUM5QixTQUFTO29CQUNUSSxrQkFBa0I7b0JBQ2xCRSx3QkFBd0I7b0JBQ3hCLE9BQU87Z0JBQ1Q7Z0JBRUEsc0NBQXNDO2dCQUN0Q25ELFFBQVFDLEdBQUcsQ0FBQztnQkFDWixNQUFNYyxXQUFXLElBQUkxQiwwQ0FBTUEsQ0FBQ3VGLGVBQWUsQ0FBQ2xCLE9BQU9DLFFBQVE7Z0JBQzNELE1BQU1rQixZQUFZLE1BQU05RCxTQUFTK0QsU0FBUztnQkFDMUMsTUFBTUMsZ0JBQWdCLE1BQU1GLFVBQVVHLFVBQVU7Z0JBQ2hEaEYsUUFBUUMsR0FBRyxDQUFDLENBQUMsMkJBQTJCLEVBQUU4RSxlQUFlO2dCQUV6RCxnQkFBZ0I7Z0JBQ2hCLElBQUksQ0FBQ3JGLE9BQU9BLElBQUl5QixNQUFNLEtBQUssR0FBRztvQkFDNUJuQixRQUFRSyxLQUFLLENBQUM7b0JBQ2R3QyxTQUFTO29CQUNUSSxrQkFBa0I7b0JBQ2xCRSx3QkFBd0I7b0JBQ3hCLE9BQU87Z0JBQ1Q7Z0JBRUEseUJBQXlCO2dCQUN6QixJQUFJLENBQUMvQixvQkFBb0IxQixNQUFNO29CQUNyQnFELHVCQUF1QjtvQkFDL0JGLFNBQVM7b0JBQ1RJLGtCQUFrQjtvQkFDbEJFLHdCQUF3QjtvQkFDeEIsT0FBTztnQkFDVDtnQkFFQSw2Q0FBNkM7Z0JBQzdDLE1BQU04QixpQkFBaUJ2RixJQUFJd0YsSUFBSTtpR0FBQyxDQUFDdkQsT0FDL0IsT0FBT0EsU0FBUyxXQUNaQSxLQUFLRSxRQUFRLENBQUMsaUJBQ2RGLEtBQUtLLElBQUksS0FBSzs7Z0JBR3BCLElBQUksQ0FBQ2lELGdCQUFnQjtvQkFDbkJqRixRQUFRcUMsSUFBSSxDQUFDO2dCQUNmO2dCQUVBLG9DQUFvQztnQkFDcENyQyxRQUFRQyxHQUFHLENBQUMsQ0FBQywwQ0FBMEMsRUFBRUwsa0JBQWtCO2dCQUMzRSxNQUFNNkMsV0FBVyxJQUFJcEQsMENBQU1BLENBQUNDLFFBQVEsQ0FBQ00sa0JBQWtCRixLQUFLbUY7Z0JBQzVEekIsWUFBWStCLE9BQU8sR0FBRzFDO2dCQUV0QixvQ0FBb0M7Z0JBQ3BDLE1BQU0yQyxrQkFBa0IsTUFBTXZFLHNCQUFzQmpCLGtCQUFrQm1CO2dCQUN0RSxJQUFJLENBQUNxRSxpQkFBaUI7b0JBQ3BCcEYsUUFBUUssS0FBSyxDQUFDLENBQUMsNkJBQTZCLEVBQUVULGtCQUFrQjtvQkFDMURtRCx1QkFBdUI7b0JBQzdCRixTQUFTLENBQUMsbUNBQW1DLEVBQUVqRCxpQkFBaUIsbUVBQW1FLENBQUM7b0JBQ3BJcUQsa0JBQWtCO29CQUNsQkUsd0JBQXdCLENBQUMsb0JBQW9CLEVBQUV2RCxpQkFBaUIsNkNBQTZDLENBQUM7b0JBQzlHLE9BQU87Z0JBQ1Q7Z0JBRUEsNERBQTREO2dCQUM1RCxJQUFJO29CQUNGSSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxxREFBcUQsQ0FBQztvQkFDbkUsTUFBTW9GLFFBQVEsTUFBTTVDLFNBQVM2QyxXQUFXO29CQUN4Q3RGLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdEQUFnRCxFQUFFb0YsT0FBTztnQkFDeEUsRUFBRSxPQUFPaEYsT0FBWTtvQkFDbkJMLFFBQVFLLEtBQUssQ0FBQyxDQUFDLCtCQUErQixDQUFDLEVBQUVBO29CQUVqRCwrREFBK0Q7b0JBQy9ELElBQUlBLE1BQU1FLE9BQU8sQ0FBQ3NCLFFBQVEsQ0FBQyxpQ0FBaUM7d0JBQzFEN0IsUUFBUUssS0FBSyxDQUFDO3dCQUNkMEMsdUJBQXVCO3dCQUN2QkYsU0FBUyxDQUFDLHNDQUFzQyxFQUFFakQsaUJBQWlCLG1GQUFtRixDQUFDO3dCQUN2SnFELGtCQUFrQjt3QkFDbEJFLHdCQUF3QixDQUFDLHNDQUFzQyxFQUFFdkQsaUJBQWlCLG1GQUFtRixDQUFDO3dCQUN0SyxPQUFPO29CQUNUO29CQUVBLDJDQUEyQztvQkFDM0MsSUFBSVMsTUFBTUUsT0FBTyxDQUFDc0IsUUFBUSxDQUFDLDBCQUEwQjt3QkFDbkQ3QixRQUFRSyxLQUFLLENBQUM7b0JBQ2hCLE9BQU8sSUFBSUEsTUFBTUUsT0FBTyxDQUFDc0IsUUFBUSxDQUFDLG9CQUFvQjt3QkFDcEQ3QixRQUFRSyxLQUFLLENBQUM7b0JBQ2hCLE9BQU8sSUFBSUEsTUFBTUUsT0FBTyxDQUFDc0IsUUFBUSxDQUFDLDBCQUEwQjt3QkFDMUQ3QixRQUFRSyxLQUFLLENBQUM7b0JBQ2hCO29CQUVBMEMsdUJBQXVCO29CQUN2QkYsU0FBUyxDQUFDLDJCQUEyQixFQUFFeEMsTUFBTUUsT0FBTyxFQUFFO29CQUN0RDBDLGtCQUFrQjtvQkFDbEJFLHdCQUF3QixDQUFDLDJCQUEyQixFQUFFOUMsTUFBTUUsT0FBTyxFQUFFO29CQUNyRSxPQUFPO2dCQUNUO2dCQUVBLHNCQUFzQjtnQkFDdEJ3Qyx1QkFBdUI7Z0JBQ3ZCTSx1QkFBdUI4QixPQUFPLEdBQUc7Z0JBRWpDekMsWUFBWUQ7Z0JBRVp6QyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxzREFBc0QsQ0FBQztnQkFDcEUsT0FBTztZQUNQLEVBQUUsT0FBT3NGLEtBQUs7Z0JBQ2R2RixRQUFRSyxLQUFLLENBQUMsQ0FBQyxnQ0FBZ0MsQ0FBQyxFQUFFa0Y7Z0JBQzlDeEMsdUJBQXVCO2dCQUMzQkYsU0FBUyxDQUFDLCtCQUErQixFQUFFMEMsZUFBZWpGLFFBQVFpRixJQUFJaEYsT0FBTyxHQUFHLGlCQUFpQjtnQkFDakcsT0FBTztZQUNUO1FBQ0Y7cUVBQUcsRUFBRTtJQUVMLHdDQUF3QztJQUN4QyxNQUFNaUYseUJBQXlCeEcsa0RBQVdBO2lFQUFDO1lBQ3pDZ0IsUUFBUUMsR0FBRyxDQUFDO1lBRVosSUFBSSxDQUFDTCxrQkFBa0I7Z0JBQ3JCSSxRQUFRSyxLQUFLLENBQUM7Z0JBQ2QsT0FBTztZQUNUO1lBRUEsSUFBSTtnQkFDRixrREFBa0Q7Z0JBQ2xELElBQUksS0FBZ0QsRUFBRSxFQXlCckQsTUFBTTtvQkFDTEwsUUFBUXFDLElBQUksQ0FBQztvQkFDYixPQUFPO2dCQUNUO1lBQ0YsRUFBRSxPQUFPaEMsT0FBTztnQkFDZEwsUUFBUUssS0FBSyxDQUFDLDJDQUEyQ0E7Z0JBQ3pELE9BQU87WUFDVDtRQUNGO2dFQUFHO1FBQUNUO1FBQWtCNkM7UUFBVUs7S0FBb0I7SUFFcEQsNkRBQTZEO0lBQzdEN0QsZ0RBQVNBO3VDQUFDO1lBQ1IsSUFBSXVELFNBQVM7Z0JBQ1h4QyxRQUFRQyxHQUFHLENBQUM7Z0JBQ1p3RDtZQUNGO1FBQ0Y7c0NBQUc7UUFBQ2pCO1FBQVNpQjtLQUE0QjtJQUV6Qyw0Q0FBNEM7SUFDNUN4RSxnREFBU0E7dUNBQUM7WUFDUixJQUFJMkcsWUFBWTtZQUNoQixJQUFJQyxhQUFhO1lBRWpCLE1BQU1DO3NFQUF5QjtvQkFDN0IsSUFBSSxDQUFDRixXQUFXO29CQUVoQjVGLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHVCQUF1QixFQUFFNEYsYUFBYSxFQUFFLENBQUMsRUFBRTNGLG1CQUFtQjtvQkFFM0Usb0NBQW9DO29CQUNwQyxJQUFJNEMsdUJBQXVCTCxVQUFVO3dCQUNuQ3pDLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWjtvQkFDRjtvQkFFQSxzQ0FBc0M7b0JBQ3RDLElBQUl1QyxTQUFTO3dCQUNYLE1BQU05QixVQUFVLE1BQU0rQzt3QkFFdEIsSUFBSS9DLFNBQVM7NEJBQ1hWLFFBQVFDLEdBQUcsQ0FBQzs0QkFDWjt3QkFDRjtvQkFDRjtvQkFFQSwrREFBK0Q7b0JBQy9ENEY7b0JBRUEsSUFBSUEsYUFBYTNGLG1CQUFtQjt3QkFDbENGLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDZCQUE2QixFQUFFRSxpQkFBaUIsRUFBRSxDQUFDO3dCQUNoRTRGLFdBQVdELHdCQUF3QjNGO29CQUNyQyxPQUFPO3dCQUNMSCxRQUFRQyxHQUFHLENBQUM7b0JBQ2Q7Z0JBQ0Y7O1lBRUEsNEJBQTRCO1lBQzVCNkY7WUFFQTsrQ0FBTztvQkFDTEYsWUFBWTtnQkFDZDs7UUFDRjtzQ0FBRztRQUFDcEQ7UUFBU0M7UUFBVUs7UUFBcUJXO0tBQTRCO0lBRXhFLCtCQUErQjtJQUMvQixNQUFNc0IsZ0JBQWdCNUYsOENBQU9BO29EQUFDO1lBQzVCLElBQUksQ0FBQ29ELFFBQVEsT0FBTztZQUNwQixJQUFJO2dCQUNGLE9BQU8sTUFBTUEsT0FBT3lDLFVBQVU7WUFDaEMsRUFBRSxPQUFPM0UsT0FBTztnQkFDZEwsUUFBUUssS0FBSyxDQUFDLGlDQUFpQ0E7Z0JBQy9DLE9BQU87WUFDVDtRQUNGO21EQUFHO1FBQUNrQztLQUFPO0lBRVgsd0RBQXdEO0lBQ3hELE1BQU0sQ0FBQ3lELGtCQUFrQkMsb0JBQW9CLEdBQUdsSCwrQ0FBUUEsQ0FBZ0I7SUFFeEUsOERBQThEO0lBQzlERSxnREFBU0E7dUNBQUM7WUFDUixJQUFJc0QsUUFBUTtnQkFDVkEsT0FBT3lDLFVBQVUsR0FDZGtCLElBQUk7bURBQUNwRixDQUFBQTt3QkFDSm1GLG9CQUFvQm5GO29CQUN0QjtrREFDQ3FGLEtBQUs7bURBQUM5RixDQUFBQTt3QkFDTEwsUUFBUUssS0FBSyxDQUFDLGlDQUFpQ0E7d0JBQy9DNEYsb0JBQW9CO29CQUN0Qjs7WUFDSixPQUFPO2dCQUNMQSxvQkFBb0I7WUFDdEI7UUFDRjtzQ0FBRztRQUFDMUQ7S0FBTztJQUVYLHVFQUF1RTtJQUN2RSxNQUFNNkQsb0JBQW9CbEgsNkNBQU1BLENBQWdCO0lBRWhELHdEQUF3RDtJQUN4RCxNQUFNbUgsb0JBQW9Cckgsa0RBQVdBOzREQUFDO1lBQ3BDLE9BQU8sQ0FBQyxDQUFDb0UsWUFBWStCLE9BQU8sSUFBSTlCLHVCQUF1QjhCLE9BQU87UUFDaEU7MkRBQUcsRUFBRTtJQUVMLDhDQUE4QztJQUM5QyxNQUFNbUIsNEJBQTRCdEgsa0RBQVdBO29FQUFDO1lBQzVDLE1BQU11SCxZQUFZbEQsdUJBQXVCOEIsT0FBTztZQUVoRCxJQUFJLENBQUNvQixXQUFXO2dCQUNkLE1BQU1DLFdBQVc7Z0JBQ2pCLDRDQUE0QztnQkFDNUMzRCxTQUFTMkQ7Z0JBQ1QsT0FBTztvQkFBRUQsV0FBVztvQkFBT2xHLE9BQU9tRztnQkFBUztZQUM3QztZQUVBLE9BQU87Z0JBQUVELFdBQVc7Z0JBQU1sRyxPQUFPO1lBQUc7UUFDdEM7bUVBQUcsRUFBRTtJQUVMLHVEQUF1RDtJQUN2RCxNQUFNb0csc0JBQXNCekgsa0RBQVdBOzhEQUFDO1lBQ3RDZ0IsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBT3dEO1FBQ1Q7NkRBQUc7UUFBQ0E7S0FBNEI7SUFFaEMsMEJBQTBCO0lBQzFCLE1BQU1pRCxlQUFlMUgsa0RBQVdBO3VEQUFDLE9BQy9CMkgsT0FDQUMsYUFDQUMsUUFDQUMsVUFDQUMsWUFDQUMsVUFDQUMsV0FDQUMsYUFDQUMsb0JBQTRCLEdBQUcseUNBQXlDO1FBQTFDO1lBRTlCLE1BQU0sRUFBRVosU0FBUyxFQUFFbEcsT0FBTytHLGlCQUFpQixFQUFFLEdBQUdkO1lBQ2hELElBQUksQ0FBQ0MsV0FBVztnQkFDZCxPQUFPO29CQUFFN0YsU0FBUztvQkFBT0wsT0FBTytHO2dCQUFrQjtZQUNwRDtZQUVBLElBQUksQ0FBQzdFLFFBQVE7Z0JBQ1gsT0FBTztvQkFBRTdCLFNBQVM7b0JBQU9MLE9BQU87Z0JBQXVCO1lBQ3pEO1lBRUF1QyxXQUFXO1lBQ1hDLFNBQVM7WUFFVCxJQUFJO2dCQUNGLHVEQUF1RDtnQkFDdkQsTUFBTXdFLG9CQUFvQkMsT0FBTy9ILGlEQUFTQSxDQUFDdUgsYUFBYTtnQkFFeEQsTUFBTVMsS0FBSyxNQUFNbkUsWUFBWStCLE9BQU8sQ0FBRXVCLFlBQVksQ0FDaERDLE9BQ0FDLGFBQ0FDLFFBQ0FRLG1CQUNBTixZQUNBQyxVQUNBQyxXQUNBQyxhQUNBQztnQkFHRixNQUFNSyxVQUFVLE1BQU1ELEdBQUdFLElBQUk7Z0JBRTdCLDRDQUE0QztnQkFDNUMsTUFBTUMsUUFBUUYsUUFBUUcsSUFBSSxFQUN0QmpHO21FQUFPLENBQUN6QixNQUFhQSxJQUFJMkgsUUFBUSxFQUFFNUYsU0FBUzttRUFDNUMsQ0FBQyxFQUFFO2dCQUVQLElBQUk2RjtnQkFDSixJQUFJSCxTQUFTQSxNQUFNSSxJQUFJLEVBQUU7b0JBQ3ZCRCxXQUFXSCxNQUFNSSxJQUFJLENBQUMsRUFBRSxDQUFDbkMsUUFBUTtnQkFDbkMsT0FBTztvQkFDTGtDLFdBQVcsaUJBQWlCRSxLQUFLQyxHQUFHO2dCQUN0QztnQkFFQSxPQUFPO29CQUNMdEgsU0FBUztvQkFDVEUsTUFBTTt3QkFBRXFILElBQUlKO29CQUFTO29CQUNyQkssTUFBTVYsUUFBUVcsZUFBZTtnQkFDL0I7WUFDRixFQUFFLE9BQU81QyxLQUFVO2dCQUNqQjFDLFNBQVMwQyxJQUFJaEYsT0FBTyxJQUFJO2dCQUN4QixPQUFPO29CQUFFRyxTQUFTO29CQUFPTCxPQUFPa0YsSUFBSWhGLE9BQU8sSUFBSTtnQkFBMEI7WUFDM0UsU0FBVTtnQkFDUnFDLFdBQVc7WUFDYjtRQUNGO3NEQUFHO1FBQUNRO1FBQWFiO1FBQVErRDtLQUEwQjtJQUVuRCxrQkFBa0I7SUFDbEIsTUFBTThCLFlBQVlwSixrREFBV0E7b0RBQUMsT0FBT2lKO1lBQ25DakksUUFBUUMsR0FBRyxDQUFDLENBQUMscUNBQXFDLEVBQUVnSSxJQUFJO1lBRXhELDhCQUE4QjtZQUM5QixNQUFNLEVBQUUxQixTQUFTLEVBQUVsRyxPQUFPK0csaUJBQWlCLEVBQUUsR0FBR2Q7WUFDaEQsSUFBSSxDQUFDQyxXQUFXO2dCQUNkdkcsUUFBUUssS0FBSyxDQUFDLENBQUMsd0NBQXdDLEVBQUUrRyxtQkFBbUI7Z0JBQzVFdkUsU0FBU3VFLHFCQUFxQjtnQkFDOUIsT0FBTztvQkFBRTFHLFNBQVM7b0JBQU9MLE9BQU8rRyxxQkFBcUI7b0JBQTBCeEcsTUFBTTtnQkFBSztZQUM1RjtZQUVBLElBQUk7Z0JBQ0ZaLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFZ0ksR0FBRyxpQkFBaUIsQ0FBQztnQkFDdEQsTUFBTUksYUFBYSxNQUFNakYsWUFBWStCLE9BQU8sQ0FBRWlELFNBQVMsQ0FBQ0g7Z0JBQ3hEakksUUFBUUMsR0FBRyxDQUFDLENBQUMsNEJBQTRCLENBQUMsRUFBRW9JO2dCQUU1Qyw4RUFBOEU7Z0JBQzlFLElBQUlBLFdBQVdKLEVBQUUsQ0FBQ3RDLFFBQVEsT0FBTyxLQUFLO29CQUNwQzNGLFFBQVFxQyxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRTRGLEdBQUcsMkJBQTJCLENBQUM7b0JBQ2pFLE9BQU87d0JBQUV2SCxTQUFTO3dCQUFPTCxPQUFPO3dCQUF5Qk8sTUFBTTtvQkFBSztnQkFDdEU7Z0JBRUEsSUFBSTtvQkFDRix3RkFBd0Y7b0JBQ3hGLHVEQUF1RDtvQkFDdkQsSUFBSSxDQUFDeUgsWUFBWTt3QkFDZixNQUFNLElBQUkvSCxNQUFNO29CQUNsQjtvQkFFQSwwQ0FBMEM7b0JBQzFDLE1BQU1nSSxZQUE0Qjt3QkFBQzt3QkFBUTt3QkFBVTt3QkFBVzt3QkFBYTtxQkFBWTtvQkFDekYsTUFBTUMsU0FBU0QsU0FBUyxDQUFDaEIsT0FBT2UsV0FBV0UsTUFBTSxFQUFFLElBQUk7b0JBRXZELDhDQUE4QztvQkFDOUMsTUFBTUMsZ0JBQWdDO3dCQUN0Q1AsSUFBSUksV0FBV0osRUFBRSxDQUFDdEMsUUFBUTt3QkFDMUJnQixPQUFPMEIsV0FBVzFCLEtBQUs7d0JBQ3ZCQyxhQUFheUIsV0FBV3pCLFdBQVc7d0JBQ2pDQyxRQUFRd0IsV0FBV3hCLE1BQU07d0JBQ3pCQyxVQUFVdUIsV0FBV3ZCLFFBQVE7d0JBQzdCMkIsVUFBVW5CLE9BQU9lLFdBQVdJLFFBQVE7d0JBQ3BDQyxRQUFRcEIsT0FBT2UsV0FBV0ssTUFBTTt3QkFDbEN6QixXQUFXb0IsV0FBV3BCLFNBQVM7d0JBQzdCQyxhQUFhSSxPQUFPZSxXQUFXbkIsV0FBVzt3QkFDNUN5QixTQUFTTixXQUFXTSxPQUFPO3dCQUMzQkMsUUFBUVAsV0FBV08sTUFBTTt3QkFDdkJMLFFBQVFBO3dCQUNSTSxXQUFXLElBQUlkLEtBQUtULE9BQU9lLFdBQVdRLFNBQVMsSUFBSSxNQUFNQyxXQUFXO3dCQUNwRUMsV0FBVyxJQUFJaEIsS0FBS1QsT0FBT2UsV0FBV1UsU0FBUyxJQUFJLE1BQU1ELFdBQVc7d0JBQ3BFRSxVQUFVQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsS0FBSyxDQUFDLENBQUM3QixPQUFPZSxXQUFXVSxTQUFTLElBQUksT0FBT2hCLEtBQUtDLEdBQUcsRUFBQyxJQUFLO29CQUN4RjtvQkFFQSxPQUFPO3dCQUFFdEgsU0FBUzt3QkFBTUUsTUFBTTRIO29CQUFjO2dCQUNoRCxFQUFFLE9BQU9qRCxLQUFVO29CQUNmdkYsUUFBUUssS0FBSyxDQUFDLDhCQUE4QmtGO29CQUM1QyxPQUFPO3dCQUFFN0UsU0FBUzt3QkFBT0wsT0FBTyxDQUFDLDJCQUEyQixFQUFFa0YsSUFBSWhGLE9BQU8sRUFBRTt3QkFBRUssTUFBTTtvQkFBSztnQkFDMUY7WUFDRixFQUFFLE9BQU8yRSxLQUFVO2dCQUNqQnZGLFFBQVFLLEtBQUssQ0FBQyxDQUFDLHdCQUF3QixFQUFFNEgsR0FBRyxDQUFDLENBQUMsRUFBRTFDO2dCQUVoRCxtREFBbUQ7Z0JBQ25ELElBQUlBLElBQUloRixPQUFPLElBQ1hnRixDQUFBQSxJQUFJaEYsT0FBTyxDQUFDc0IsUUFBUSxDQUFDLDRCQUNwQjBELElBQUk1RSxNQUFNLElBQUk0RSxJQUFJNUUsTUFBTSxDQUFDa0IsUUFBUSxDQUFDLHdCQUF3QixHQUM1RDtvQkFDRDdCLFFBQVFxQyxJQUFJLENBQUMsQ0FBQyw2QkFBNkIsRUFBRTRGLEdBQUcsZUFBZSxDQUFDO29CQUNoRSxPQUFPO3dCQUFFdkgsU0FBUzt3QkFBT0wsT0FBTzt3QkFBeUJPLE1BQU07b0JBQUs7Z0JBQ3RFO2dCQUVBaUMsU0FBUzBDLElBQUloRixPQUFPLElBQUk7Z0JBQ3hCLE9BQU87b0JBQUVHLFNBQVM7b0JBQU9MLE9BQU8sQ0FBQyx1QkFBdUIsRUFBRWtGLElBQUloRixPQUFPLElBQUksaUJBQWlCO29CQUFFSyxNQUFNO2dCQUFLO1lBQ3pHO1FBQ0Y7bURBQUc7UUFBQ3dDO1FBQWFrRDtRQUEyQnpEO0tBQVM7SUFFckQsc0NBQXNDO0lBQ3RDLE1BQU11RyxtQkFBbUJwSyxrREFBV0E7MkRBQUM7WUFDbkMsTUFBTWdKLE1BQU1ELEtBQUtDLEdBQUc7WUFDcEJoSSxRQUFRQyxHQUFHLENBQUMsQ0FBQyw2QkFBNkIsRUFBRSxJQUFJOEgsS0FBS0MsS0FBS2MsV0FBVyxJQUFJO1lBQ3pFOUksUUFBUUMsR0FBRyxDQUFDLENBQUMsaUNBQWlDLEVBQUUrSCxNQUFNMUUseUJBQXlCNkIsT0FBTyxDQUFDLE1BQU0sQ0FBQztZQUM5Rm5GLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFDQUFxQyxFQUFFc0QsaUJBQWlCNEIsT0FBTyxFQUFFO1lBQzlFbkYsUUFBUUMsR0FBRyxDQUFDLENBQUMsdUNBQXVDLEVBQUU2QyxvQkFBb0IsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDTSxZQUFZK0IsT0FBTyxFQUFFO1lBRW5ILDhCQUE4QjtZQUM5QixJQUFJNkMsTUFBTTFFLHlCQUF5QjZCLE9BQU8sR0FBRyxNQUFNO2dCQUNqRG5GLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixPQUFPO29CQUNMUyxTQUFTO29CQUNUTCxPQUFPO29CQUNQTyxNQUFNLEVBQUU7Z0JBQ1Y7WUFDRjtZQUVBLGtDQUFrQztZQUNsQyxJQUFJMkMsaUJBQWlCNEIsT0FBTyxFQUFFO2dCQUM1Qm5GLFFBQVFDLEdBQUcsQ0FBQztnQkFDWixPQUFPO29CQUNMUyxTQUFTO29CQUNUTCxPQUFPO29CQUNQTyxNQUFNLEVBQUU7Z0JBQ1Y7WUFDRjtZQUVBLHFCQUFxQjtZQUNyQlosUUFBUUMsR0FBRyxDQUFDO1lBQ1pzRCxpQkFBaUI0QixPQUFPLEdBQUc7WUFDM0I3Qix5QkFBeUI2QixPQUFPLEdBQUc2QztZQUNuQ3BGLFdBQVc7WUFFWCxnREFBZ0Q7WUFDaEQsTUFBTSxFQUFFMkQsU0FBUyxFQUFFbEcsT0FBTytHLGlCQUFpQixFQUFFLEdBQUdkO1lBQ2hELElBQUksQ0FBQ0MsV0FBVztnQkFDZHZHLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDZDQUE2QyxFQUFFbUgsbUJBQW1CO2dCQUMvRTdELGlCQUFpQjRCLE9BQU8sR0FBRztnQkFDM0J2QyxXQUFXO2dCQUNYLE9BQU87b0JBQ0xsQyxTQUFTO29CQUNUTCxPQUFPK0cscUJBQXFCO29CQUM1QnhHLE1BQU0sRUFBRTtnQkFDVjtZQUNGO1lBRUEsSUFBSTtnQkFDRiwyQkFBMkI7Z0JBQzNCWixRQUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTW9KLGlCQUFpQixJQUFJQzt1RUFBZSxDQUFDQyxHQUFHQzt3QkFDNUN6RDsrRUFBVyxJQUFNeUQsT0FBTyxJQUFJbEosTUFBTTs4RUFBcUM7b0JBQ3pFOztnQkFFQSw2Q0FBNkM7Z0JBQzdDTixRQUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTXdKLGtCQUFrQixNQUFNSCxRQUFRSSxJQUFJLENBQUM7b0JBQ3pDdEcsWUFBWStCLE9BQU8sQ0FBRWlFLGdCQUFnQjtvQkFDckNDO2lCQUNEO2dCQUVEckosUUFBUUMsR0FBRyxDQUFDLENBQUMsNEJBQTRCLEVBQUV3SixpQkFBaUJ0SSxVQUFVLEVBQUUsV0FBVyxDQUFDO2dCQUVwRixJQUFJLENBQUNzSSxtQkFBbUJBLGdCQUFnQnRJLE1BQU0sS0FBSyxHQUFHO29CQUNwRG5CLFFBQVFDLEdBQUcsQ0FBQztvQkFDWnNELGlCQUFpQjRCLE9BQU8sR0FBRztvQkFDM0J2QyxXQUFXO29CQUNYLE9BQU87d0JBQ0xsQyxTQUFTO3dCQUNURSxNQUFNLEVBQUU7b0JBQ1Y7Z0JBQ0Y7Z0JBRUFaLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHdDQUF3QyxFQUFFd0osZ0JBQWdCdEksTUFBTSxDQUFDLFFBQVEsQ0FBQztnQkFDdkYsTUFBTXdJLGlCQUFpQkYsZ0JBQ3BCL0gsTUFBTTtzRkFBQyxDQUFDdUcsS0FBWUEsT0FBTyxRQUFRQSxPQUFPMkI7cUZBQzFDOUgsR0FBRztzRkFBQyxDQUFDbUc7d0JBQ0osTUFBTTRCLFdBQVc1QixHQUFHdEMsUUFBUTt3QkFDNUIzRixRQUFRQyxHQUFHLENBQUMsQ0FBQyxtQ0FBbUMsRUFBRTRKLFVBQVU7d0JBQzVELE9BQU96RyxZQUFZK0IsT0FBTyxDQUFFaUQsU0FBUyxDQUFDeUI7b0JBQ3hDOztnQkFFRixNQUFNQyxjQUFjLE1BQU1SLFFBQVFTLEdBQUcsQ0FBQ0o7Z0JBQ3RDM0osUUFBUUMsR0FBRyxDQUFDLENBQUMsNEJBQTRCLEVBQUU2SixZQUFZM0ksTUFBTSxDQUFDLGVBQWUsQ0FBQztnQkFFOUUsTUFBTTZJLFVBQTRCRixZQUFZaEksR0FBRzsrRUFBQyxDQUFDdUc7d0JBQ2pEckksUUFBUUMsR0FBRyxDQUFDLENBQUMscUNBQXFDLEVBQUVvSSxXQUFXSixFQUFFLENBQUN0QyxRQUFRLElBQUk7d0JBQzlFLE9BQU87NEJBQ0xzQyxJQUFJSSxXQUFXSixFQUFFLENBQUN0QyxRQUFROzRCQUMxQmdCLE9BQU8wQixXQUFXMUIsS0FBSzs0QkFDdkJDLGFBQWF5QixXQUFXekIsV0FBVzs0QkFDbkNDLFFBQVF3QixXQUFXeEIsTUFBTTs0QkFDekJDLFVBQVV1QixXQUFXdkIsUUFBUTs0QkFDN0IyQixVQUFVbkIsT0FBT2UsV0FBV0ksUUFBUTs0QkFDcENDLFFBQVFwQixPQUFPZSxXQUFXSyxNQUFNOzRCQUNoQ3pCLFdBQVdvQixXQUFXcEIsU0FBUzs0QkFDL0JDLGFBQWFJLE9BQU9lLFdBQVduQixXQUFXOzRCQUMxQ3lCLFNBQVNOLFdBQVdNLE9BQU87NEJBQzNCQyxRQUFRUCxXQUFXTyxNQUFNOzRCQUN6QkwsUUFBUTtnQ0FBQztnQ0FBUTtnQ0FBVTtnQ0FBVztnQ0FBYTs2QkFBWSxDQUFDakIsT0FBT2UsV0FBV0UsTUFBTSxFQUFFOzRCQUMxRk0sV0FBVyxJQUFJZCxLQUFLVCxPQUFPZSxXQUFXUSxTQUFTLElBQUksTUFBTUMsV0FBVzs0QkFDcEVDLFdBQVcsSUFBSWhCLEtBQUtULE9BQU9lLFdBQVdVLFNBQVMsSUFBSSxNQUFNRCxXQUFXO3dCQUN0RTtvQkFDRjs7Z0JBRUEsd0NBQXdDO2dCQUN4QyxNQUFNbUIsY0FBY2hCLEtBQUtFLEtBQUssQ0FBQ3BCLEtBQUtDLEdBQUcsS0FBSztnQkFDNUNnQyxRQUFRRSxPQUFPO3VFQUFDQyxDQUFBQTt3QkFDZCxNQUFNcEIsWUFBWUUsS0FBS0UsS0FBSyxDQUFDLElBQUlwQixLQUFLb0MsT0FBT3BCLFNBQVMsRUFBRXFCLE9BQU8sS0FBSzt3QkFDcEVELE9BQU9uQixRQUFRLEdBQUdELFlBQVlrQixjQUFjbEIsWUFBWWtCLGNBQWM7b0JBQ3hFOztnQkFFQWpLLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGlEQUFpRCxFQUFFK0osUUFBUTdJLE1BQU0sQ0FBQyxRQUFRLENBQUM7Z0JBQ3hGLE9BQU87b0JBQUVULFNBQVM7b0JBQU1FLE1BQU1vSjtnQkFBUTtZQUN4QyxFQUFFLE9BQU96RSxLQUFVO2dCQUNqQnZGLFFBQVFLLEtBQUssQ0FBQywrQkFBK0JrRjtnQkFDN0MxQyxTQUFTMEMsSUFBSWhGLE9BQU8sSUFBSTtnQkFDeEIsT0FBTztvQkFDTEcsU0FBUztvQkFDVEwsT0FBT2tGLElBQUloRixPQUFPLElBQUk7b0JBQ3RCSyxNQUFNLEVBQUU7Z0JBQ1Y7WUFDRixTQUFVO2dCQUNSWixRQUFRQyxHQUFHLENBQUM7Z0JBQ1pzRCxpQkFBaUI0QixPQUFPLEdBQUc7Z0JBQzNCdkMsV0FBVztZQUNiO1FBQ0Y7MERBQUc7UUFBQ1E7UUFBYWtEO0tBQTBCO0lBRTNDLG1CQUFtQjtJQUNuQixNQUFNK0QsYUFBYXJMLGtEQUFXQTtxREFBQyxPQUFPaUo7WUFDcEMsTUFBTSxFQUFFMUIsU0FBUyxFQUFFbEcsT0FBTytHLGlCQUFpQixFQUFFLEdBQUdkO1lBQ2hELElBQUksQ0FBQ0MsV0FBVztnQkFDZCxPQUFPO29CQUFFN0YsU0FBUztvQkFBT0wsT0FBTytHO2dCQUFrQjtZQUNwRDtZQUVBLElBQUksQ0FBQzdFLFFBQVE7Z0JBQ1gsT0FBTztvQkFBRTdCLFNBQVM7b0JBQU9MLE9BQU87Z0JBQXVCO1lBQ3pEO1lBRUF1QyxXQUFXO1lBQ1hDLFNBQVM7WUFFVCxJQUFJO2dCQUNGLE1BQU0wRSxLQUFLLE1BQU1uRSxZQUFZK0IsT0FBTyxDQUFFa0YsVUFBVSxDQUFDcEM7Z0JBQ2pELE1BQU1ULFVBQVUsTUFBTUQsR0FBR0UsSUFBSTtnQkFFN0IsT0FBTztvQkFDTC9HLFNBQVM7b0JBQ1R3SCxNQUFNVixRQUFRVyxlQUFlO2dCQUMvQjtZQUNGLEVBQUUsT0FBTzVDLEtBQVU7Z0JBQ2pCdkYsUUFBUUssS0FBSyxDQUFDLHdCQUF3QmtGO2dCQUN0QzFDLFNBQVMwQyxJQUFJaEYsT0FBTyxJQUFJO2dCQUN4QixPQUFPO29CQUFFRyxTQUFTO29CQUFPTCxPQUFPa0YsSUFBSWhGLE9BQU8sSUFBSTtnQkFBd0I7WUFDekUsU0FBVTtnQkFDUnFDLFdBQVc7WUFDYjtRQUNGO29EQUFHO1FBQUNRO1FBQWFiO1FBQVErRDtLQUEwQjtJQUVuRCx3RkFBd0Y7SUFDeEYsTUFBTWdFLG9CQUFvQnRMLGtEQUFXQTs0REFBQyxPQUFPNkk7WUFDM0MsSUFBSTtnQkFDRjdILFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQixFQUFFNEgsU0FBUyx3QkFBd0IsQ0FBQztnQkFFdkUsaURBQWlEO2dCQUNqRCxJQUFJO29CQUNGLE1BQU0wQyxpQkFBaUIsTUFBTW5DLFVBQVVQO29CQUN2QyxPQUFPMEMsZUFBZTdKLE9BQU8sSUFBSSxDQUFDLENBQUM2SixlQUFlM0osSUFBSSxFQUFFLHFEQUFxRDtnQkFDL0csRUFBRSxPQUFPUCxPQUFZO29CQUNuQiwwREFBMEQ7b0JBQzFETCxRQUFRSyxLQUFLLENBQUMsQ0FBQywyQ0FBMkMsQ0FBQyxFQUFFQTtvQkFFN0QsK0RBQStEO29CQUMvRCxJQUFJQSxNQUFNRSxPQUFPLElBQ2ZGLENBQUFBLE1BQU1FLE9BQU8sQ0FBQ3NCLFFBQVEsQ0FBQyw0QkFDdEJ4QixNQUFNTSxNQUFNLElBQUlOLE1BQU1NLE1BQU0sQ0FBQ2tCLFFBQVEsQ0FBQyx3QkFBd0IsR0FDOUQ7d0JBQ0Q3QixRQUFRcUMsSUFBSSxDQUFDLENBQUMsaURBQWlELEVBQUV3RixTQUFTLHVCQUF1QixDQUFDO3dCQUNsRyxPQUFPLE9BQU8sa0NBQWtDO29CQUNsRDtvQkFFQSxpREFBaUQ7b0JBQ2pELE9BQU87Z0JBQ1Q7WUFDRixFQUFFLE9BQU94SCxPQUFPO2dCQUNkTCxRQUFRSyxLQUFLLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQyxFQUFFQTtnQkFDdkQsT0FBTztZQUNUO1FBQ0Y7MkRBQUc7UUFBQytIO0tBQVU7SUFFZCwyREFBMkQ7SUFDM0QsTUFBTW9DLFlBQVl4TCxrREFBV0E7b0RBQUMsT0FDNUI2SSxVQUNBNEMsUUFDQUM7WUFFQSxNQUFNLEVBQUVuRSxTQUFTLEVBQUVsRyxPQUFPK0csaUJBQWlCLEVBQUUsR0FBR2Q7WUFDaEQsSUFBSSxDQUFDQyxXQUFXO2dCQUNkLE9BQU87b0JBQUU3RixTQUFTO29CQUFPTCxPQUFPK0c7Z0JBQWtCO1lBQ3BEO1lBRUEsSUFBSSxDQUFDN0UsUUFBUTtnQkFDWCxPQUFPO29CQUFFN0IsU0FBUztvQkFBT0wsT0FBTztnQkFBdUI7WUFDekQ7WUFFQXVDLFdBQVc7WUFDWEMsU0FBUztZQUVULElBQUk7Z0JBQ0Y3QyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsRUFBRTRILFNBQVMsZ0NBQWdDLENBQUM7Z0JBRS9FLDhFQUE4RTtnQkFDOUUsTUFBTThDLGVBQWUsTUFBTUwsa0JBQWtCekM7Z0JBQzdDLElBQUksQ0FBQzhDLGNBQWM7b0JBQ2pCLE1BQU1uRSxXQUFXLENBQUMsZUFBZSxFQUFFcUIsU0FBUyw2RUFBNkUsQ0FBQztvQkFDMUg3SCxRQUFRSyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUVtRyxVQUFVO29CQUM3QixPQUFPO3dCQUNMOUYsU0FBUzt3QkFDVEwsT0FBT21HO29CQUNUO2dCQUNGO2dCQUVBeEcsUUFBUUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUU0SCxTQUFTLEdBQUcsQ0FBQztnQkFFN0MsbUZBQW1GO2dCQUNuRixNQUFNTixLQUFLLE1BQU1uRSxZQUFZK0IsT0FBTyxDQUFFa0YsVUFBVSxDQUFDeEM7Z0JBRWpEN0gsUUFBUUMsR0FBRyxDQUFDLENBQUMsbUNBQW1DLEVBQUVzSCxHQUFHVyxJQUFJLEVBQUU7Z0JBQzNEbEksUUFBUUMsR0FBRyxDQUFDLENBQUMsMENBQTBDLENBQUM7Z0JBRXhELE1BQU11SCxVQUFVLE1BQU1ELEdBQUdFLElBQUk7Z0JBQzdCekgsUUFBUUMsR0FBRyxDQUFDLENBQUMsa0NBQWtDLEVBQUV1SCxRQUFRb0QsV0FBVyxFQUFFO2dCQUV0RSxPQUFPO29CQUNMbEssU0FBUztvQkFDVEUsTUFBTTt3QkFBRXNILE1BQU1WLFFBQVFVLElBQUk7b0JBQUM7b0JBQzNCQSxNQUFNVixRQUFRVSxJQUFJO2dCQUNwQjtZQUNGLEVBQUUsT0FBTzNDLEtBQVU7Z0JBQ2pCdkYsUUFBUUssS0FBSyxDQUFDLENBQUMsc0JBQXNCLENBQUMsRUFBRWtGO2dCQUV4QyxpQ0FBaUM7Z0JBQ2pDLElBQUlzRixlQUFlO2dCQUVuQixJQUFJdEYsSUFBSXRFLElBQUksS0FBSyxvQkFBb0JzRSxJQUFJdEUsSUFBSSxLQUFLLDJCQUEyQjtvQkFDM0UsMkJBQTJCO29CQUMzQixJQUFJc0UsSUFBSTVFLE1BQU0sRUFBRTt3QkFDZGtLLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRXRGLElBQUk1RSxNQUFNLEVBQUU7b0JBQ2hELE9BQU8sSUFBSTRFLElBQUloRixPQUFPLElBQUlnRixJQUFJaEYsT0FBTyxDQUFDc0IsUUFBUSxDQUFDLDBCQUEwQjt3QkFDdkVnSixlQUFlO29CQUNqQixPQUFPLElBQUl0RixJQUFJaEYsT0FBTyxJQUFJZ0YsSUFBSWhGLE9BQU8sQ0FBQ3NCLFFBQVEsQ0FBQyxnQ0FBZ0M7d0JBQzdFZ0osZUFBZTtvQkFDakIsT0FBTyxJQUFJdEYsSUFBSWhGLE9BQU8sSUFBSWdGLElBQUloRixPQUFPLENBQUNzQixRQUFRLENBQUMsdUJBQXVCO3dCQUNwRWdKLGVBQWU7b0JBQ2pCLE9BQU8sSUFBSXRGLElBQUloRixPQUFPLElBQUlnRixJQUFJaEYsT0FBTyxDQUFDc0IsUUFBUSxDQUFDLHVCQUF1Qjt3QkFDcEVnSixlQUFlO29CQUNqQixPQUFPO3dCQUNMQSxlQUFlLENBQUMsMkJBQTJCLEVBQUV0RixJQUFJaEYsT0FBTyxFQUFFO29CQUM1RDtnQkFDRixPQUFPLElBQUlnRixJQUFJdEUsSUFBSSxLQUFLLG1CQUFtQjtvQkFDekMsNEJBQTRCO29CQUM1QjRKLGVBQWU7Z0JBQ2pCLE9BQU8sSUFBSXRGLElBQUl0RSxJQUFJLEtBQUssc0JBQXNCO29CQUM1QyxxQkFBcUI7b0JBQ3JCNEosZUFBZTtnQkFDakIsT0FBTyxJQUFJdEYsSUFBSWhGLE9BQU8sRUFBRTtvQkFDdEIsNkJBQTZCO29CQUM3QnNLLGVBQWV0RixJQUFJaEYsT0FBTztnQkFDNUIsT0FBTztvQkFDTCxnQkFBZ0I7b0JBQ2hCc0ssZUFBZTtnQkFDakI7Z0JBRUFoSSxTQUFTZ0k7Z0JBQ1QsT0FBTztvQkFBRW5LLFNBQVM7b0JBQU9MLE9BQU93SztnQkFBYTtZQUMvQyxTQUFVO2dCQUNSakksV0FBVztZQUNiO1FBQ0Y7bURBQUc7UUFBQzBEO1FBQTJCL0Q7UUFBUWE7UUFBYWtIO0tBQWtCO0lBRXRFLGtGQUFrRjtJQUNsRixNQUFNUSxtQkFBbUI5TCxrREFBV0E7MkRBQUMsT0FBT2lKO1lBQzFDakksUUFBUUMsR0FBRyxDQUFDLENBQUMsc0NBQXNDLEVBQUVnSSxHQUFHLGdEQUFnRCxDQUFDO1lBRXpHLDhFQUE4RTtZQUM5RSxNQUFNLEVBQUUxQixTQUFTLEVBQUVsRyxPQUFPK0csaUJBQWlCLEVBQUUsR0FBR2Q7WUFDaEQsSUFBSSxDQUFDQyxXQUFXO2dCQUNkLE9BQU87b0JBQ0w3RixTQUFTO29CQUNUTCxPQUFPLENBQUMsd0JBQXdCLEVBQUUrRyxrQkFBa0IsbURBQW1ELENBQUM7Z0JBQzFHO1lBQ0Y7WUFFQXhFLFdBQVc7WUFDWEMsU0FBUztZQUVULElBQUk7Z0JBQ0YscURBQXFEO2dCQUNyRCxNQUFNc0gsU0FBUyxNQUFNL0csWUFBWStCLE9BQU8sQ0FBRWlELFNBQVMsQ0FBQ0g7Z0JBRXBELElBQUlrQyxVQUFVQSxPQUFPdkIsTUFBTSxJQUFJdUIsT0FBT3ZCLE1BQU0sS0FBSyw4Q0FBOEM7b0JBQzdGLHNEQUFzRDtvQkFDdEQsTUFBTW1DLFVBQVU7d0JBQ2Q5QyxJQUFJO3dCQUNKVyxRQUFRdUIsT0FBT3ZCLE1BQU07d0JBQ3JCNkIsUUFBUTt3QkFDUk8sV0FBVyxJQUFJakQsS0FBS1QsT0FBTzZDLE9BQU90QixTQUFTLElBQUksTUFBTUMsV0FBVzt3QkFDaEVQLFFBQVE0QixPQUFPNUIsTUFBTSxLQUFLLElBQUksYUFBYSxVQUFVLHVCQUF1QjtvQkFDOUU7b0JBRUYsT0FBTzt3QkFDTDdILFNBQVM7d0JBQ1BFLE1BQU07NEJBQUNtSzt5QkFBUTt3QkFDZjFLLE9BQU87b0JBQ1Q7Z0JBQ0Y7Z0JBRUEsT0FBTztvQkFDTEssU0FBUztvQkFDVEUsTUFBTSxFQUFFO29CQUNSUCxPQUFPO2dCQUNUO1lBQ0YsRUFBRSxPQUFPa0YsS0FBVTtnQkFDakJ2RixRQUFRSyxLQUFLLENBQUMsc0NBQXNDa0Y7Z0JBQ3BEMUMsU0FBUzBDLElBQUloRixPQUFPLElBQUk7Z0JBQ3hCLE9BQU87b0JBQ0xHLFNBQVM7b0JBQ1RMLE9BQU9rRixJQUFJaEYsT0FBTyxJQUFJO29CQUN0QkssTUFBTSxFQUFFO2dCQUNWO1lBQ0YsU0FBVTtnQkFDUmdDLFdBQVc7WUFDYjtRQUNGOzBEQUFHO1FBQUNRO1FBQWFrRDtLQUEwQjtJQUUzQyxtQkFBbUI7SUFDbkIsTUFBTTJFLGlCQUFpQmpNLGtEQUFXQTt5REFBQyxPQUFPaUo7WUFDeEMsTUFBTSxFQUFFMUIsU0FBUyxFQUFFbEcsT0FBTytHLGlCQUFpQixFQUFFLEdBQUdkO1lBQ2hELElBQUksQ0FBQ0MsV0FBVztnQkFDZCxPQUFPO29CQUFFN0YsU0FBUztvQkFBT0wsT0FBTytHO2dCQUFrQjtZQUNwRDtZQUVBLElBQUksQ0FBQzdFLFFBQVE7Z0JBQ1gsT0FBTztvQkFBRTdCLFNBQVM7b0JBQU9MLE9BQU87Z0JBQXVCO1lBQ3pEO1lBRUF1QyxXQUFXO1lBQ1hDLFNBQVM7WUFFVCxJQUFJO2dCQUNGLE1BQU0wRSxLQUFLLE1BQU1uRSxZQUFZK0IsT0FBTyxDQUFFOEYsY0FBYyxDQUFDaEQ7Z0JBQ3JELE1BQU1ULFVBQVUsTUFBTUQsR0FBR0UsSUFBSTtnQkFFN0IsT0FBTztvQkFDTC9HLFNBQVM7b0JBQ1R3SCxNQUFNVixRQUFRVyxlQUFlO2dCQUMvQjtZQUNGLEVBQUUsT0FBTzVDLEtBQVU7Z0JBQ2pCdkYsUUFBUUssS0FBSyxDQUFDLDRCQUE0QmtGO2dCQUMxQzFDLFNBQVMwQyxJQUFJaEYsT0FBTyxJQUFJO2dCQUN4QixPQUFPO29CQUFFRyxTQUFTO29CQUFPTCxPQUFPa0YsSUFBSWhGLE9BQU8sSUFBSTtnQkFBNEI7WUFDN0UsU0FBVTtnQkFDUnFDLFdBQVc7WUFDYjtRQUNGO3dEQUFHO1FBQUNRO1FBQWFiO1FBQVErRDtLQUEwQjtJQUVuRCxrQkFBa0I7SUFDbEIsTUFBTTRFLGVBQWVsTSxrREFBV0E7dURBQUMsT0FBT2lKO1lBQ3RDLE1BQU0sRUFBRTFCLFNBQVMsRUFBRWxHLE9BQU8rRyxpQkFBaUIsRUFBRSxHQUFHZDtZQUNoRCxJQUFJLENBQUNDLFdBQVc7Z0JBQ2QsT0FBTztvQkFBRTdGLFNBQVM7b0JBQU9MLE9BQU8rRztnQkFBa0I7WUFDcEQ7WUFFQSxJQUFJLENBQUM3RSxRQUFRO2dCQUNYLE9BQU87b0JBQUU3QixTQUFTO29CQUFPTCxPQUFPO2dCQUF1QjtZQUN6RDtZQUVBdUMsV0FBVztZQUNYQyxTQUFTO1lBRVQsSUFBSTtnQkFDRixNQUFNMEUsS0FBSyxNQUFNbkUsWUFBWStCLE9BQU8sQ0FBRStGLFlBQVksQ0FBQ2pEO2dCQUNuRCxNQUFNVCxVQUFVLE1BQU1ELEdBQUdFLElBQUk7Z0JBRTdCLE9BQU87b0JBQ0wvRyxTQUFTO29CQUNUd0gsTUFBTVYsUUFBUVcsZUFBZTtnQkFDL0I7WUFDRixFQUFFLE9BQU81QyxLQUFVO2dCQUNqQnZGLFFBQVFLLEtBQUssQ0FBQyw0QkFBNEJrRjtnQkFDMUMxQyxTQUFTMEMsSUFBSWhGLE9BQU8sSUFBSTtnQkFDeEIsT0FBTztvQkFBRUcsU0FBUztvQkFBT0wsT0FBT2tGLElBQUloRixPQUFPLElBQUk7Z0JBQTBCO1lBQzNFLFNBQVU7Z0JBQ1JxQyxXQUFXO1lBQ2I7UUFDRjtzREFBRztRQUFDUTtRQUFhYjtRQUFRK0Q7S0FBMEI7SUFFbkQsMkRBQTJEO0lBQzNELE1BQU02RSw4QkFBOEJuTSxrREFBV0E7c0VBQUM7WUFDOUMsSUFBSSxJQUFpRCxFQUFFO2dCQUNyRGdCLFFBQVFLLEtBQUssQ0FBQztnQkFDZCxPQUFPO1lBQ1Q7WUFFQSxJQUFJO2dCQUNGTCxRQUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTXlELE9BQU9DLFFBQVEsQ0FBQ0UsT0FBTyxDQUFDO29CQUM1QjFCLFFBQVE7b0JBQ1I4QixRQUFRO3dCQUFDOzRCQUNQTCxTQUFTOzRCQUNUUSxXQUFXOzRCQUNYQyxnQkFBZ0I7Z0NBQUVyQyxNQUFNO2dDQUFPc0MsUUFBUTtnQ0FBT0MsVUFBVTs0QkFBRzs0QkFDM0RDLFNBQVM7Z0NBQUM7NkJBQXlCOzRCQUNuQ0MsbUJBQW1CO3dCQUNyQjtxQkFBRTtnQkFDSjtnQkFDQXpFLFFBQVFDLEdBQUcsQ0FBQztnQkFFWix1Q0FBdUM7Z0JBQ3ZDLE1BQU15RCxPQUFPQyxRQUFRLENBQUNFLE9BQU8sQ0FBQztvQkFDNUIxQixRQUFRO29CQUNSOEIsUUFBUTt3QkFBQzs0QkFBRUwsU0FBUzt3QkFBUztxQkFBRTtnQkFDakM7Z0JBQ0E1RCxRQUFRQyxHQUFHLENBQUM7Z0JBRVosT0FBTztZQUNULEVBQUUsT0FBT0ksT0FBTztnQkFDZEwsUUFBUUssS0FBSyxDQUFDLGdEQUFnREE7Z0JBQzlELE9BQU87WUFDVDtRQUNGO3FFQUFHLEVBQUU7SUFFTCwyQ0FBMkM7SUFDM0MsTUFBTStLLGlCQUFpQnBNLGtEQUFXQTt5REFBQztZQUNqQyxNQUFNLEVBQUV1SCxTQUFTLEVBQUVsRyxPQUFPK0csaUJBQWlCLEVBQUUsR0FBR2Q7WUFDaEQsSUFBSSxDQUFDQyxXQUFXO2dCQUNkdkcsUUFBUUssS0FBSyxDQUFDLDhDQUE4QytHO2dCQUM1RCxPQUFPO1lBQ1Q7WUFFQSxJQUFJO2dCQUNGcEgsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE1BQU1vRixRQUFRLE1BQU1qQyxZQUFZK0IsT0FBTyxDQUFFRyxXQUFXO2dCQUNwRHRGLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJvRixNQUFNTSxRQUFRO2dCQUNuRCxPQUFPTixNQUFNTSxRQUFRO1lBQ3ZCLEVBQUUsT0FBT0osS0FBVTtnQkFDakJ2RixRQUFRSyxLQUFLLENBQUMsK0JBQStCa0Y7Z0JBQzdDLE9BQU87WUFDVDtRQUNGO3dEQUFHO1FBQUNuQztRQUFha0Q7S0FBMEI7SUFFM0MsK0NBQStDO0lBQy9DLE1BQU0rRSw0QkFBNEJyTSxrREFBV0E7b0VBQUMsT0FDNUM2SSxVQUNBbEIsT0FDQUMsYUFDQUMsUUFDQUMsVUFDQXlCO1lBRUF2SSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsRUFBRTRILFNBQVMsaUJBQWlCLENBQUM7WUFFOUQsOEJBQThCO1lBQzlCLE1BQU0sRUFBRXRCLFNBQVMsRUFBRWxHLE9BQU8rRyxpQkFBaUIsRUFBRSxHQUFHZDtZQUNoRCxJQUFJLENBQUNDLFdBQVc7Z0JBQ2QsT0FBTztvQkFBRTdGLFNBQVM7b0JBQU9MLE9BQU8rRztnQkFBa0I7WUFDcEQ7WUFFQSwrQkFBK0I7WUFDL0IsSUFBSSxDQUFDN0UsUUFBUTtnQkFDWCxPQUFPO29CQUFFN0IsU0FBUztvQkFBT0wsT0FBTztnQkFBdUI7WUFDekQ7WUFFQXVDLFdBQVc7WUFDWEMsU0FBUztZQUVULElBQUk7Z0JBQ0YsK0NBQStDO2dCQUMvQyxNQUFNeUYsWUFBMEM7b0JBQzlDLFFBQVE7b0JBQ1IsVUFBVTtvQkFDVixXQUFXO29CQUNYLGFBQWE7b0JBQ2IsYUFBYTtnQkFDZjtnQkFDQSxNQUFNZ0QsY0FBY2hELFNBQVMsQ0FBQ0MsT0FBTyxJQUFJO2dCQUV6QyxnRUFBZ0U7Z0JBQ2hFLElBQUlsQjtnQkFDSixJQUFJLE9BQU9QLGFBQWEsVUFBVTtvQkFDaENPLG9CQUFvQjRCLEtBQUtFLEtBQUssQ0FBQyxJQUFJcEIsS0FBS2pCLFVBQVVzRCxPQUFPLEtBQUs7Z0JBQ2hFLE9BQU8sSUFBSSxPQUFPdEQsYUFBYSxVQUFVO29CQUN2Q08sb0JBQW9CQyxPQUFPUjtnQkFDN0IsT0FBTztvQkFDTE8sb0JBQW9CQyxPQUFPUjtnQkFDN0I7Z0JBRUEsc0NBQXNDO2dCQUN0QzlHLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDBDQUEwQyxFQUFFMEcsTUFBTSxTQUFTLEVBQUVFLE9BQU8sV0FBVyxFQUFFUSxtQkFBbUI7Z0JBQ2pILE1BQU1FLEtBQUssTUFBTW5FLFlBQVkrQixPQUFPLENBQUV1QixZQUFZLENBQ2hEQyxPQUNBQyxhQUNBQyxRQUNBUSxtQkFDQSxHQUNBLEdBQ0EsV0FDQSxFQUFHLHNCQUFzQjs7Z0JBRzNCLE1BQU1HLFVBQVUsTUFBTUQsR0FBR0UsSUFBSTtnQkFDN0J6SCxRQUFRQyxHQUFHLENBQUMsd0JBQXdCdUg7Z0JBRXBDLHFEQUFxRDtnQkFDckQsTUFBTWxDLGNBQWMsTUFBTWxDLFlBQVkrQixPQUFPLENBQUVHLFdBQVc7Z0JBQzFELE1BQU1pRyxjQUFjLENBQUNqRyxjQUFjLEdBQUdLLFFBQVE7Z0JBRTlDM0YsUUFBUUMsR0FBRyxDQUFDLENBQUMseUNBQXlDLEVBQUVzTCxhQUFhO2dCQUNyRSxPQUFPO29CQUNMN0ssU0FBUztvQkFDVEUsTUFBTTt3QkFBRXFILElBQUlzRDtvQkFBWTtvQkFDeEJyRCxNQUFNVixRQUFRVyxlQUFlO2dCQUMvQjtZQUNGLEVBQUUsT0FBTzVDLEtBQVU7Z0JBQ2pCdkYsUUFBUUssS0FBSyxDQUFDLDJDQUEyQ2tGO2dCQUN6RCxNQUFNc0YsZUFBZXRGLElBQUloRixPQUFPLElBQUk7Z0JBQ3BDc0MsU0FBU2dJO2dCQUNULE9BQU87b0JBQ0xuSyxTQUFTO29CQUNUTCxPQUFPd0s7Z0JBQ1Q7WUFDRixTQUFVO2dCQUNSakksV0FBVztZQUNiO1FBQ0Y7bUVBQUc7UUFBQ1E7UUFBYWI7UUFBUStEO0tBQTBCO0lBRW5ELE9BQU87UUFDTDNEO1FBQ0F0QztRQUNBeUM7UUFDQUU7UUFDQUU7UUFDQXdEO1FBQ0EwQjtRQUNBZ0I7UUFDQWlCO1FBQ0FZO1FBQ0FDO1FBQ0FWO1FBQ0FNO1FBQ0FyRTtRQUNBaEQ7UUFDQTBIO1FBQ0FDO1FBQ0FDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZGl5YXJib2xlZ2Vub3YvdGVuZGVyL2Zyb250ZW5kL2hvb2tzL3VzZUNvbnRyYWN0VGVuZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8sIFNldFN0YXRlQWN0aW9uIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlV2ViMyB9IGZyb20gJy4vdXNlV2ViMyc7XG5pbXBvcnQgeyBldGhlcnMgfSBmcm9tICdldGhlcnMnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgQ29udHJhY3QsIFNpZ25lciwgUHJvdmlkZXIsIEJpZ051bWJlcmlzaCwgZ2V0QmlnSW50IH0gZnJvbSAnZXRoZXJzJztcblxuLy8gSW1wb3J0IHRoZSBnZW5lcmF0ZWQgQUJJXG5pbXBvcnQgVGVuZGVyQ2hhaW5BQkkgZnJvbSAnLi4vYWJpL1RlbmRlckNoYWluLmpzb24nO1xuXG4vLyBMb2NhbCB0eXBlIGRlZmluaXRpb24gZm9yIFRlbmRlclN0YXR1cyB0byBhdm9pZCBkZXBlbmRlbmN5IGlzc3Vlc1xuZXhwb3J0IHR5cGUgVGVuZGVyU3RhdHVzID0gJ09QRU4nIHwgJ0NMT1NFRCcgfCAnQVdBUkRFRCcgfCAnQ09NUExFVEVEJyB8ICdDQU5DRUxMRUQnO1xuXG4vLyBGYWxsYmFjayBBQkkgaW4gY2FzZSB0aGUgaW1wb3J0IGZhaWxzXG5jb25zdCBGQUxMQkFDS19BQkkgPSBbXG4gIC8vIE1haW4gZnVuY3Rpb25zXG4gIFwiZnVuY3Rpb24gY3JlYXRlVGVuZGVyKHN0cmluZyBfdGl0bGUsIHN0cmluZyBfZGVzY3JpcHRpb24sIHVpbnQyNTYgX2J1ZGdldCwgdWludDI1NiBfZGVhZGxpbmUsIHVpbnQyNTYgX2Rpc3RhbmNlLCB1aW50MjU2IF93ZWlnaHQsIHN0cmluZyBfY2FyZ29UeXBlLCB1aW50MjU2IF91cmdlbmN5RGF5cywgdWludDI1NiBfZXhwaXJhdGlvbk1pbnV0ZXMpIHB1YmxpYyByZXR1cm5zICh1aW50MjU2KVwiLFxuICBcImZ1bmN0aW9uIGdldFRlbmRlcih1aW50MjU2IF9pZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBpZCwgc3RyaW5nIHRpdGxlLCBzdHJpbmcgZGVzY3JpcHRpb24sIHVpbnQyNTYgYnVkZ2V0LCB1aW50MjU2IGRlYWRsaW5lLCB1aW50MjU2IGRpc3RhbmNlLCB1aW50MjU2IHdlaWdodCwgc3RyaW5nIGNhcmdvVHlwZSwgdWludDI1NiB1cmdlbmN5RGF5cywgYWRkcmVzcyBjcmVhdG9yLCBhZGRyZXNzIGJpZGRlciwgdWludDggc3RhdHVzLCB1aW50MjU2IGNyZWF0ZWRBdCwgdWludDI1NiBleHBpcmVzQXQpXCIsXG4gIFwiZnVuY3Rpb24gZ2V0QWN0aXZlVGVuZGVycygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTZbXSBtZW1vcnkpXCIsXG4gIFwiZnVuY3Rpb24gdGFrZVRlbmRlcih1aW50MjU2IF9pZCkgcHVibGljXCIsXG4gIFwiZnVuY3Rpb24gc3VibWl0QmlkKHVpbnQyNTYgX2lkLCBzdHJpbmcgX3Byb3Bvc2FsKSBwdWJsaWMgcGF5YWJsZVwiLFxuICBcImZ1bmN0aW9uIGNvbXBsZXRlVGVuZGVyKHVpbnQyNTYgX2lkKSBwdWJsaWNcIixcbiAgXCJmdW5jdGlvbiBjYW5jZWxUZW5kZXIodWludDI1NiBfaWQpIHB1YmxpY1wiLFxuICBcbiAgLy8gU3RhdGUgdmFyaWFibGVzXG4gIFwiZnVuY3Rpb24gdGVuZGVyQ291bnQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KVwiLFxuICBcImZ1bmN0aW9uIHRlbmRlcnModWludDI1NikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBpZCwgc3RyaW5nIHRpdGxlLCBzdHJpbmcgZGVzY3JpcHRpb24sIHVpbnQyNTYgYnVkZ2V0LCB1aW50MjU2IGRlYWRsaW5lLCB1aW50MjU2IGRpc3RhbmNlLCB1aW50MjU2IHdlaWdodCwgc3RyaW5nIGNhcmdvVHlwZSwgdWludDI1NiB1cmdlbmN5RGF5cywgYWRkcmVzcyBjcmVhdG9yLCBhZGRyZXNzIGJpZGRlciwgdWludDggc3RhdHVzLCB1aW50MjU2IGNyZWF0ZWRBdCwgdWludDI1NiBleHBpcmVzQXQpXCIsXG4gIFxuICAvLyBFdmVudHNcbiAgXCJldmVudCBUZW5kZXJDcmVhdGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgc3RyaW5nIHRpdGxlLCB1aW50MjU2IGJ1ZGdldCwgYWRkcmVzcyBpbmRleGVkIGNyZWF0b3IsIHVpbnQyNTYgZXhwaXJlc0F0KVwiLFxuICBcImV2ZW50IFRlbmRlclRha2VuKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGJpZGRlciwgdWludDI1NiB0aW1lc3RhbXApXCIsXG4gIFwiZXZlbnQgQmlkU3VibWl0dGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGJpZGRlciwgc3RyaW5nIHByb3Bvc2FsLCB1aW50MjU2IGFtb3VudCwgdWludDI1NiB0aW1lc3RhbXApXCIsXG4gIFwiZXZlbnQgVGVuZGVyQ29tcGxldGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGJpZGRlciwgdWludDI1NiB0aW1lc3RhbXApXCIsXG4gIFwiZXZlbnQgVGVuZGVyQ2FuY2VsbGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGNyZWF0b3IsIHVpbnQyNTYgdGltZXN0YW1wKVwiXG5dO1xuXG4vLyBVc2UgdGhlIGltcG9ydGVkIEFCSSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgdGhlIGZhbGxiYWNrXG5jb25zdCBBQkkgPSBUZW5kZXJDaGFpbkFCST8uYWJpIHx8IEZBTExCQUNLX0FCSTtcblxuLy8g0JDQtNGA0LXRgSDQutC+0L3RgtGA0LDQutGC0LBcbmNvbnN0IENPTlRSQUNUX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTIHx8IFwiXCI7XG4vLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90L7QtSDQu9C+0LPQuNGA0L7QstCw0L3QuNC1INC00LvRjyDQvtGC0LvQsNC00LrQuFxuY29uc29sZS5sb2coXCJDb250cmFjdCBhZGRyZXNzIGZyb20gRU5WOlwiLCBDT05UUkFDVF9BRERSRVNTKTtcblxuLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0YTRg9C90LrRhtC40Y8g0LTQu9GPINC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INC60L7QvdGC0YDQsNC60YLQsFxuY29uc3QgTUFYX0lOSVRfQVRURU1QVFMgPSA1O1xuY29uc3QgSU5JVF9SRVRSWV9ERUxBWSA9IDIwMDA7IC8vIG1zXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udHJhY3RUZW5kZXIge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBidWRnZXQ6IEJpZ051bWJlcmlzaDtcbiAgZGVhZGxpbmU6IEJpZ051bWJlcmlzaDtcbiAgZGlzdGFuY2U6IG51bWJlcjtcbiAgd2VpZ2h0OiBudW1iZXI7XG4gIGNhcmdvVHlwZTogc3RyaW5nO1xuICB1cmdlbmN5RGF5czogbnVtYmVyO1xuICBjcmVhdG9yOiBzdHJpbmc7XG4gIGJpZGRlcjogc3RyaW5nO1xuICBzdGF0dXM6IFRlbmRlclN0YXR1cztcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIGV4cGlyZXNBdDogc3RyaW5nO1xuICB0aW1lTGVmdD86IG51bWJlcjsgLy8g0LLRgNC10LzRjyDQtNC+INC40YHRgtC10YfQtdC90LjRjyDRgdGA0L7QutCwINCyINGB0LXQutGD0L3QtNCw0YVcbiAgY2F0ZWdvcmllcz86IEFycmF5PHN0cmluZyB8IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0+OyAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L/QvtC70LUg0LrQsNGC0LXQs9C+0YDQuNC5XG59XG5cbmludGVyZmFjZSBDb250cmFjdFJlc3BvbnNlPFQ+IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIGRhdGE/OiBUO1xuICBoYXNoPzogc3RyaW5nO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZXh0cmFjdCBlcnJvciBtZXNzYWdlcyBmcm9tIHZhcmlvdXMgZXJyb3IgdHlwZXNcbmNvbnN0IGdldEVycm9yTWVzc2FnZSA9IChlcnJvcjogdW5rbm93bik6IHN0cmluZyA9PiB7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHJldHVybiBlcnJvcjtcbiAgcmV0dXJuICdVbmtub3duIGVycm9yIG9jY3VycmVkJztcbn07XG5cbi8vIEFkZCBUeXBlU2NyaXB0IGludGVyZmFjZSBmb3IgZnVuY3Rpb24gd2l0aCBsYXN0Q2FsbFRpbWUgcHJvcGVydHlcbmludGVyZmFjZSBHZXRBY3RpdmVUZW5kZXJzRnVuY3Rpb24gZXh0ZW5kcyBGdW5jdGlvbiB7XG4gIGxhc3RDYWxsVGltZT86IG51bWJlcjtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBjb250cmFjdCBlcnJvcnNcbmNvbnN0IGhhbmRsZUNvbnRyYWN0RXJyb3IgPSA8VD4oZXJyb3I6IGFueSwgZGVmYXVsdFZhbHVlOiBUKTogQ29udHJhY3RSZXNwb25zZTxUPiA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoJ0NvbnRyYWN0IGVycm9yOicsIGVycm9yKTtcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBlcnJvcjogZXJyb3I/Lm1lc3NhZ2UgfHwgZXJyb3I/LnJlYXNvbiB8fCAnVW5rbm93biBjb250cmFjdCBlcnJvcicsXG4gICAgZGF0YTogZGVmYXVsdFZhbHVlXG4gIH07XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgY29udHJhY3QgYWRkcmVzcyBoYXMgZGVwbG95ZWQgY29kZVxuYXN5bmMgZnVuY3Rpb24gdmVyaWZ5Q29udHJhY3RBZGRyZXNzKGFkZHJlc3M6IHN0cmluZywgcHJvdmlkZXI6IFByb3ZpZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coYPCflI0gVmVyaWZ5aW5nIGNvbnRyYWN0IGF0IGFkZHJlc3M6ICR7YWRkcmVzc31gKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhZGRyZXNzIGlzIHZhbGlkXG4gICAgaWYgKCFldGhlcnMuaXNBZGRyZXNzKGFkZHJlc3MpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgSW52YWxpZCBhZGRyZXNzIGZvcm1hdDonLCBhZGRyZXNzKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgY29udHJhY3QgaGFzIGNvZGVcbiAgICBjb25zdCBjb2RlID0gYXdhaXQgcHJvdmlkZXIuZ2V0Q29kZShhZGRyZXNzKTtcbiAgICBcbiAgICAvLyBJZiB0aGVyZSdzIG5vIGNvZGUgYXQgdGhpcyBhZGRyZXNzLCBpdCdzIG5vdCBhIGNvbnRyYWN0XG4gICAgaWYgKGNvZGUgPT09ICcweCcgfHwgY29kZSA9PT0gJzB4MCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBObyBjb250cmFjdCBkZXBsb3llZCBhdCB0aGlzIGFkZHJlc3MgKGVtcHR5IGJ5dGVjb2RlKScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhg4pyFIENvbnRyYWN0IGZvdW5kIGF0ICR7YWRkcmVzc30gd2l0aCBieXRlY29kZSBsZW5ndGg6ICR7KGNvZGUubGVuZ3RoIC0gMikgLyAyfSBieXRlc2ApO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB2ZXJpZnlpbmcgY29udHJhY3QgYWRkcmVzczonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byB2YWxpZGF0ZSBBQkkgY29udGFpbnMgZXhwZWN0ZWQgbWV0aG9kc1xuZnVuY3Rpb24gdmFsaWRhdGVDb250cmFjdEFCSShhYmk6IGFueVtdKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflI0gVmFsaWRhdGluZyBjb250cmFjdCBBQkkgc3RydWN0dXJlLi4uJyk7XG4gICAgXG4gICAgLy8gRXNzZW50aWFsIG1ldGhvZHMgdGhhdCBzaG91bGQgZXhpc3QgaW4gdGhlIGNvbnRyYWN0IC0gdXBkYXRlIHRvIG1hdGNoIHRoZSBhY3R1YWwgY29udHJhY3RcbiAgICBjb25zdCByZXF1aXJlZE1ldGhvZHMgPSBbJ3RlbmRlckNvdW50JywgJ2NyZWF0ZVRlbmRlcicsICdnZXRUZW5kZXInXTtcbiAgICBjb25zdCBvcHRpb25hbE1ldGhvZHMgPSBbJ3N1Ym1pdEJpZCcsICdnZXRCaWRzRm9yVGVuZGVyJywgJ3Rha2VUZW5kZXInLCAnZ2V0QWN0aXZlVGVuZGVycyddO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIEFCSSBpcyBhbiBhcnJheVxuICAgIGlmICghQXJyYXkuaXNBcnJheShhYmkpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQUJJIGlzIG5vdCBhbiBhcnJheTonLCBhYmkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBFeHRyYWN0IGZ1bmN0aW9uIG5hbWVzIGZyb20gQUJJXG4gICAgY29uc3QgbWV0aG9kTmFtZXMgPSBhYmlcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyAmJiBpdGVtLmluY2x1ZGVzKCdmdW5jdGlvbicpKSlcbiAgICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyDQmNC30LLQu9C10LrQsNC10Lwg0LjQvNGPINGE0YPQvdC60YbQuNC4INC40Lcg0YHRgtGA0L7QutC4INCy0LjQtNCwIFwiZnVuY3Rpb24gbmFtZSguLi4pXCJcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IGl0ZW0ubWF0Y2goL2Z1bmN0aW9uXFxzKyhbYS16QS1aMC05X10rKS8pO1xuICAgICAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pOyAvLyDQpNC40LvRjNGC0YDRg9C10Lwg0L/Rg9GB0YLRi9C1INGB0YLRgNC+0LrQuFxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5OLIENvbnRyYWN0IG1ldGhvZHMgZm91bmQgaW4gQUJJOicsIG1ldGhvZE5hbWVzKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhbGwgcmVxdWlyZWQgbWV0aG9kcyBleGlzdCBpbiBBQklcbiAgICBjb25zdCBtaXNzaW5nUmVxdWlyZWRNZXRob2RzID0gcmVxdWlyZWRNZXRob2RzLmZpbHRlcihtZXRob2QgPT4gIW1ldGhvZE5hbWVzLmluY2x1ZGVzKG1ldGhvZCkpO1xuICAgIFxuICAgIGlmIChtaXNzaW5nUmVxdWlyZWRNZXRob2RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNaXNzaW5nIHJlcXVpcmVkIG1ldGhvZHMgaW4gQUJJOicsIG1pc3NpbmdSZXF1aXJlZE1ldGhvZHMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3Igb3B0aW9uYWwgbWV0aG9kcyBhbmQganVzdCBsb2cgd2FybmluZ3NcbiAgICBjb25zdCBtaXNzaW5nT3B0aW9uYWxNZXRob2RzID0gb3B0aW9uYWxNZXRob2RzLmZpbHRlcihtZXRob2QgPT4gIW1ldGhvZE5hbWVzLmluY2x1ZGVzKG1ldGhvZCkpO1xuICAgIFxuICAgIGlmIChtaXNzaW5nT3B0aW9uYWxNZXRob2RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvbWUgb3B0aW9uYWwgbWV0aG9kcyBhcmUgbWlzc2luZyBpbiBBQkk6JywgbWlzc2luZ09wdGlvbmFsTWV0aG9kcyk7XG4gICAgICBjb25zb2xlLndhcm4oJ1RoaXMgbWF5IGxpbWl0IGZ1bmN0aW9uYWxpdHkgYnV0IGlzIG5vdCBjcml0aWNhbCcpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIENvbnRyYWN0IEFCSSBjb250YWlucyBhbGwgcmVxdWlyZWQgbWV0aG9kcycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB2YWxpZGF0aW5nIGNvbnRyYWN0IEFCSTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUNvbnRyYWN0VGVuZGVyKCkge1xuICAvLyBBbGwgc3RhdGUgaG9va3MgbXVzdCBiZSBjYWxsZWQgdW5jb25kaXRpb25hbGx5IGF0IHRoZSB0b3AgbGV2ZWxcbiAgY29uc3QgeyBwcm92aWRlciwgc2lnbmVyLCBhY2NvdW50IH0gPSB1c2VXZWIzKCk7XG4gIGNvbnN0IFtjb250cmFjdCwgc2V0Q29udHJhY3RdID0gdXNlU3RhdGU8Q29udHJhY3QgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNDb250cmFjdEF2YWlsYWJsZSwgc2V0SXNDb250cmFjdEF2YWlsYWJsZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtjb250cmFjdFN0YXR1cywgc2V0Q29udHJhY3RTdGF0dXNdID0gdXNlU3RhdGU8J2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ3N1Y2Nlc3MnIHwgJ2Vycm9yJz4oJ2lkbGUnKTtcbiAgY29uc3QgW2NvbnRyYWN0RXJyb3JEZXRhaWxzLCBzZXRDb250cmFjdEVycm9yRGV0YWlsc10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBVc2UgcmVmcyB0byBzYWZlbHkgdHJhY2sgdmFsdWVzIGFjcm9zcyByZW5kZXJzXG4gIGNvbnN0IGNvbnRyYWN0UmVmID0gdXNlUmVmPENvbnRyYWN0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGlzQ29udHJhY3RBdmFpbGFibGVSZWYgPSB1c2VSZWYoaXNDb250cmFjdEF2YWlsYWJsZSk7XG4gIFxuICAvLyBUcmFjayBsYXN0IGNhbGwgdGltZSBmb3IgZGVib3VuY2luZ1xuICBjb25zdCBsYXN0R2V0QWN0aXZlVGVuZGVyc0NhbGwgPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgY29uc3QgaXNMb2FkaW5nVGVuZGVycyA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IGluaXRBdHRlbXB0cyA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBcbiAgLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0L/RgNC+0LLQtdGA0LrQsCDQv9C+0LTQutC70Y7Rh9C10L3QuNGPINC90LDQv9GA0Y/QvNGD0Y4g0YfQtdGA0LXQtyB3aW5kb3cuZXRoZXJldW1cbiAgY29uc3QgZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRDb250cmFjdFN0YXR1cygnbG9hZGluZycpO1xuICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMobnVsbCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBJbml0aWFsaXppbmcgY29udHJhY3QuLi4nKTtcbiAgICAgIFxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INCw0LTRgNC10YEg0LrQvtC90YLRgNCw0LrRgtCwXG4gICAgICBpZiAoIUNPTlRSQUNUX0FERFJFU1MpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIENvbnRyYWN0IGFkZHJlc3MgaXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgICBzZXRJc0NvbnRyYWN0QXZhaWxhYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0RXJyb3IoJ1NtYXJ0IGNvbnRyYWN0IGFkZHJlc3MgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHNldHRpbmdzLicpO1xuICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMoJ01pc3NpbmcgY29udHJhY3QgYWRkcmVzcyBpbiBlbnZpcm9ubWVudCBjb25maWd1cmF0aW9uJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGDwn5OLIFVzaW5nIGNvbnRyYWN0IGFkZHJlc3M6ICR7Q09OVFJBQ1RfQUREUkVTU31gKTtcbiAgICAgIFxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC90LDQu9C40YfQuNC1IHdpbmRvdy5ldGhlcmV1bVxuICAgICAgY29uc29sZS5sb2coJ/CflIQgQ2hlY2tpbmcgd2luZG93LmV0aGVyZXVtIGF2YWlsYWJpbGl0eScpO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIHdpbmRvdy5ldGhlcmV1bSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIHNldEVycm9yKCdNZXRhTWFzayBleHRlbnNpb24gaXMgbm90IGluc3RhbGxlZCBvciBub3QgYWNjZXNzaWJsZScpO1xuICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMoJ01ldGFNYXNrIGV4dGVuc2lvbiBpcyBub3QgaW5zdGFsbGVkIG9yIG5vdCBhY2Nlc3NpYmxlJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgd2luZG93LmV0aGVyZXVtIGlzIGF2YWlsYWJsZScpO1xuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0YHQtdGC0YxcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogQ3VycmVudCBjaGFpbiBJRDogJHtjaGFpbklkfWApO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgb24gU2Vwb2xpYSAoMHhhYTM2YTcpIG9yIGxvY2FsIEhhcmRoYXQgbmV0d29yayAoMHg3YTY5KVxuICAgICAgICBjb25zdCBpc1ZhbGlkTmV0d29yayA9IGNoYWluSWQgPT09ICcweGFhMzZhNycgfHwgY2hhaW5JZCA9PT0gJzB4N2E2OSc7XG4gICAgICAgIGlmICghaXNWYWxpZE5ldHdvcmspIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBDb25uZWN0ZWQgdG8gdW5zdXBwb3J0ZWQgbmV0d29yazogJHtjaGFpbklkfSwgZXhwZWN0ZWQgZWl0aGVyIDB4YWEzNmE3IChTZXBvbGlhKSBvciAweDdhNjkgKEhhcmRoYXQgbG9jYWwpYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBDb25uZWN0ZWQgdG8gc3VwcG9ydGVkIG5ldHdvcms6ICR7Y2hhaW5JZH1gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNoZWNraW5nIG5ldHdvcms6JywgZXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQl9Cw0L/RgNCw0YjQuNCy0LDQtdC8INC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LogTWV0YU1hc2tcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFJlcXVlc3RpbmcgTWV0YU1hc2sgYWNjb3VudHMuLi4nKTtcbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIENvbm5lY3RlZCB0byBhY2NvdW50czogJHthY2NvdW50cy5qb2luKCcsICcpfWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFVzZXIgcmVqZWN0ZWQgYWNjb3VudCBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IoJ1VzZXIgcmVqZWN0ZWQgTWV0YU1hc2sgY29ubmVjdGlvbicpO1xuICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMoJ1VzZXIgcmVqZWN0ZWQgTWV0YU1hc2sgY29ubmVjdGlvbicpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGN1cnJlbnQgbmV0d29yayBhbmQgc3dpdGNoIG9ubHkgaWYgd2UncmUgbm90IG9uIGEgc3VwcG9ydGVkIG5ldHdvcmtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlJ3JlIG9uIEhhcmRoYXQgbG9jYWwgbmV0d29yaywgZG9uJ3QgdHJ5IHRvIHN3aXRjaCB0byBTZXBvbGlhXG4gICAgICAgIGlmIChjaGFpbklkID09PSAnMHg3YTY5Jykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQWxyZWFkeSBjb25uZWN0ZWQgdG8gSGFyZGhhdCBsb2NhbCBuZXR3b3JrICgweDdhNjkpLCBub3Qgc3dpdGNoaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UncmUgbm90IG9uIGEgc3VwcG9ydGVkIG5ldHdvcmssIHRyeSB0byBzd2l0Y2ggdG8gb25lXG4gICAgICAgIGVsc2UgaWYgKGNoYWluSWQgIT09ICcweGFhMzZhNycpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBOb3Qgb24gYSBzdXBwb3J0ZWQgbmV0d29yaywgdHJ5aW5nIEhhcmRoYXQgbG9jYWwgZmlyc3QuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVHJ5IHN3aXRjaGluZyB0byBIYXJkaGF0IGxvY2FsIGZpcnN0IChzaW5jZSB0aGF0J3Mgd2hhdCB3ZSdyZSB1c2luZylcbiAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgXG4gICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHg3YTY5JyB9XSAvLyBIYXJkaGF0IGxvY2FsIGNoYWluSWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTd2l0Y2hlZCB0byBIYXJkaGF0IGxvY2FsIG5ldHdvcmsnKTtcbiAgICAgICAgICB9IGNhdGNoIChoYXJkaGF0U3dpdGNoRXJyb3I6IGFueSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3Qgc3dpdGNoIHRvIEhhcmRoYXQsIHRyeSBTZXBvbGlhXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIENvdWxkIG5vdCBzd2l0Y2ggdG8gSGFyZGhhdCBsb2NhbCwgdHJ5aW5nIFNlcG9saWEuLi4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHhhYTM2YTcnIH1dIC8vIFNlcG9saWEgY2hhaW5JZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTd2l0Y2hlZCB0byBTZXBvbGlhIG5ldHdvcmsnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHNlcG9saWFTd2l0Y2hFcnJvcjogYW55KSB7XG4gICAgICAgICAgICAgIC8vIElmIHdlIGNhbid0IHN3aXRjaCB0byBTZXBvbGlhIGFuZCBpdCdzIG5vdCBiZWNhdXNlIGl0IGRvZXNuJ3QgZXhpc3QsIGZhaWxcbiAgICAgICAgICAgICAgaWYgKHNlcG9saWFTd2l0Y2hFcnJvci5jb2RlICE9PSA0OTAyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBzd2l0Y2ggdG8gYW55IHN1cHBvcnRlZCBuZXR3b3JrOicsIHNlcG9saWFTd2l0Y2hFcnJvcik7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBzd2l0Y2ggdG8gYSBzdXBwb3J0ZWQgbmV0d29yaycpO1xuICAgICAgICAgICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICAgICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKCdGYWlsZWQgdG8gc3dpdGNoIHRvIGEgc3VwcG9ydGVkIG5ldHdvcmsnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFRyeSB0byBhZGQgU2Vwb2xpYSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFNlcG9saWEgbmV0d29yayBub3QgZm91bmQsIGF0dGVtcHRpbmcgdG8gYWRkIGl0Li4uJyk7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMHhhYTM2YTcnLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWU6ICdTZXBvbGlhIFRlc3RuZXQnLFxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogeyBuYW1lOiAnRVRIJywgc3ltYm9sOiAnRVRIJywgZGVjaW1hbHM6IDE4IH0sXG4gICAgICAgICAgICAgICAgICAgIHJwY1VybHM6IFsnaHR0cHM6Ly9zZXBvbGlhLmluZnVyYS5pby92My8nXSxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tFeHBsb3JlclVybHM6IFsnaHR0cHM6Ly9zZXBvbGlhLmV0aGVyc2Nhbi5pby8nXVxuICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFkZGVkIFNlcG9saWEgbmV0d29yaycpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChhZGRTZXBvbGlhRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGFkZCBTZXBvbGlhIG5ldHdvcms6JywgYWRkU2Vwb2xpYUVycm9yKTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGFkZCBTZXBvbGlhIG5ldHdvcmsgdG8gTWV0YU1hc2snKTtcbiAgICAgICAgICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscygnRmFpbGVkIHRvIGFkZCBTZXBvbGlhIG5ldHdvcmsgdG8gTWV0YU1hc2snKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFscmVhZHkgY29ubmVjdGVkIHRvIFNlcG9saWEgbmV0d29yaywgbm90IHN3aXRjaGluZycpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChuZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5ldHdvcmsgc3dpdGNoaW5nIGVycm9yOicsIG5ldHdvcmtFcnJvcik7XG4gICAgICAgIHNldEVycm9yKCdFcnJvciBzd2l0Y2hpbmcgbmV0d29ya3MnKTtcbiAgICAgICAgc2V0Q29udHJhY3RTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKCdFcnJvciBzd2l0Y2hpbmcgbmV0d29ya3MnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INC/0YDQvtCy0LDQudC00LXRgCDQuCDQv9C+0LTQv9C40YHRi9Cy0LDRjtGJ0LXQs9C+XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBDcmVhdGluZyBwcm92aWRlciBhbmQgc2lnbmVyLi4uJyk7XG4gICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBldGhlcnMuQnJvd3NlclByb3ZpZGVyKHdpbmRvdy5ldGhlcmV1bSk7XG4gICAgICBjb25zdCBuZXdTaWduZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKTtcbiAgICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBhd2FpdCBuZXdTaWduZXIuZ2V0QWRkcmVzcygpO1xuICAgICAgY29uc29sZS5sb2coYOKchSBHb3Qgc2lnbmVyIHdpdGggYWRkcmVzczogJHtzaWduZXJBZGRyZXNzfWApO1xuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwgQUJJXG4gICAgICBpZiAoIUFCSSB8fCBBQkkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBQkkgaXMgZW1wdHkgb3IgdW5kZWZpbmVkJyk7XG4gICAgICAgIHNldEVycm9yKCdDb250cmFjdCBBQkkgaXMgbWlzc2luZyBvciBpbnZhbGlkJyk7XG4gICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscygnQ29udHJhY3QgQUJJIGlzIG1pc3Npbmcgb3IgaW52YWxpZCcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpcnN0IHZhbGlkYXRlIHRoZSBBQklcbiAgICAgIGlmICghdmFsaWRhdGVDb250cmFjdEFCSShBQkkpKSB7XG4gICAgICAgICAgICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZShmYWxzZSk7XG4gICAgICAgIHNldEVycm9yKCdDb250cmFjdCBBQkkgaXMgaW52YWxpZCBvciBtaXNzaW5nIHJlcXVpcmVkIG1ldGhvZHMuIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuJyk7XG4gICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscygnQUJJIHZhbGlkYXRpb24gZmFpbGVkOiBtaXNzaW5nIHJlcXVpcmVkIG1ldGhvZHMgb3IgaW52YWxpZCBmb3JtYXQnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QsNC70LjRh9C40LUg0LzQtdGC0L7QtNCwIHRlbmRlckNvdW50INCyIEFCSVxuICAgICAgY29uc3QgaGFzVGVuZGVyQ291bnQgPSBBQkkuc29tZSgoaXRlbTogYW55KSA9PiBcbiAgICAgICAgdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnIFxuICAgICAgICAgID8gaXRlbS5pbmNsdWRlcygndGVuZGVyQ291bnQnKVxuICAgICAgICAgIDogaXRlbS5uYW1lID09PSAndGVuZGVyQ291bnQnXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoIWhhc1RlbmRlckNvdW50KSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIHRlbmRlckNvdW50IG1ldGhvZCBub3QgZm91bmQgaW4gQUJJJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCh0L7Qt9C00LDQtdC8INC90L7QstGL0Lkg0Y3QutC30LXQvNC/0LvRj9GAINC60L7QvdGC0YDQsNC60YLQsFxuICAgICAgY29uc29sZS5sb2coYPCflIQgQ3JlYXRpbmcgY29udHJhY3QgaW5zdGFuY2UgYXQgYWRkcmVzczogJHtDT05UUkFDVF9BRERSRVNTfWApO1xuICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KENPTlRSQUNUX0FERFJFU1MsIEFCSSwgbmV3U2lnbmVyKTtcbiAgICAgIGNvbnRyYWN0UmVmLmN1cnJlbnQgPSBjb250cmFjdDtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRoZSBjb250cmFjdCBhZGRyZXNzIGZpcnN0XG4gICAgICBjb25zdCBpc1ZhbGlkQ29udHJhY3QgPSBhd2FpdCB2ZXJpZnlDb250cmFjdEFkZHJlc3MoQ09OVFJBQ1RfQUREUkVTUywgcHJvdmlkZXIpO1xuICAgICAgaWYgKCFpc1ZhbGlkQ29udHJhY3QpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIE5vIHZhbGlkIGNvbnRyYWN0IGZvdW5kIGF0ICR7Q09OVFJBQ1RfQUREUkVTU31gKTtcbiAgICAgICAgICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZShmYWxzZSk7XG4gICAgICAgIHNldEVycm9yKGBObyB2YWxpZCBjb250cmFjdCBmb3VuZCBhdCBhZGRyZXNzICR7Q09OVFJBQ1RfQUREUkVTU30uIFRoZSBjb250cmFjdCBtYXkgbm90IGJlIGRlcGxveWVkIG9yIHRoZSBhZGRyZXNzIG1heSBiZSBpbmNvcnJlY3QuYCk7XG4gICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscyhgSW52YWxpZCBjb250cmFjdCBhdCAke0NPTlRSQUNUX0FERFJFU1N9OiBObyBieXRlY29kZSBmb3VuZCBvciBpbnZhbGlkIGFkZHJlc3MgZm9ybWF0YCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INGB0L7QtdC00LjQvdC10L3QuNC1INGBINC60L7QvdGC0YDQsNC60YLQvtC8INCy0YvQt9C+0LLQvtC8INC/0YDQvtGB0YLQvtC5INGE0YPQvdC60YbQuNC4XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBUZXN0aW5nIGNvbnRyYWN0IHdpdGggZGlyZWN0IGNhbGwgdG8gdGVuZGVyQ291bnQoKWApO1xuICAgICAgICBjb25zdCBjb3VudCA9IGF3YWl0IGNvbnRyYWN0LnRlbmRlckNvdW50KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgRGlyZWN0IGNvbnRyYWN0IGNhbGwgc3VjY2VlZGVkISBUZW5kZXIgY291bnQ6ICR7Y291bnR9YCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gY2FsbCB0ZW5kZXJDb3VudCgpOmAsIGVycm9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0Y/QstC70Y/QtdGC0YHRjyDQu9C4INC+0YjQuNCx0LrQsCDQv9GA0L7QsdC70LXQvNC+0Lkg0LTQtdC60L7QtNC40YDQvtCy0LDQvdC40Y8g0LTQsNC90L3Ri9GFXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdjb3VsZCBub3QgZGVjb2RlIHJlc3VsdCBkYXRhJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRGF0YSBkZWNvZGluZyBlcnJvciAtIGNvbnRyYWN0IGFkZHJlc3Mgb3IgQUJJIG1pc21hdGNoIScpO1xuICAgICAgICAgIHNldElzQ29udHJhY3RBdmFpbGFibGUoZmFsc2UpO1xuICAgICAgICAgIHNldEVycm9yKGBDb250cmFjdCBjYWxsIGZhaWxlZDogVGhlIGNvbnRyYWN0IGF0ICR7Q09OVFJBQ1RfQUREUkVTU30gZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGludGVyZmFjZS4gUGxlYXNlIHZlcmlmeSB0aGUgY29udHJhY3QgYWRkcmVzcyBhbmQgQUJJLmApO1xuICAgICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKGBDb250cmFjdCBjYWxsIGZhaWxlZDogVGhlIGNvbnRyYWN0IGF0ICR7Q09OVFJBQ1RfQUREUkVTU30gZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGludGVyZmFjZS4gUGxlYXNlIHZlcmlmeSB0aGUgY29udHJhY3QgYWRkcmVzcyBhbmQgQUJJLmApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC00YDRg9Cz0LjQtSDRgNCw0YHQv9GA0L7RgdGC0YDQsNC90LXQvdC90YvQtSDQvtGI0LjQsdC60LhcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2NhbGwgcmV2ZXJ0IGV4Y2VwdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIENvbnRyYWN0IHJldmVydGVkIHRoZSBjYWxsIC0gZnVuY3Rpb24gbWF5IG5vdCBleGlzdCBvciBiZSBhY2Nlc3NpYmxlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnaW52YWxpZCBhZGRyZXNzJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgSW52YWxpZCBjb250cmFjdCBhZGRyZXNzIGZvcm1hdCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2NvbnRyYWN0IG5vdCBkZXBsb3llZCcpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5vIGNvbnRyYWN0IGRlcGxveWVkIGF0IHRoaXMgYWRkcmVzcycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRJc0NvbnRyYWN0QXZhaWxhYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0RXJyb3IoYEZhaWxlZCB0byB2ZXJpZnkgY29udHJhY3Q6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgc2V0Q29udHJhY3RTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKGBGYWlsZWQgdG8gdmVyaWZ5IGNvbnRyYWN0OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g0J7QsdC90L7QstC70Y/QtdC8INGB0L7RgdGC0L7Rj9C90LjQtVxuICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZSh0cnVlKTtcbiAgICAgIGlzQ29udHJhY3RBdmFpbGFibGVSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICBcbiAgICAgIHNldENvbnRyYWN0KGNvbnRyYWN0KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYOKchSBDb250cmFjdCBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkgd2l0aCBkaXJlY3QgbWV0aG9kYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEZhaWxlZCB0byBpbml0aWFsaXplIGNvbnRyYWN0OmAsIGVycik7XG4gICAgICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZShmYWxzZSk7XG4gICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIGluaXRpYWxpemUgY29udHJhY3Q6ICR7ZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgXG4gIC8vIE1hbnVhbCBkaXJlY3QgY29udHJhY3QgY2hlY2sgZnVuY3Rpb25cbiAgY29uc3QgdGVzdENvbnRyYWN0Q29ubmVjdGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlBlcmZvcm1pbmcgZGlyZWN0IGNvbnRyYWN0IGNvbm5lY3Rpb24gdGVzdFwiKTtcbiAgICBcbiAgICBpZiAoIUNPTlRSQUNUX0FERFJFU1MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBjb250cmFjdCBhZGRyZXNzIHByb3ZpZGVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHVzaW5nIHdpbmRvdy5ldGhlcmV1bSBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgICBjb25zdCBicm93c2VyUHJvdmlkZXIgPSBuZXcgZXRoZXJzLkJyb3dzZXJQcm92aWRlcih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBicm93c2VyUHJvdmlkZXIuZ2V0U2lnbmVyKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiR290IHNpZ25lciB3aXRoIGFkZHJlc3M6XCIsIGF3YWl0IHNpZ25lci5nZXRBZGRyZXNzKCkpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGluZyBkaXJlY3QgY29udHJhY3QgY29ubmVjdGlvbiB0bzpcIiwgQ09OVFJBQ1RfQUREUkVTUyk7XG4gICAgICAgIGNvbnN0IGRpcmVjdENvbnRyYWN0ID0gbmV3IENvbnRyYWN0KENPTlRSQUNUX0FERFJFU1MsIEFCSSwgc2lnbmVyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSBhIHNpbXBsZSB2aWV3IGNhbGxcbiAgICAgICAgY29uc29sZS5sb2coXCJUZXN0aW5nIGNvbnRyYWN0IHdpdGggZGlyZWN0IGNhbGwgdG8gdGVuZGVyQ291bnQoKVwiKTtcbiAgICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBkaXJlY3RDb250cmFjdC50ZW5kZXJDb3VudCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpcmVjdCBjb250cmFjdCBjYWxsIHN1Y2NlZWRlZCEgVGVuZGVyIGNvdW50OlwiLCBjb3VudC50b1N0cmluZygpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlIGdvdCBoZXJlLCB0aGUgY29udHJhY3QgaXMgYXZhaWxhYmxlIGFuZCB3b3JraW5nXG4gICAgICAgIGlmICghaXNDb250cmFjdEF2YWlsYWJsZSkge1xuICAgICAgICAgIHNldElzQ29udHJhY3RBdmFpbGFibGUodHJ1ZSk7XG4gICAgICAgICAgaXNDb250cmFjdEF2YWlsYWJsZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFjb250cmFjdCkge1xuICAgICAgICAgIHNldENvbnRyYWN0KGRpcmVjdENvbnRyYWN0KTtcbiAgICAgICAgICBjb250cmFjdFJlZi5jdXJyZW50ID0gZGlyZWN0Q29udHJhY3Q7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiTm8gd2luZG93LmV0aGVyZXVtIGF2YWlsYWJsZSBmb3IgZGlyZWN0IGNoZWNrXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJEaXJlY3QgY29udHJhY3QgY29ubmVjdGlvbiB0ZXN0IGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgW0NPTlRSQUNUX0FERFJFU1MsIGNvbnRyYWN0LCBpc0NvbnRyYWN0QXZhaWxhYmxlXSk7XG4gIFxuICAvLyDQl9Cw0L/Rg9GB0Log0L/RgNC40L3Rg9C00LjRgtC10LvRjNC90L7QuSDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INCw0LrQutCw0YPQvdGC0LBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWNjb3VudCkge1xuICAgICAgY29uc29sZS5sb2coXCJBY2NvdW50IGNoYW5nZWQgb3IgY29ubmVjdGVkLCBhdHRlbXB0aW5nIGZvcmNlZCBjb250cmFjdCBpbml0aWFsaXphdGlvblwiKTtcbiAgICAgIGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbigpO1xuICAgIH1cbiAgfSwgW2FjY291bnQsIGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbl0pO1xuICBcbiAgLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0L/RgNC+0LLQtdGA0LrQsCDQutC+0L3RgtGA0LDQutGC0LAg0LIgdXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG4gICAgbGV0IHJldHJ5Q291bnQgPSAwO1xuICAgIFxuICAgIGNvbnN0IGNoZWNrQ29udHJhY3RXaXRoUmV0cnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgQ29udHJhY3QgY2hlY2sgYXR0ZW1wdCAke3JldHJ5Q291bnQgKyAxfS8ke01BWF9JTklUX0FUVEVNUFRTfWApO1xuICAgICAgXG4gICAgICAvLyDQktGL0YXQvtC0LCDQtdGB0LvQuCDQutC+0L3RgtGA0LDQutGCINGD0LbQtSDQtNC+0YHRgtGD0L/QtdC9XG4gICAgICBpZiAoaXNDb250cmFjdEF2YWlsYWJsZSAmJiBjb250cmFjdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRyYWN0IGFscmVhZHkgYXZhaWxhYmxlLCBza2lwcGluZyBjaGVja1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDQutCwLCDQtdGB0YLRjCDQu9C4INC00L7RgdGC0YPQv9C90YvQuSDQsNC60LrQsNGD0L3RglxuICAgICAgaWYgKGFjY291bnQpIHtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRyYWN0IGluaXRpYWxpemF0aW9uIHN1Y2Nlc3NmdWxcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCV0YHQu9C4INC80Ysg0LTQvtGI0LvQuCDQtNC+INGN0YLQvtC5INGC0L7Rh9C60LgsINC30L3QsNGH0LjRgiDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvdC1INGD0LTQsNC70LDRgdGMXG4gICAgICByZXRyeUNvdW50Kys7XG4gICAgICBcbiAgICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX0lOSVRfQVRURU1QVFMpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFdpbGwgcmV0cnkgY29udHJhY3QgY2hlY2sgaW4gJHtJTklUX1JFVFJZX0RFTEFZfW1zYCk7XG4gICAgICAgIHNldFRpbWVvdXQoY2hlY2tDb250cmFjdFdpdGhSZXRyeSwgSU5JVF9SRVRSWV9ERUxBWSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1heGltdW0gY29udHJhY3QgY2hlY2sgYXR0ZW1wdHMgcmVhY2hlZFwiKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vINCX0LDQv9GD0YHQutCw0LXQvCDQv9C10YDQstGD0Y4g0L/RgNC+0LLQtdGA0LrRg1xuICAgIGNoZWNrQ29udHJhY3RXaXRoUmV0cnkoKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW2FjY291bnQsIGNvbnRyYWN0LCBpc0NvbnRyYWN0QXZhaWxhYmxlLCBmb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb25dKTtcblxuICAvLyBHZXQgc3RhYmxlIGFjY291bnQgcmVmZXJlbmNlXG4gIGNvbnN0IHNpZ25lckFkZHJlc3MgPSB1c2VNZW1vKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNpZ25lcikgcmV0dXJuIG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzaWduZXIuZ2V0QWRkcmVzcygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaWduZXIgYWRkcmVzczpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCBbc2lnbmVyXSk7XG4gIFxuICAvLyBDcmVhdGUgYSBub24tYXN5bmMgdmVyc2lvbiBmb3IgdXNlRWZmZWN0IGRlcGVuZGVuY2llc1xuICBjb25zdCBbc2lnbmVyQWRkcmVzc1N0ciwgc2V0U2lnbmVyQWRkcmVzc1N0cl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgXG4gIC8vIFVwZGF0ZSBzaWduZXJBZGRyZXNzU3RyIHdoZW4gc2lnbmVyQWRkcmVzcyBwcm9taXNlIHJlc29sdmVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNpZ25lcikge1xuICAgICAgc2lnbmVyLmdldEFkZHJlc3MoKVxuICAgICAgICAudGhlbihhZGRyZXNzID0+IHtcbiAgICAgICAgICBzZXRTaWduZXJBZGRyZXNzU3RyKGFkZHJlc3MpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHNpZ25lciBhZGRyZXNzOlwiLCBlcnJvcik7XG4gICAgICAgICAgc2V0U2lnbmVyQWRkcmVzc1N0cihudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNpZ25lckFkZHJlc3NTdHIobnVsbCk7XG4gICAgfVxuICB9LCBbc2lnbmVyXSk7XG5cbiAgLy8gU3RvcmUgcHJldmlvdXMgc2lnbmVyIHJlZmVyZW5jZSB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlY29ubmVjdGlvbnNcbiAgY29uc3QgcHJldmlvdXNTaWduZXJSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBDcmVhdGUgc3RhYmxlIGNoZWNrcyB0aGF0IGNhbiBiZSB1c2VkIGluIGRlcGVuZGVuY2llc1xuICBjb25zdCBjb250cmFjdEF2YWlsYWJsZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gISFjb250cmFjdFJlZi5jdXJyZW50ICYmIGlzQ29udHJhY3RBdmFpbGFibGVSZWYuY3VycmVudDtcbiAgfSwgW10pO1xuXG4gIC8vIENvbW1vbiBlcnJvciBjaGVjayBmb3IgYWxsIGNvbnRyYWN0IG1ldGhvZHNcbiAgY29uc3QgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSA9IHVzZUNhbGxiYWNrKCgpOiB7IGF2YWlsYWJsZTogYm9vbGVhbjsgZXJyb3I6IHN0cmluZyB9ID0+IHtcbiAgICBjb25zdCBhdmFpbGFibGUgPSBpc0NvbnRyYWN0QXZhaWxhYmxlUmVmLmN1cnJlbnQ7XG4gICAgXG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gJ0NvbnRyYWN0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBjb25uZWN0IHlvdXIgd2FsbGV0Lic7XG4gICAgICAvLyBVc2UgdHlwZSBjYXN0aW5nIHRvIGZpeCB0aGUgdHlwZSBtaXNtYXRjaFxuICAgICAgc2V0RXJyb3IoZXJyb3JNc2cpO1xuICAgICAgcmV0dXJuIHsgYXZhaWxhYmxlOiBmYWxzZSwgZXJyb3I6IGVycm9yTXNnIH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IGF2YWlsYWJsZTogdHJ1ZSwgZXJyb3I6ICcnIH07XG4gIH0sIFtdKTtcblxuICAvLyDQntCx0YnQtdC00L7RgdGC0YPQv9C90LDRjyDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDRgdGC0LDRgtGD0YHQsCDQutC+0L3RgtGA0LDQutGC0LBcbiAgY29uc3QgY2hlY2tDb250cmFjdFN0YXR1cyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIk1hbnVhbCBjb250cmFjdCBzdGF0dXMgY2hlY2sgcmVxdWVzdGVkXCIpO1xuICAgIHJldHVybiBmb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb24oKTtcbiAgfSwgW2ZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbl0pO1xuXG4gIC8vINCh0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7Qs9C+INGC0LXQvdC00LXRgNCwXG4gIGNvbnN0IGNyZWF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jIChcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgYnVkZ2V0OiBCaWdOdW1iZXJpc2gsXG4gICAgZGVhZGxpbmU6IEJpZ051bWJlcmlzaCxcbiAgICBkaXN0YW5jZUttPzogQmlnTnVtYmVyaXNoLFxuICAgIHdlaWdodEtnPzogQmlnTnVtYmVyaXNoLFxuICAgIGNhcmdvVHlwZT86IHN0cmluZyxcbiAgICB1cmdlbmN5RGF5cz86IEJpZ051bWJlcmlzaCxcbiAgICBleHBpcmF0aW9uTWludXRlczogbnVtYmVyID0gMTAgLy8g0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0YLQtdC90LTQtdGAINC00LXQudGB0YLQstGD0LXRgiAxMCDQvNC40L3Rg9GCXG4gICk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTx7IGlkOiBzdHJpbmcgfT4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBGb3IgZXRoZXJzIHY2LCBjb252ZXJ0IEJpZ051bWJlcmlzaCB0byBudW1iZXIgc2FmZWx5XG4gICAgICBjb25zdCBkZWFkbGluZVRpbWVzdGFtcCA9IE51bWJlcihnZXRCaWdJbnQoZGVhZGxpbmUpKSAqIDEwMDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuY3JlYXRlVGVuZGVyKFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIGJ1ZGdldCxcbiAgICAgICAgZGVhZGxpbmVUaW1lc3RhbXAsXG4gICAgICAgIGRpc3RhbmNlS20sXG4gICAgICAgIHdlaWdodEtnLFxuICAgICAgICBjYXJnb1R5cGUsXG4gICAgICAgIHVyZ2VuY3lEYXlzLFxuICAgICAgICBleHBpcmF0aW9uTWludXRlc1xuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcbiAgICAgIFxuICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCBJRCDRgdC+0LfQtNCw0L3QvdC+0LPQviDRgtC10L3QtNC10YDQsCDQuNC3INGB0L7QsdGL0YLQuNGPXG4gICAgICBjb25zdCBldmVudCA9IHJlY2VpcHQubG9nc1xuICAgICAgICA/LmZpbHRlcigobG9nOiBhbnkpID0+IGxvZy5mcmFnbWVudD8ubmFtZSA9PT0gJ1RlbmRlckNyZWF0ZWQnKVxuICAgICAgICA/LlswXTtcbiAgICAgIFxuICAgICAgbGV0IHRlbmRlcklkO1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmFyZ3MpIHtcbiAgICAgICAgdGVuZGVySWQgPSBldmVudC5hcmdzWzBdLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW5kZXJJZCA9ICdmYWxsYmFjay1pZC0nICsgRGF0ZS5ub3coKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogeyBpZDogdGVuZGVySWQgfSxcbiAgICAgICAgaGFzaDogcmVjZWlwdC50cmFuc2FjdGlvbkhhc2hcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIHRlbmRlcicpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSB0ZW5kZXInIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBzaWduZXIsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICAvLyDQn9C+0LvRg9GH0LjRgtGMINGC0LXQvdC00LXRgFxuICBjb25zdCBnZXRUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTxDb250cmFjdFRlbmRlciB8IG51bGw+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYPCflI0gQXR0ZW1wdGluZyB0byBnZXQgdGVuZGVyIHdpdGggSUQ6ICR7aWR9YCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgY29udHJhY3QgYXZhaWxhYmlsaXR5XG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgQ29udHJhY3Qgbm90IGF2YWlsYWJsZSBmb3IgZ2V0VGVuZGVyOiAke2F2YWlsYWJpbGl0eUVycm9yfWApO1xuICAgICAgc2V0RXJyb3IoYXZhaWxhYmlsaXR5RXJyb3IgfHwgJ0NvbnRyYWN0IG5vdCBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfHwgJ0NvbnRyYWN0IG5vdCBhdmFpbGFibGUnLCBkYXRhOiBudWxsIH07XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg4o+zIEZldGNoaW5nIHRlbmRlciAke2lkfSBmcm9tIGNvbnRyYWN0Li4uYCk7XG4gICAgICBjb25zdCB0ZW5kZXJEYXRhID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuZ2V0VGVuZGVyKGlkKTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OmIFJhdyB0ZW5kZXIgZGF0YSByZWNlaXZlZDpgLCB0ZW5kZXJEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGVuZGVyIGV4aXN0cyAoaW4gdGhlIGNvbnRyYWN0LCBub24tZXhpc3RlbnQgdGVuZGVycyBoYXZlIElEIG9mIDApXG4gICAgICBpZiAodGVuZGVyRGF0YS5pZC50b1N0cmluZygpID09PSAnMCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gVGVuZGVyIHdpdGggSUQgJHtpZH0gZG9lcyBub3QgZXhpc3QgaW4gY29udHJhY3RgKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVGVuZGVyIGRvZXMgbm90IGV4aXN0JywgZGF0YTogbnVsbCB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBJbnN0ZWFkIG9mIGRpcmVjdGx5IGNhbGxpbmcgYSBmdW5jdGlvbiBmcm9tIGRlcGVuZGVuY2llcywgdXNlIGlubGluZSBjb252ZXJzaW9uIGxvZ2ljXG4gICAgICAgIC8vIFRoaXMgaGVscHMgYXZvaWQgdGhlIFwidXNlZCBiZWZvcmUgZGVjbGFyYXRpb25cIiBlcnJvclxuICAgICAgICBpZiAoIXRlbmRlckRhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RlbmRlciBkYXRhIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBNYXAgbnVtZXJpYyBzdGF0dXMgdG8gVGVuZGVyU3RhdHVzIHR5cGVcbiAgICAgICAgY29uc3Qgc3RhdHVzTWFwOiBUZW5kZXJTdGF0dXNbXSA9IFsnT1BFTicsICdDTE9TRUQnLCAnQVdBUkRFRCcsICdDT01QTEVURUQnLCAnQ0FOQ0VMTEVEJ107XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHN0YXR1c01hcFtOdW1iZXIodGVuZGVyRGF0YS5zdGF0dXMpXSB8fCAnT1BFTic7XG4gICAgICAgIFxuICAgICAgICAvLyBDb252ZXJ0IEJpZ051bWJlciB2YWx1ZXMgdG8gcmVndWxhciBudW1iZXJzXG4gICAgICAgIGNvbnN0IGFkYXB0ZWRUZW5kZXI6IENvbnRyYWN0VGVuZGVyID0ge1xuICAgICAgICBpZDogdGVuZGVyRGF0YS5pZC50b1N0cmluZygpLFxuICAgICAgICB0aXRsZTogdGVuZGVyRGF0YS50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHRlbmRlckRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgYnVkZ2V0OiB0ZW5kZXJEYXRhLmJ1ZGdldCxcbiAgICAgICAgICBkZWFkbGluZTogdGVuZGVyRGF0YS5kZWFkbGluZSxcbiAgICAgICAgICBkaXN0YW5jZTogTnVtYmVyKHRlbmRlckRhdGEuZGlzdGFuY2UpLFxuICAgICAgICAgIHdlaWdodDogTnVtYmVyKHRlbmRlckRhdGEud2VpZ2h0KSxcbiAgICAgICAgY2FyZ29UeXBlOiB0ZW5kZXJEYXRhLmNhcmdvVHlwZSxcbiAgICAgICAgICB1cmdlbmN5RGF5czogTnVtYmVyKHRlbmRlckRhdGEudXJnZW5jeURheXMpLFxuICAgICAgICBjcmVhdG9yOiB0ZW5kZXJEYXRhLmNyZWF0b3IsXG4gICAgICAgIGJpZGRlcjogdGVuZGVyRGF0YS5iaWRkZXIsXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShOdW1iZXIodGVuZGVyRGF0YS5jcmVhdGVkQXQpICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKE51bWJlcih0ZW5kZXJEYXRhLmV4cGlyZXNBdCkgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHRpbWVMZWZ0OiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKChOdW1iZXIodGVuZGVyRGF0YS5leHBpcmVzQXQpICogMTAwMCAtIERhdGUubm93KCkpIC8gMTAwMCkpXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBhZGFwdGVkVGVuZGVyIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyB0ZW5kZXIgZGF0YTonLCBlcnIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBFcnJvciBwYXJzaW5nIHRlbmRlciBkYXRhOiAke2Vyci5tZXNzYWdlfWAsIGRhdGE6IG51bGwgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIGZldGNoaW5nIHRlbmRlciAke2lkfTpgLCBlcnIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgXCJUZW5kZXIgZG9lcyBub3QgZXhpc3RcIiBlcnJvclxuICAgICAgaWYgKGVyci5tZXNzYWdlICYmIChcbiAgICAgICAgICBlcnIubWVzc2FnZS5pbmNsdWRlcygnVGVuZGVyIGRvZXMgbm90IGV4aXN0JykgfHwgXG4gICAgICAgICAgKGVyci5yZWFzb24gJiYgZXJyLnJlYXNvbi5pbmNsdWRlcygnVGVuZGVyIGRvZXMgbm90IGV4aXN0JykpXG4gICAgICApKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIENvbnRyYWN0IGNvbmZpcm1lZCB0ZW5kZXIgJHtpZH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVGVuZGVyIGRvZXMgbm90IGV4aXN0JywgZGF0YTogbnVsbCB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHRlbmRlcicpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRXJyb3IgZmV0Y2hpbmcgdGVuZGVyOiAke2Vyci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gLCBkYXRhOiBudWxsIH07XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHksIHNldEVycm9yXSk7XG5cbiAgLy8g0KTRg9C90LrRhtC40Y8g0L/QvtC70YPRh9C10L3QuNGPINCw0LrRgtC40LLQvdGL0YUg0YLQtdC90LTQtdGA0L7QslxuICBjb25zdCBnZXRBY3RpdmVUZW5kZXJzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTxDb250cmFjdFRlbmRlcltdPj4gPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBDYWxsZWQgYXQgJHtuZXcgRGF0ZShub3cpLnRvSVNPU3RyaW5nKCl9YCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBMYXN0IGNhbGwgd2FzICR7bm93IC0gbGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsLmN1cnJlbnR9bXMgYWdvYCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBJc0xvYWRpbmdUZW5kZXJzOiAke2lzTG9hZGluZ1RlbmRlcnMuY3VycmVudH1gKTtcbiAgICBjb25zb2xlLmxvZyhgW2dldEFjdGl2ZVRlbmRlcnNdIENvbnRyYWN0IGF2YWlsYWJsZTogJHtpc0NvbnRyYWN0QXZhaWxhYmxlfSwgQ29udHJhY3QgcmVmOiAkeyEhY29udHJhY3RSZWYuY3VycmVudH1gKTtcbiAgICBcbiAgICAvLyBJbXBsZW1lbnQgcHJvcGVyIGRlYm91bmNpbmdcbiAgICBpZiAobm93IC0gbGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsLmN1cnJlbnQgPCAzMDAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIltnZXRBY3RpdmVUZW5kZXJzXSDimqDvuI8gRGVib3VuY2luZyAtIHRvbyBzb29uIGFmdGVyIGxhc3QgY2FsbFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogXCJSYXRlIGxpbWl0ZWQuIFBsZWFzZSB3YWl0IGJlZm9yZSB0cnlpbmcgYWdhaW4uXCIsXG4gICAgICAgIGRhdGE6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhbHJlYWR5IGZldGNoaW5nXG4gICAgaWYgKGlzTG9hZGluZ1RlbmRlcnMuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coXCJbZ2V0QWN0aXZlVGVuZGVyc10g4pqg77iPIEFscmVhZHkgZmV0Y2hpbmcsIHNraXBwaW5nIGR1cGxpY2F0ZSBjYWxsXCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogXCJSZXF1ZXN0IGFscmVhZHkgaW4gcHJvZ3Jlc3NcIixcbiAgICAgICAgZGF0YTogW11cbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIFRyYWNrIHRoaXMgcmVxdWVzdFxuICAgIGNvbnNvbGUubG9nKFwiW2dldEFjdGl2ZVRlbmRlcnNdIOKchSBTdGFydGluZyByZXF1ZXN0XCIpO1xuICAgIGlzTG9hZGluZ1RlbmRlcnMuY3VycmVudCA9IHRydWU7XG4gICAgbGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsLmN1cnJlbnQgPSBub3c7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBcbiAgICAvLyBDaGVjayBjb250cmFjdCBhdmFpbGFiaWxpdHkgYmVmb3JlIHByb2NlZWRpbmdcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbZ2V0QWN0aXZlVGVuZGVyc10g4p2MIENvbnRyYWN0IG5vdCBhdmFpbGFibGU6ICR7YXZhaWxhYmlsaXR5RXJyb3J9YCk7XG4gICAgICBpc0xvYWRpbmdUZW5kZXJzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB8fCBcIkNvbnRyYWN0IG5vdCBhdmFpbGFibGVcIixcbiAgICAgICAgZGF0YTogW11cbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgYSB0aW1lb3V0IHByb21pc2VcbiAgICAgIGNvbnNvbGUubG9nKFwiW2dldEFjdGl2ZVRlbmRlcnNdIFNldHRpbmcgdXAgdGltZW91dCBwcm9taXNlXCIpO1xuICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZTxuZXZlcj4oKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoXCJUaW1lb3V0IGZldGNoaW5nIGFjdGl2ZSB0ZW5kZXJzXCIpKSwgMTUwMDApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFJhY2UgdGhlIGNvbnRyYWN0IGNhbGwgYWdhaW5zdCB0aGUgdGltZW91dFxuICAgICAgY29uc29sZS5sb2coXCJbZ2V0QWN0aXZlVGVuZGVyc10gTWFraW5nIGNvbnRyYWN0IGNhbGxcIik7XG4gICAgICBjb25zdCBhY3RpdmVUZW5kZXJJZHMgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICBjb250cmFjdFJlZi5jdXJyZW50IS5nZXRBY3RpdmVUZW5kZXJzKCksXG4gICAgICAgIHRpbWVvdXRQcm9taXNlXG4gICAgICBdKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBSZWNlaXZlZCAke2FjdGl2ZVRlbmRlcklkcz8ubGVuZ3RoIHx8IDB9IHRlbmRlciBJRHNgKTtcbiAgICAgIFxuICAgICAgaWYgKCFhY3RpdmVUZW5kZXJJZHMgfHwgYWN0aXZlVGVuZGVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltnZXRBY3RpdmVUZW5kZXJzXSBObyBhY3RpdmUgdGVuZGVycyBmb3VuZFwiKTtcbiAgICAgICAgaXNMb2FkaW5nVGVuZGVycy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogW11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBGZXRjaGluZyBkZXRhaWxzIGZvciAke2FjdGl2ZVRlbmRlcklkcy5sZW5ndGh9IHRlbmRlcnNgKTtcbiAgICAgIGNvbnN0IHRlbmRlclByb21pc2VzID0gYWN0aXZlVGVuZGVySWRzXG4gICAgICAgIC5maWx0ZXIoKGlkOiBhbnkpID0+IGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpXG4gICAgICAgIC5tYXAoKGlkOiBCaWdOdW1iZXJpc2gpID0+IHtcbiAgICAgICAgICBjb25zdCBpZFN0cmluZyA9IGlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBGZXRjaGluZyB0ZW5kZXIgJHtpZFN0cmluZ31gKTtcbiAgICAgICAgICByZXR1cm4gY29udHJhY3RSZWYuY3VycmVudCEuZ2V0VGVuZGVyKGlkU3RyaW5nKTtcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRlbmRlcnNEYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwodGVuZGVyUHJvbWlzZXMpO1xuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBSZWNlaXZlZCAke3RlbmRlcnNEYXRhLmxlbmd0aH0gdGVuZGVyIGRldGFpbHNgKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGVuZGVyczogQ29udHJhY3RUZW5kZXJbXSA9IHRlbmRlcnNEYXRhLm1hcCgodGVuZGVyRGF0YTogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbZ2V0QWN0aXZlVGVuZGVyc10gUHJvY2Vzc2luZyB0ZW5kZXIgJHt0ZW5kZXJEYXRhLmlkLnRvU3RyaW5nKCl9YCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHRlbmRlckRhdGEuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICB0aXRsZTogdGVuZGVyRGF0YS50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdGVuZGVyRGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBidWRnZXQ6IHRlbmRlckRhdGEuYnVkZ2V0LFxuICAgICAgICAgIGRlYWRsaW5lOiB0ZW5kZXJEYXRhLmRlYWRsaW5lLFxuICAgICAgICAgIGRpc3RhbmNlOiBOdW1iZXIodGVuZGVyRGF0YS5kaXN0YW5jZSksXG4gICAgICAgICAgd2VpZ2h0OiBOdW1iZXIodGVuZGVyRGF0YS53ZWlnaHQpLFxuICAgICAgICAgIGNhcmdvVHlwZTogdGVuZGVyRGF0YS5jYXJnb1R5cGUsXG4gICAgICAgICAgdXJnZW5jeURheXM6IE51bWJlcih0ZW5kZXJEYXRhLnVyZ2VuY3lEYXlzKSxcbiAgICAgICAgICBjcmVhdG9yOiB0ZW5kZXJEYXRhLmNyZWF0b3IsXG4gICAgICAgICAgYmlkZGVyOiB0ZW5kZXJEYXRhLmJpZGRlcixcbiAgICAgICAgICBzdGF0dXM6IFsnT1BFTicsICdDTE9TRUQnLCAnQVdBUkRFRCcsICdDT01QTEVURUQnLCAnQ0FOQ0VMTEVEJ11bTnVtYmVyKHRlbmRlckRhdGEuc3RhdHVzKV0gYXMgVGVuZGVyU3RhdHVzLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoTnVtYmVyKHRlbmRlckRhdGEuY3JlYXRlZEF0KSAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShOdW1iZXIodGVuZGVyRGF0YS5leHBpcmVzQXQpICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INCy0YDQtdC80LXQvdC4INC00L4g0LjRgdGC0LXRh9C10L3QuNGPINGB0YDQvtC60LBcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICB0ZW5kZXJzLmZvckVhY2godGVuZGVyID0+IHtcbiAgICAgICAgY29uc3QgZXhwaXJlc0F0ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSh0ZW5kZXIuZXhwaXJlc0F0KS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICAgICAgdGVuZGVyLnRpbWVMZWZ0ID0gZXhwaXJlc0F0ID4gY3VycmVudFRpbWUgPyBleHBpcmVzQXQgLSBjdXJyZW50VGltZSA6IDA7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSDinIUgQ29tcGxldGVkIHN1Y2Nlc3NmdWxseSB3aXRoICR7dGVuZGVycy5sZW5ndGh9IHRlbmRlcnNgKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHRlbmRlcnMgfTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignW2dldEFjdGl2ZVRlbmRlcnNdIOKdjCBFcnJvcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgYWN0aXZlIHRlbmRlcnMnKTtcbiAgICAgIHJldHVybiB7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGdldCBhY3RpdmUgdGVuZGVycycsXG4gICAgICAgIGRhdGE6IFtdIFxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY29uc29sZS5sb2coXCJbZ2V0QWN0aXZlVGVuZGVyc10gUmVxdWVzdCBjb21wbGV0ZSwgY2xlYW5pbmcgdXBcIik7XG4gICAgICBpc0xvYWRpbmdUZW5kZXJzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5XSk7XG5cbiAgLy8gXCLQl9Cw0LHRgNCw0YLRjFwiINGC0LXQvdC00LXRgFxuICBjb25zdCB0YWtlVGVuZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0UmVmLmN1cnJlbnQhLnRha2VUZW5kZXIoaWQpO1xuICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgaGFzaDogcmVjZWlwdC50cmFuc2FjdGlvbkhhc2hcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRha2luZyB0ZW5kZXI6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdGFrZSB0ZW5kZXInKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB0YWtlIHRlbmRlcicgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIHNpZ25lciwgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eV0pO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBhIHRlbmRlciBleGlzdHMgaW4gdGhlIGJsb2NrY2hhaW4gd2l0aG91dCB0aHJvd2luZyBlcnJvcnNcbiAgY29uc3QgY2hlY2tUZW5kZXJFeGlzdHMgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBDaGVja2luZyBpZiB0ZW5kZXIgJHt0ZW5kZXJJZH0gZXhpc3RzIGluIGJsb2NrY2hhaW4uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gTWFrZSBhIHNhZmUgY2FsbCB0aGF0IGNhdGNoZXMgdGhlIHJldmVydCBlcnJvclxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdGVuZGVyUmVzcG9uc2UgPSBhd2FpdCBnZXRUZW5kZXIodGVuZGVySWQpO1xuICAgICAgICByZXR1cm4gdGVuZGVyUmVzcG9uc2Uuc3VjY2VzcyAmJiAhIXRlbmRlclJlc3BvbnNlLmRhdGE7IC8vIFRydWUgaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWwgYW5kIGRhdGEgZXhpc3RzXG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIC8vIElmIHdlIGdldCBoZXJlLCB0aGUgY29udHJhY3QgY2FsbCBpdHNlbGYgdGhyZXcgYW4gZXJyb3JcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIENvbnRyYWN0IGVycm9yIGNoZWNraW5nIHRlbmRlciBleGlzdGVuY2U6YCwgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVycm9yIGlzIHNwZWNpZmljYWxseSBhYm91dCB0ZW5kZXIgbm90IGV4aXN0aW5nXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIChcbiAgICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSB8fFxuICAgICAgICAgIChlcnJvci5yZWFzb24gJiYgZXJyb3IucmVhc29uLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSlcbiAgICAgICAgKSkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIENhdWdodCAnVGVuZGVyIGRvZXMgbm90IGV4aXN0JyBlcnJvciAtIHRlbmRlciAke3RlbmRlcklkfSBjb25maXJtZWQgbm90IHRvIGV4aXN0YCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBUZW5kZXIgZGVmaW5pdGVseSBkb2Vzbid0IGV4aXN0XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBvdGhlciBlcnJvcnMsIGl0J3Mgc2FmZXIgdG8gZmFpbCB0aGUgY2hlY2tcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgaW4gY2hlY2tUZW5kZXJFeGlzdHMgd3JhcHBlcjpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbZ2V0VGVuZGVyXSk7XG5cbiAgLy8gU3VibWl0IGJpZCBmdW5jdGlvbiB3aXRoIHJldHJ5IGFuZCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcbiAgY29uc3Qgc3VibWl0QmlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKFxuICAgIHRlbmRlcklkOiBzdHJpbmcsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgcHJvcG9zYWw6IHN0cmluZ1xuICApOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8eyBoYXNoOiBzdHJpbmcgfT4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBDaGVja2luZyBpZiB0ZW5kZXIgJHt0ZW5kZXJJZH0gZXhpc3RzIGJlZm9yZSBzdWJtaXR0aW5nIGJpZC4uLmApO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgdGVuZGVyIGV4aXN0cyB0byBhdm9pZCB0aGUgXCJUZW5kZXIgZG9lcyBub3QgZXhpc3RcIiBlcnJvclxuICAgICAgY29uc3QgdGVuZGVyRXhpc3RzID0gYXdhaXQgY2hlY2tUZW5kZXJFeGlzdHModGVuZGVySWQpO1xuICAgICAgaWYgKCF0ZW5kZXJFeGlzdHMpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgVGVuZGVyIHdpdGggSUQgJHt0ZW5kZXJJZH0gZG9lcyBub3QgZXhpc3QgaW4gdGhlIGJsb2NrY2hhaW4uIEl0IG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBvciBuZXZlciBleGlzdGVkLmA7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCAke2Vycm9yTXNnfWApO1xuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgICAgZXJyb3I6IGVycm9yTXNnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn5K4IFRha2luZyB0ZW5kZXIgJHt0ZW5kZXJJZH0uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsbCB0YWtlVGVuZGVyIGluc3RlYWQgb2Ygc3VibWl0QmlkIHNpbmNlIHRoYXQncyB3aGF0IG91ciBjb250cmFjdCBhY3R1YWxseSBoYXNcbiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEudGFrZVRlbmRlcih0ZW5kZXJJZCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OdIFRlbmRlciB0YWtpbmcgdHJhbnNhY3Rpb24gc2VudDogJHt0eC5oYXNofWApO1xuICAgICAgY29uc29sZS5sb2coYOKPse+4jyBXYWl0aW5nIGZvciB0cmFuc2FjdGlvbiBjb25maXJtYXRpb24uLi5gKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgVGVuZGVyIHRha2VuIGNvbmZpcm1lZCBpbiBibG9jayAke3JlY2VpcHQuYmxvY2tOdW1iZXJ9YCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHsgaGFzaDogcmVjZWlwdC5oYXNoIH0sXG4gICAgICAgIGhhc2g6IHJlY2VpcHQuaGFzaFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHRha2luZyB0ZW5kZXI6YCwgZXJyKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIHNwZWNpZmljIGVycm9yIHR5cGVzXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJyc7XG4gICAgICBcbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0NBTExfRVhDRVBUSU9OJyB8fCBlcnIuY29kZSA9PT0gJ1VOUFJFRElDVEFCTEVfR0FTX0xJTUlUJykge1xuICAgICAgICAvLyBDb250cmFjdCBleGVjdXRpb24gZXJyb3JcbiAgICAgICAgaWYgKGVyci5yZWFzb24pIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgQ29udHJhY3QgZXJyb3I6ICR7ZXJyLnJlYXNvbn1gO1xuICAgICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdUZW5kZXIgZG9lcyBub3QgZXhpc3QnO1xuICAgICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdDYW5ub3QgdGFrZSB5b3VyIG93biB0ZW5kZXInKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdZb3UgY2Fubm90IHRha2UgeW91ciBvd24gdGVuZGVyJztcbiAgICAgICAgfSBlbHNlIGlmIChlcnIubWVzc2FnZSAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygnVGVuZGVyIGlzIG5vdCBvcGVuJykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnVGVuZGVyIGlzIG5vdCBvcGVuIGZvciB0YWtpbmcnO1xuICAgICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5kZXIgaGFzIGV4cGlyZWQnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdUZW5kZXIgaGFzIGV4cGlyZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBDb250cmFjdCBleGVjdXRpb24gZmFpbGVkOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXJyLmNvZGUgPT09ICdBQ1RJT05fUkVKRUNURUQnKSB7XG4gICAgICAgIC8vIFVzZXIgcmVqZWN0ZWQgdHJhbnNhY3Rpb25cbiAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1RyYW5zYWN0aW9uIHJlamVjdGVkIGJ5IHVzZXInO1xuICAgICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PT0gJ0lOU1VGRklDSUVOVF9GVU5EUycpIHtcbiAgICAgICAgLy8gSW5zdWZmaWNpZW50IGZ1bmRzXG4gICAgICAgIGVycm9yTWVzc2FnZSA9ICdJbnN1ZmZpY2llbnQgZnVuZHMgZm9yIHRyYW5zYWN0aW9uJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyLm1lc3NhZ2UpIHtcbiAgICAgICAgLy8gR2VuZXJpYyBlcnJvciB3aXRoIG1lc3NhZ2VcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVbmtub3duIGVycm9yXG4gICAgICAgIGVycm9yTWVzc2FnZSA9ICdVbmtub3duIGVycm9yIHRha2luZyB0ZW5kZXInO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSwgc2lnbmVyLCBjb250cmFjdFJlZiwgY2hlY2tUZW5kZXJFeGlzdHNdKTtcblxuICAvLyDQn9C+0LvRg9GH0LjRgtGMINCy0YHQtSDQt9Cw0Y/QstC60Lgg0L3QsCDRgtC10L3QtNC10YAgKNCw0LTQsNC/0YLQuNGA0L7QstCw0L3QviDQtNC70Y8g0LrQvtC90YLRgNCw0LrRgtCwINCx0LXQtyBnZXRCaWRzRm9yVGVuZGVyKVxuICBjb25zdCBnZXRCaWRzRm9yVGVuZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8eyBpZDogc3RyaW5nOyBiaWRkZXI6IHN0cmluZzsgYW1vdW50OiBudW1iZXI7IHRpbWVzdGFtcDogc3RyaW5nOyBzdGF0dXM6IHN0cmluZyB9W10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYOKaoO+4jyBnZXRCaWRzRm9yVGVuZGVyIGNhbGxlZCBmb3IgdGVuZGVyICR7aWR9LCBidXQgdGhpcyBjb250cmFjdCBkb2Vzbid0IHN1cHBvcnQgbGlzdGluZyBiaWRzYCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgY2FuIGF0IGxlYXN0IGdldCB0aGUgdGVuZGVyIHRvIHNlZSBpZiB0aGVyZSdzIGEgYmlkZGVyIGFzc2lnbmVkXG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogYENvbnRyYWN0IG5vdCBhdmFpbGFibGU6ICR7YXZhaWxhYmlsaXR5RXJyb3J9LiBOb3RlOiBUaGlzIGNvbnRyYWN0IGRvZXNuJ3Qgc3VwcG9ydCBsaXN0aW5nIGJpZHMuYCBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gZ2V0IHRoZSB0ZW5kZXIgdG8gY2hlY2sgaWYgdGhlcmUncyBhIGJpZGRlclxuICAgICAgY29uc3QgdGVuZGVyID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuZ2V0VGVuZGVyKGlkKTtcbiAgICAgIFxuICAgICAgaWYgKHRlbmRlciAmJiB0ZW5kZXIuYmlkZGVyICYmIHRlbmRlci5iaWRkZXIgIT09ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSB7XG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBiaWRkZXIsIGNyZWF0ZSBhIHNpbmdsZSBtb2NrIGJpZCBlbnRyeVxuICAgICAgICBjb25zdCBtb2NrQmlkID0ge1xuICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgYmlkZGVyOiB0ZW5kZXIuYmlkZGVyLFxuICAgICAgICAgIGFtb3VudDogMCwgLy8gV2UgZG9uJ3Qgc3RvcmUgYmlkIGFtb3VudHMgaW4gdGhpcyBjb250cmFjdFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoTnVtYmVyKHRlbmRlci5jcmVhdGVkQXQpICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBzdGF0dXM6IHRlbmRlci5zdGF0dXMgPT09IDIgPyAnQUNDRVBURUQnIDogJ1BFTkRJTkcnIC8vIDIgaXMgQVdBUkRFRCBpbiBlbnVtXG4gICAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogW21vY2tCaWRdLFxuICAgICAgICAgIGVycm9yOiAnTm90ZTogVGhpcyBjb250cmFjdCBvbmx5IHNob3dzIHRoZSBhc3NpZ25lZCBiaWRkZXIsIG5vdCBhbGwgYmlkcydcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW10sIC8vIE5vIGJpZGRlciBhc3NpZ25lZFxuICAgICAgICBlcnJvcjogJ05vdGU6IFRoaXMgY29udHJhY3QgZG9lc25cXCd0IHN1cHBvcnQgbGlzdGluZyBhbGwgYmlkcydcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdGVuZGVyIGZvciBiaWQgaW5mbzonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgYmlkcyAobm90IHN1cHBvcnRlZCBieSB0aGlzIGNvbnRyYWN0KScpO1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZ2V0IGJpZHMgKG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBjb250cmFjdCknLFxuICAgICAgICBkYXRhOiBbXVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICAvLyDQl9Cw0LLQtdGA0YjQuNGC0Ywg0YLQtdC90LTQtdGAXG4gIGNvbnN0IGNvbXBsZXRlVGVuZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0UmVmLmN1cnJlbnQhLmNvbXBsZXRlVGVuZGVyKGlkKTtcbiAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0eC53YWl0KCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGhhc2g6IHJlY2VpcHQudHJhbnNhY3Rpb25IYXNoXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21wbGV0aW5nIHRlbmRlcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjb21wbGV0ZSB0ZW5kZXInKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjb21wbGV0ZSB0ZW5kZXInIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBzaWduZXIsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICAvLyDQntGC0LzQtdC90LjRgtGMINGC0LXQvdC00LXRgFxuICBjb25zdCBjYW5jZWxUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTx2b2lkPj4gPT4ge1xuICAgIGNvbnN0IHsgYXZhaWxhYmxlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfSA9IGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHkoKTtcbiAgICBpZiAoIWF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9O1xuICAgIH1cblxuICAgIGlmICghc2lnbmVyKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdXYWxsZXQgbm90IGNvbm5lY3RlZCcgfTtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuY2FuY2VsVGVuZGVyKGlkKTtcbiAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0eC53YWl0KCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGhhc2g6IHJlY2VpcHQudHJhbnNhY3Rpb25IYXNoXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIHRlbmRlcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjYW5jZWwgdGVuZGVyJyk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY2FuY2VsIHRlbmRlcicgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIHNpZ25lciwgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eV0pO1xuXG4gIC8vIEFkZCBhIGhlbHBlciBmdW5jdGlvbiB0byBhZGQgSGFyZGhhdCBuZXR3b3JrIHRvIE1ldGFNYXNrXG4gIGNvbnN0IGFkZEhhcmRoYXROZXR3b3JrVG9NZXRhTWFzayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIHdpbmRvdy5ldGhlcmV1bSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBBZGRpbmcgSGFyZGhhdCBsb2NhbCBuZXR3b3JrIHRvIE1ldGFNYXNrLi4uJyk7XG4gICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgIGNoYWluSWQ6ICcweDdhNjknLCAgLy8gMzEzMzcgaW4gaGV4YWRlY2ltYWxcbiAgICAgICAgICBjaGFpbk5hbWU6ICdIYXJkaGF0IExvY2FsJyxcbiAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogeyBuYW1lOiAnRVRIJywgc3ltYm9sOiAnRVRIJywgZGVjaW1hbHM6IDE4IH0sXG4gICAgICAgICAgcnBjVXJsczogWydodHRwOi8vMTI3LjAuMC4xOjg1NDUvJ10sXG4gICAgICAgICAgYmxvY2tFeHBsb3JlclVybHM6IG51bGxcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBZGRlZCBIYXJkaGF0IGxvY2FsIG5ldHdvcmsgdG8gTWV0YU1hc2snKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIHN3aXRjaCB0byB0aGUgSGFyZGhhdCBuZXR3b3JrXG4gICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHg3YTY5JyB9XVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIFN3aXRjaGVkIHRvIEhhcmRoYXQgbG9jYWwgbmV0d29yaycpO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBhZGQgSGFyZGhhdCBuZXR3b3JrIHRvIE1ldGFNYXNrOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyDQn9C+0LvRg9GH0LjRgtGMINC60L7Qu9C40YfQtdGB0YLQstC+INGC0LXQvdC00LXRgNC+0LIg0LIg0LrQvtC90YLRgNCw0LrRgtC1XG4gIGNvbnN0IGdldFRlbmRlckNvdW50ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ29udHJhY3Qgbm90IGF2YWlsYWJsZSBmb3IgZ2V0VGVuZGVyQ291bnQ6XCIsIGF2YWlsYWJpbGl0eUVycm9yKTtcbiAgICAgIHJldHVybiBcIjBcIjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJHZXR0aW5nIHRlbmRlciBjb3VudCBmcm9tIGNvbnRyYWN0XCIpO1xuICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBjb250cmFjdFJlZi5jdXJyZW50IS50ZW5kZXJDb3VudCgpO1xuICAgICAgY29uc29sZS5sb2coXCJDdXJyZW50IHRlbmRlciBjb3VudDpcIiwgY291bnQudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gY291bnQudG9TdHJpbmcoKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB0ZW5kZXIgY291bnQ6JywgZXJyKTtcbiAgICAgIHJldHVybiBcIjBcIjtcbiAgICB9XG4gIH0sIFtjb250cmFjdFJlZiwgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eV0pO1xuXG4gIC8vIE1pZ3JhdGUgYSB0ZW5kZXIgZnJvbSBkYXRhYmFzZSB0byBibG9ja2NoYWluXG4gIGNvbnN0IG1pZ3JhdGVUZW5kZXJUb0Jsb2NrY2hhaW4gPSB1c2VDYWxsYmFjayhhc3luYyAoXG4gICAgdGVuZGVySWQ6IHN0cmluZyxcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgYnVkZ2V0OiBzdHJpbmcsXG4gICAgZGVhZGxpbmU6IHN0cmluZyB8IG51bWJlciB8IGJpZ2ludCxcbiAgICBzdGF0dXM6IFRlbmRlclN0YXR1c1xuICApOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8eyBpZDogc3RyaW5nIH0+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYPCflIQgTWlncmF0aW5nIHRlbmRlciAke3RlbmRlcklkfSB0byBibG9ja2NoYWluLi4uYCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgY29udHJhY3QgYXZhaWxhYmlsaXR5XG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH07XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgd2FsbGV0IGlzIGNvbm5lY3RlZFxuICAgIGlmICghc2lnbmVyKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdXYWxsZXQgbm90IGNvbm5lY3RlZCcgfTtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgc3RhdHVzIHN0cmluZyB0byBjb250cmFjdCBlbnVtIHZhbHVlXG4gICAgICBjb25zdCBzdGF0dXNNYXA6IFJlY29yZDxUZW5kZXJTdGF0dXMsIG51bWJlcj4gPSB7XG4gICAgICAgICdPUEVOJzogMCxcbiAgICAgICAgJ0NMT1NFRCc6IDEsXG4gICAgICAgICdBV0FSREVEJzogMixcbiAgICAgICAgJ0NPTVBMRVRFRCc6IDMsXG4gICAgICAgICdDQU5DRUxMRUQnOiA0XG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RhdHVzVmFsdWUgPSBzdGF0dXNNYXBbc3RhdHVzXSB8fCAwO1xuXG4gICAgICAvLyBGb3JtYXQgZGVhZGxpbmUgdG8gVVRDIHRpbWVzdGFtcCBpZiBpdCdzIG5vdCBhbHJlYWR5IGEgbnVtYmVyXG4gICAgICBsZXQgZGVhZGxpbmVUaW1lc3RhbXA6IG51bWJlcjtcbiAgICAgIGlmICh0eXBlb2YgZGVhZGxpbmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRlYWRsaW5lVGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZShkZWFkbGluZSkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWFkbGluZSA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgZGVhZGxpbmVUaW1lc3RhbXAgPSBOdW1iZXIoZGVhZGxpbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVhZGxpbmVUaW1lc3RhbXAgPSBOdW1iZXIoZGVhZGxpbmUpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgdGhlIHRlbmRlciBpbiB0aGUgYmxvY2tjaGFpblxuICAgICAgY29uc29sZS5sb2coYENyZWF0aW5nIHRlbmRlciBpbiBibG9ja2NoYWluIHdpdGg6IHRpdGxlPSR7dGl0bGV9LCBidWRnZXQ9JHtidWRnZXR9LCBkZWFkbGluZT0ke2RlYWRsaW5lVGltZXN0YW1wfWApO1xuICAgICAgY29uc3QgdHggPSBhd2FpdCBjb250cmFjdFJlZi5jdXJyZW50IS5jcmVhdGVUZW5kZXIoXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgYnVkZ2V0LFxuICAgICAgICBkZWFkbGluZVRpbWVzdGFtcCxcbiAgICAgICAgMCwgLy8gRGVmYXVsdCBkaXN0YW5jZVxuICAgICAgICAwLCAvLyBEZWZhdWx0IHdlaWdodFxuICAgICAgICAnR2VuZXJhbCcsIC8vIERlZmF1bHQgY2FyZ29UeXBlXG4gICAgICAgIDcgIC8vIERlZmF1bHQgdXJnZW5jeURheXNcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0eC53YWl0KCk7XG4gICAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gcmVjZWlwdDonLCByZWNlaXB0KTtcblxuICAgICAgLy8gR2V0IHRoZSB0ZW5kZXIgSUQgZnJvbSBldmVudHMgb3IgbGFzdCB0ZW5kZXIgY291bnRcbiAgICAgIGNvbnN0IHRlbmRlckNvdW50ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEudGVuZGVyQ291bnQoKTtcbiAgICAgIGNvbnN0IG5ld1RlbmRlcklkID0gKHRlbmRlckNvdW50IC0gMSkudG9TdHJpbmcoKTtcblxuICAgICAgY29uc29sZS5sb2coYOKchSBUZW5kZXIgbWlncmF0ZWQgdG8gYmxvY2tjaGFpbiB3aXRoIElEOiAke25ld1RlbmRlcklkfWApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogeyBpZDogbmV3VGVuZGVySWQgfSxcbiAgICAgICAgaGFzaDogcmVjZWlwdC50cmFuc2FjdGlvbkhhc2hcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBtaWdyYXRpbmcgdGVuZGVyIHRvIGJsb2NrY2hhaW46JywgZXJyKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbWlncmF0ZSB0ZW5kZXIgdG8gYmxvY2tjaGFpbic7XG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSBcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBzaWduZXIsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICByZXR1cm4ge1xuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgaXNDb250cmFjdEF2YWlsYWJsZSxcbiAgICBjb250cmFjdFN0YXR1cyxcbiAgICBjb250cmFjdEVycm9yRGV0YWlscyxcbiAgICBjcmVhdGVUZW5kZXIsXG4gICAgZ2V0VGVuZGVyLFxuICAgIGdldEFjdGl2ZVRlbmRlcnMsXG4gICAgdGFrZVRlbmRlcixcbiAgICBjb21wbGV0ZVRlbmRlcixcbiAgICBjYW5jZWxUZW5kZXIsXG4gICAgc3VibWl0QmlkLFxuICAgIGdldEJpZHNGb3JUZW5kZXIsXG4gICAgY2hlY2tDb250cmFjdFN0YXR1cyxcbiAgICBmb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb24sXG4gICAgYWRkSGFyZGhhdE5ldHdvcmtUb01ldGFNYXNrLFxuICAgIGdldFRlbmRlckNvdW50LFxuICAgIG1pZ3JhdGVUZW5kZXJUb0Jsb2NrY2hhaW5cbiAgfTtcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwidXNlV2ViMyIsImV0aGVycyIsIkNvbnRyYWN0IiwiZ2V0QmlnSW50IiwiVGVuZGVyQ2hhaW5BQkkiLCJGQUxMQkFDS19BQkkiLCJBQkkiLCJhYmkiLCJDT05UUkFDVF9BRERSRVNTIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0NPTlRSQUNUX0FERFJFU1MiLCJjb25zb2xlIiwibG9nIiwiTUFYX0lOSVRfQVRURU1QVFMiLCJJTklUX1JFVFJZX0RFTEFZIiwiZ2V0RXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJoYW5kbGVDb250cmFjdEVycm9yIiwiZGVmYXVsdFZhbHVlIiwic3VjY2VzcyIsInJlYXNvbiIsImRhdGEiLCJ2ZXJpZnlDb250cmFjdEFkZHJlc3MiLCJhZGRyZXNzIiwicHJvdmlkZXIiLCJpc0FkZHJlc3MiLCJjb2RlIiwiZ2V0Q29kZSIsImxlbmd0aCIsInZhbGlkYXRlQ29udHJhY3RBQkkiLCJyZXF1aXJlZE1ldGhvZHMiLCJvcHRpb25hbE1ldGhvZHMiLCJBcnJheSIsImlzQXJyYXkiLCJtZXRob2ROYW1lcyIsImZpbHRlciIsIml0ZW0iLCJ0eXBlIiwiaW5jbHVkZXMiLCJtYXAiLCJtYXRjaCIsIm5hbWUiLCJCb29sZWFuIiwibWlzc2luZ1JlcXVpcmVkTWV0aG9kcyIsIm1ldGhvZCIsIm1pc3NpbmdPcHRpb25hbE1ldGhvZHMiLCJ3YXJuIiwidXNlQ29udHJhY3RUZW5kZXIiLCJzaWduZXIiLCJhY2NvdW50IiwiY29udHJhY3QiLCJzZXRDb250cmFjdCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJpc0NvbnRyYWN0QXZhaWxhYmxlIiwic2V0SXNDb250cmFjdEF2YWlsYWJsZSIsImNvbnRyYWN0U3RhdHVzIiwic2V0Q29udHJhY3RTdGF0dXMiLCJjb250cmFjdEVycm9yRGV0YWlscyIsInNldENvbnRyYWN0RXJyb3JEZXRhaWxzIiwiY29udHJhY3RSZWYiLCJpc0NvbnRyYWN0QXZhaWxhYmxlUmVmIiwibGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsIiwiaXNMb2FkaW5nVGVuZGVycyIsImluaXRBdHRlbXB0cyIsImZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbiIsIndpbmRvdyIsImV0aGVyZXVtIiwiY2hhaW5JZCIsInJlcXVlc3QiLCJpc1ZhbGlkTmV0d29yayIsImFjY291bnRzIiwiam9pbiIsInBhcmFtcyIsImhhcmRoYXRTd2l0Y2hFcnJvciIsInNlcG9saWFTd2l0Y2hFcnJvciIsImNoYWluTmFtZSIsIm5hdGl2ZUN1cnJlbmN5Iiwic3ltYm9sIiwiZGVjaW1hbHMiLCJycGNVcmxzIiwiYmxvY2tFeHBsb3JlclVybHMiLCJhZGRTZXBvbGlhRXJyb3IiLCJuZXR3b3JrRXJyb3IiLCJCcm93c2VyUHJvdmlkZXIiLCJuZXdTaWduZXIiLCJnZXRTaWduZXIiLCJzaWduZXJBZGRyZXNzIiwiZ2V0QWRkcmVzcyIsImhhc1RlbmRlckNvdW50Iiwic29tZSIsImN1cnJlbnQiLCJpc1ZhbGlkQ29udHJhY3QiLCJjb3VudCIsInRlbmRlckNvdW50IiwiZXJyIiwidGVzdENvbnRyYWN0Q29ubmVjdGlvbiIsImJyb3dzZXJQcm92aWRlciIsImRpcmVjdENvbnRyYWN0IiwidG9TdHJpbmciLCJpc01vdW50ZWQiLCJyZXRyeUNvdW50IiwiY2hlY2tDb250cmFjdFdpdGhSZXRyeSIsInNldFRpbWVvdXQiLCJzaWduZXJBZGRyZXNzU3RyIiwic2V0U2lnbmVyQWRkcmVzc1N0ciIsInRoZW4iLCJjYXRjaCIsInByZXZpb3VzU2lnbmVyUmVmIiwiY29udHJhY3RBdmFpbGFibGUiLCJjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5IiwiYXZhaWxhYmxlIiwiZXJyb3JNc2ciLCJjaGVja0NvbnRyYWN0U3RhdHVzIiwiY3JlYXRlVGVuZGVyIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1ZGdldCIsImRlYWRsaW5lIiwiZGlzdGFuY2VLbSIsIndlaWdodEtnIiwiY2FyZ29UeXBlIiwidXJnZW5jeURheXMiLCJleHBpcmF0aW9uTWludXRlcyIsImF2YWlsYWJpbGl0eUVycm9yIiwiZGVhZGxpbmVUaW1lc3RhbXAiLCJOdW1iZXIiLCJ0eCIsInJlY2VpcHQiLCJ3YWl0IiwiZXZlbnQiLCJsb2dzIiwiZnJhZ21lbnQiLCJ0ZW5kZXJJZCIsImFyZ3MiLCJEYXRlIiwibm93IiwiaWQiLCJoYXNoIiwidHJhbnNhY3Rpb25IYXNoIiwiZ2V0VGVuZGVyIiwidGVuZGVyRGF0YSIsInN0YXR1c01hcCIsInN0YXR1cyIsImFkYXB0ZWRUZW5kZXIiLCJkaXN0YW5jZSIsIndlaWdodCIsImNyZWF0b3IiLCJiaWRkZXIiLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsImV4cGlyZXNBdCIsInRpbWVMZWZ0IiwiTWF0aCIsIm1heCIsImZsb29yIiwiZ2V0QWN0aXZlVGVuZGVycyIsInRpbWVvdXRQcm9taXNlIiwiUHJvbWlzZSIsIl8iLCJyZWplY3QiLCJhY3RpdmVUZW5kZXJJZHMiLCJyYWNlIiwidGVuZGVyUHJvbWlzZXMiLCJ1bmRlZmluZWQiLCJpZFN0cmluZyIsInRlbmRlcnNEYXRhIiwiYWxsIiwidGVuZGVycyIsImN1cnJlbnRUaW1lIiwiZm9yRWFjaCIsInRlbmRlciIsImdldFRpbWUiLCJ0YWtlVGVuZGVyIiwiY2hlY2tUZW5kZXJFeGlzdHMiLCJ0ZW5kZXJSZXNwb25zZSIsInN1Ym1pdEJpZCIsImFtb3VudCIsInByb3Bvc2FsIiwidGVuZGVyRXhpc3RzIiwiYmxvY2tOdW1iZXIiLCJlcnJvck1lc3NhZ2UiLCJnZXRCaWRzRm9yVGVuZGVyIiwibW9ja0JpZCIsInRpbWVzdGFtcCIsImNvbXBsZXRlVGVuZGVyIiwiY2FuY2VsVGVuZGVyIiwiYWRkSGFyZGhhdE5ldHdvcmtUb01ldGFNYXNrIiwiZ2V0VGVuZGVyQ291bnQiLCJtaWdyYXRlVGVuZGVyVG9CbG9ja2NoYWluIiwic3RhdHVzVmFsdWUiLCJuZXdUZW5kZXJJZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./hooks/useContractTender.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./hooks/useTenderAPI.ts":
/*!*******************************!*\
  !*** ./hooks/useTenderAPI.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// The shared singleton instance\nlet SINGLETON_INSTANCE = null;\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api';\n// Custom error class for request timeouts\nclass RequestTimeoutError extends Error {\n    constructor(message){\n        super(message);\n        this.name = 'RequestTimeoutError';\n    }\n}\n// Constants for API requests\nconst API_TIMEOUT = 30000; // 30 seconds\nconst MAX_RETRIES = 2;\n// Кеширование результатов запросов\nconst cache = new Map();\nconst CACHE_TTL = 1000 * 60; // 1 минута\n// Мок-данные для случаев, когда API недоступен\nconst MOCK_DATA = {\n    tenders: [\n        {\n            id: 'mock-1',\n            title: 'Демо тендер #1 - API недоступен',\n            description: 'Расстояние: 1000 км, Вес: 500 кг, Тип груза: perishable, Срок доставки: 3 дня',\n            budget: 1500,\n            deadline: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            creatorId: '1',\n            creator: {\n                id: '1',\n                name: 'Демо пользователь',\n                email: 'demo@example.com',\n                walletAddress: '0x123456789abcdef',\n                createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: '1',\n                    name: 'perishable',\n                    createdAt: new Date().toISOString()\n                }\n            ],\n            expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString()\n        },\n        {\n            id: 'mock-2',\n            title: 'Демо тендер #2 - API недоступен',\n            description: 'Расстояние: 500 км, Вес: 1000 кг, Тип груза: general, Срок доставки: 5 дней',\n            budget: 2000,\n            deadline: new Date(Date.now() + 10 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            creatorId: '2',\n            creator: {\n                id: '2',\n                name: 'Демо пользователь 2',\n                email: 'demo2@example.com',\n                walletAddress: '0x987654321fedcba',\n                createdAt: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: '2',\n                    name: 'general',\n                    createdAt: new Date().toISOString()\n                }\n            ],\n            expiresAt: new Date(Date.now() + 48 * 60 * 60 * 1000).toISOString()\n        }\n    ],\n    bids: [\n        {\n            id: 'mock-bid-1',\n            amount: 1400,\n            proposal: 'Демо заявка на тендер #1',\n            status: 'PENDING',\n            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            tenderId: 'mock-1',\n            bidderId: '3',\n            bidder: {\n                id: '3',\n                name: 'Демо участник',\n                email: 'bidder@example.com',\n                walletAddress: '0xabcdef123456789',\n                createdAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString()\n            }\n        }\n    ]\n};\n// Использовать ли мок-данные при ошибках API\nconst USE_MOCK_DATA_ON_ERROR = true;\n// Helper function to create a fetch request with timeout\nconst fetchWithTimeout = async (url, fetchOptions, timeoutMs = 30000)=>{\n    const controller = new AbortController();\n    const signal = controller.signal;\n    let timeoutId = null;\n    try {\n        // Create a promise that rejects on timeout\n        const timeoutPromise = new Promise((_, reject)=>{\n            timeoutId = setTimeout(()=>{\n                controller.abort('Request timeout');\n                reject(new RequestTimeoutError(`Request timed out after ${timeoutMs}ms`));\n            }, timeoutMs);\n        });\n        // Wrapping the fetch in a try/catch to handle network errors\n        const fetchPromise = fetch(url, {\n            ...fetchOptions,\n            signal\n        });\n        // Race the fetch against the timeout\n        return await Promise.race([\n            fetchPromise,\n            timeoutPromise\n        ]);\n    } finally{\n        // Always clean up the timeout to prevent memory leaks\n        if (timeoutId) clearTimeout(timeoutId);\n    }\n};\n// Helper function to get mock tenders for development and testing\nconst getMockTenders = ()=>{\n    return [\n        {\n            id: 'mock-tender-1',\n            title: 'Transport Refrigerated Goods',\n            description: 'Need temperature-controlled transportation for perishable items from warehouse to distribution centers.',\n            budget: 3000,\n            deadline: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString(),\n            creatorId: 'mock-user-1',\n            creator: {\n                id: 'mock-user-1',\n                name: 'Supply Chain Corp',\n                email: 'supply@example.com',\n                walletAddress: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n                createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: 'cat-1',\n                    name: 'Transportation',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                },\n                {\n                    id: 'cat-2',\n                    name: 'Cold Chain',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                }\n            ],\n            bids: []\n        },\n        {\n            id: 'mock-tender-2',\n            title: 'Last Mile Delivery Partners',\n            description: 'Seeking local delivery partners for last-mile delivery in urban areas.',\n            budget: 5000,\n            deadline: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString(),\n            creatorId: 'mock-user-2',\n            creator: {\n                id: 'mock-user-2',\n                name: 'E-Commerce Solutions',\n                email: 'ecommerce@example.com',\n                walletAddress: '0x70997970C51812dc3A010C7d01b50e0d17dc79C8',\n                createdAt: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: 'cat-1',\n                    name: 'Transportation',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                },\n                {\n                    id: 'cat-3',\n                    name: 'Urban Delivery',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                }\n            ],\n            bids: []\n        }\n    ];\n};\n// Helper function to get mock bids for development and testing\nconst getMockBids = (tenderId)=>{\n    return [\n        {\n            id: `mock-bid-1-${tenderId}`,\n            amount: 2800,\n            proposal: \"We offer same-day temperature-controlled delivery with real-time tracking.\",\n            status: 'PENDING',\n            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            tenderId: tenderId,\n            bidderId: 'mock-bidder-1',\n            bidder: {\n                id: 'mock-bidder-1',\n                name: 'Cold Transport Inc',\n                email: 'transport@example.com',\n                walletAddress: '0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC',\n                createdAt: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000).toISOString()\n            }\n        },\n        {\n            id: `mock-bid-2-${tenderId}`,\n            amount: 3100,\n            proposal: \"Our fleet of refrigerated trucks ensures your goods arrive in perfect condition.\",\n            status: 'PENDING',\n            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            tenderId: tenderId,\n            bidderId: 'mock-bidder-2',\n            bidder: {\n                id: 'mock-bidder-2',\n                name: 'Premium Logistics',\n                email: 'logistics@example.com',\n                walletAddress: '0x90F79bf6EB2c4f870365E785982E1f101E93b906',\n                createdAt: new Date(Date.now() - 35 * 24 * 60 * 60 * 1000).toISOString()\n            }\n        }\n    ];\n};\n// Main API implementation as a factory function\nconst createTenderAPI = ()=>{\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const useMockDataFromEnv = process.env.NEXT_PUBLIC_USE_MOCK_DATA === 'true';\n    const [useMockData, setUseMockData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(useMockDataFromEnv);\n    // Log initial state\n    console.log(`TenderAPI instance created with mock data ${useMockData ? 'enabled' : 'disabled'} (env: ${useMockDataFromEnv})`);\n    const handleRequest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[handleRequest]\": async (endpoint, options = {}, retry = 0)=>{\n            setLoading(true);\n            setError(null);\n            // Early return for mock data if enabled\n            if (useMockData) {\n                console.log(`Using mock data for ${endpoint} (mock mode enabled)`);\n                if (endpoint === '/tenders') {\n                    setLoading(false);\n                    return {\n                        data: getMockTenders(),\n                        error: null,\n                        loading: false\n                    };\n                }\n                if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    console.log(`Getting mock bids for tender: ${tenderId}`);\n                    setLoading(false);\n                    return {\n                        data: getMockBids(tenderId),\n                        error: null,\n                        loading: false\n                    };\n                }\n                // For specific tender details\n                if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    const allTenders = getMockTenders();\n                    const tender = allTenders.find({\n                        \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                    }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                    if (tender) {\n                        setLoading(false);\n                        return {\n                            data: tender,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                }\n            }\n            try {\n                console.log(`Making API request to ${endpoint}:`, options);\n                // Add default headers for JSON requests\n                const fetchOptions = {\n                    ...options,\n                    headers: {\n                        ...options.headers,\n                        'Content-Type': 'application/json'\n                    }\n                };\n                // Fetch with timeout\n                const response = await fetchWithTimeout(`${API_BASE_URL}${endpoint}`, fetchOptions, API_TIMEOUT);\n                // Check if response is OK\n                if (!response.ok) {\n                    // Handle 404 errors differently - they're expected sometimes\n                    if (response.status === 404) {\n                        console.log(`Resource not found at ${endpoint}. This might be expected.`);\n                        // Return empty data rather than treating as error for 404\n                        return {\n                            data: null,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // Handle 500 errors by using mock data\n                    if (response.status === 500) {\n                        console.log(`Server error (500) for ${endpoint}. Falling back to mock data.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (500 error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    // General error fallback - use mock data in development or if mock mode is enabled\n                    if (true) {\n                        console.log(`HTTP Error (${response.status}) for ${endpoint}. Using mock data as fallback.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (HTTP error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    throw new Error(`API error: ${response.status} ${response.statusText}`);\n                }\n                // Check content type to ensure we're getting JSON\n                const contentType = response.headers.get('content-type');\n                if (!contentType || !contentType.includes('application/json')) {\n                    console.error('API returned non-JSON content type:', contentType);\n                    try {\n                        // Try to see what was returned\n                        const text = await response.text();\n                        console.log('API response text:', text.substring(0, 200) + '...');\n                        // Show more detailed error in development\n                        if (true) {\n                            console.log('Development environment detected, showing detailed error');\n                            // Check if it's an HTML response (typically 404/500 error pages)\n                            if (text.includes('<!DOCTYPE html>')) {\n                                console.error('API returned an HTML page instead of JSON data');\n                                // In development, we'll use mock data instead\n                                console.log('Switching to mock data due to HTML response');\n                                if (!useMockData) {\n                                    setUseMockData(true);\n                                }\n                                // Return mock data\n                                if (endpoint.includes('/tenders') && !endpoint.includes('/bids')) {\n                                    // For tender endpoints, return mock tenders\n                                    return {\n                                        data: getMockTenders(),\n                                        error: null,\n                                        loading: false\n                                    };\n                                } else if (endpoint.includes('/bids')) {\n                                    // For bid endpoints, return mock bids\n                                    return {\n                                        data: getMockBids(endpoint.split('/')[2]),\n                                        error: null,\n                                        loading: false\n                                    };\n                                }\n                            }\n                        }\n                        throw new Error('Response is not JSON. API returned: ' + contentType);\n                    } catch (textError) {\n                        throw new Error(`Failed to parse response: ${textError}`);\n                    }\n                }\n                // Parse JSON response\n                const data = await response.json();\n                // API response with proper structure\n                console.log(`API response from ${endpoint}:`, {\n                    status: response.status,\n                    ok: response.ok,\n                    data: data\n                });\n                return {\n                    data,\n                    error: null,\n                    loading: false\n                };\n            } catch (error) {\n                let errorMessage = error.message || 'Unknown error';\n                // Network errors (like CORS, connection refused, etc.)\n                if (error instanceof TypeError && error.message.includes('fetch')) {\n                    errorMessage = `Network error: ${error.message}`;\n                    console.error(`Network error for ${endpoint}:`, error);\n                } else if (error instanceof RequestTimeoutError) {\n                    errorMessage = `Request timed out after ${API_TIMEOUT}ms`;\n                    console.error(`Timeout for ${endpoint}:`, error);\n                } else {\n                    console.error(`API error for ${endpoint}:`, error);\n                }\n                // Retry logic for certain errors (not 4xx client errors)\n                if (retry < MAX_RETRIES && !errorMessage.includes('API error: 4')) {\n                    console.log(`Retrying request to ${endpoint} (attempt ${retry + 1}/${MAX_RETRIES})`);\n                    return handleRequest(endpoint, options, retry + 1);\n                }\n                // Return mock data in development mode if API fails\n                if (true) {\n                    console.log(`Using mock data for ${endpoint} due to API error`);\n                    // Toggle mock data mode if not already on\n                    if (!useMockData) {\n                        setUseMockData(true);\n                    }\n                    // Return appropriate mock data based on the endpoint\n                    if (endpoint === '/tenders') {\n                        setLoading(false);\n                        return {\n                            data: getMockTenders(),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        console.log(`Getting mock bids for tender (error case): ${tenderId}`);\n                        setLoading(false);\n                        return {\n                            data: getMockBids(tenderId),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // For specific tender details\n                    if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        const allTenders = getMockTenders();\n                        const tender = allTenders.find({\n                            \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                        }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                        if (tender) {\n                            setLoading(false);\n                            return {\n                                data: tender,\n                                error: null,\n                                loading: false\n                            };\n                        }\n                    }\n                }\n                setError(errorMessage);\n                return {\n                    data: null,\n                    error: errorMessage,\n                    loading: false\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"createTenderAPI.useCallback[handleRequest]\"], [\n        API_BASE_URL,\n        useMockData\n    ]);\n    const getTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getTenders]\": async ()=>{\n            return handleRequest('/tenders');\n        }\n    }[\"createTenderAPI.useCallback[getTenders]\"], [\n        handleRequest\n    ]);\n    const getTenderById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getTenderById]\": async (id)=>{\n            // Check cache\n            const now = Date.now();\n            const cacheKey = `/tenders/${id}`;\n            const cachedData = cache.get(cacheKey);\n            // If data exists in cache and isn't stale, return it\n            if (cachedData && now - cachedData.timestamp < CACHE_TTL) {\n                console.log('Using cached data for tender:', id);\n                return {\n                    data: cachedData.data,\n                    error: null,\n                    loading: false\n                };\n            }\n            const result = await handleRequest(`/tenders/${id}`);\n            // Save successful result to cache\n            if (result.data) {\n                cache.set(cacheKey, {\n                    data: result.data,\n                    timestamp: now\n                });\n            }\n            return result;\n        }\n    }[\"createTenderAPI.useCallback[getTenderById]\"], [\n        handleRequest\n    ]);\n    const createTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[createTender]\": async (tenderData)=>{\n            return handleRequest('/tenders', {\n                method: 'POST',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[createTender]\"], [\n        handleRequest\n    ]);\n    const updateTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[updateTender]\": async (id, tenderData)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'PUT',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[updateTender]\"], [\n        handleRequest\n    ]);\n    const deleteTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[deleteTender]\": async (id)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"createTenderAPI.useCallback[deleteTender]\"], [\n        handleRequest\n    ]);\n    const getBids = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getBids]\": async (tenderId)=>{\n            console.log(`Getting bids for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return handleRequest(`/tenders/${tenderId}/bids`);\n        }\n    }[\"createTenderAPI.useCallback[getBids]\"], [\n        handleRequest,\n        useMockData\n    ]);\n    const createBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[createBid]\": async (bidData)=>{\n            const { tenderId, ...restData } = bidData;\n            console.log(`Creating bid for tender ${tenderId}:`, restData);\n            return handleRequest(`/tenders/${tenderId}/bids`, {\n                method: 'POST',\n                body: JSON.stringify(restData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[createBid]\"], [\n        handleRequest\n    ]);\n    const updateBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[updateBid]\": async (tenderId, bidId, bidData)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'PUT',\n                body: JSON.stringify(bidData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[updateBid]\"], [\n        handleRequest\n    ]);\n    const deleteBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[deleteBid]\": async (tenderId, bidId)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"createTenderAPI.useCallback[deleteBid]\"], [\n        handleRequest\n    ]);\n    const loginWithWallet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[loginWithWallet]\": async (walletAddress)=>{\n            return handleRequest('/users/login', {\n                method: 'POST',\n                body: JSON.stringify({\n                    walletAddress\n                })\n            });\n        }\n    }[\"createTenderAPI.useCallback[loginWithWallet]\"], [\n        handleRequest\n    ]);\n    const getCurrentUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getCurrentUser]\": async ()=>{\n            return handleRequest('/users/me');\n        }\n    }[\"createTenderAPI.useCallback[getCurrentUser]\"], [\n        handleRequest\n    ]);\n    // Для тестирования и отладки\n    const toggleMockData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[toggleMockData]\": ()=>{\n            setUseMockData({\n                \"createTenderAPI.useCallback[toggleMockData]\": (prev)=>{\n                    console.log(`Toggling mock data mode from ${prev} to ${!prev}`);\n                    // Reset error state when switching modes\n                    setError(null);\n                    return !prev;\n                }\n            }[\"createTenderAPI.useCallback[toggleMockData]\"]);\n        }\n    }[\"createTenderAPI.useCallback[toggleMockData]\"], []);\n    // Add getBidsForTender function which is an alias for getBids\n    const getBidsForTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getBidsForTender]\": async (tenderId)=>{\n            console.log(`getBidsForTender called for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return getBids(tenderId);\n        }\n    }[\"createTenderAPI.useCallback[getBidsForTender]\"], [\n        getBids,\n        useMockData\n    ]);\n    return {\n        loading,\n        error,\n        useMockData,\n        toggleMockData,\n        getTenders,\n        getTenderById,\n        createTender,\n        updateTender,\n        deleteTender,\n        getBids,\n        getBidsForTender,\n        createBid,\n        updateBid,\n        deleteBid,\n        loginWithWallet,\n        getCurrentUser\n    };\n};\n// The hook now returns a singleton instance\nconst useTenderAPI = ()=>{\n    // Always call all hooks unconditionally at the top level\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const useMockDataFromEnv = process.env.NEXT_PUBLIC_USE_MOCK_DATA === 'true';\n    const [useMockData, setUseMockData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(useMockDataFromEnv);\n    // Initialize refs\n    const instanceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const isInitializedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Log initial state only once\n    const logInitialState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[logInitialState]\": ()=>{\n            if (!isInitializedRef.current) {\n                console.log(`TenderAPI hook initialized with mock data ${useMockData ? 'enabled' : 'disabled'} (env: ${useMockDataFromEnv})`);\n                isInitializedRef.current = true;\n            }\n        }\n    }[\"useTenderAPI.useCallback[logInitialState]\"], [\n        useMockData,\n        useMockDataFromEnv\n    ]);\n    // Call this immediately\n    logInitialState();\n    // Define the handleRequest function\n    const handleRequest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[handleRequest]\": async (endpoint, options = {}, retry = 0)=>{\n            setLoading(true);\n            setError(null);\n            // Early return for mock data if enabled\n            if (useMockData) {\n                console.log(`Using mock data for ${endpoint} (mock mode enabled)`);\n                if (endpoint === '/tenders') {\n                    setLoading(false);\n                    return {\n                        data: getMockTenders(),\n                        error: null,\n                        loading: false\n                    };\n                }\n                if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    console.log(`Getting mock bids for tender: ${tenderId}`);\n                    setLoading(false);\n                    return {\n                        data: getMockBids(tenderId),\n                        error: null,\n                        loading: false\n                    };\n                }\n                // For specific tender details\n                if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    const allTenders = getMockTenders();\n                    const tender = allTenders.find({\n                        \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                    }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                    if (tender) {\n                        setLoading(false);\n                        return {\n                            data: tender,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                }\n            }\n            try {\n                console.log(`Making API request to ${endpoint}:`, options);\n                // Add default headers for JSON requests\n                const fetchOptions = {\n                    ...options,\n                    headers: {\n                        ...options.headers,\n                        'Content-Type': 'application/json'\n                    }\n                };\n                // Fetch with timeout\n                const response = await fetchWithTimeout(`${API_BASE_URL}${endpoint}`, fetchOptions, API_TIMEOUT);\n                // Check if response is OK\n                if (!response.ok) {\n                    // Handle 404 errors differently - they're expected sometimes\n                    if (response.status === 404) {\n                        console.log(`Resource not found at ${endpoint}. This might be expected.`);\n                        // Return empty data rather than treating as error for 404\n                        return {\n                            data: null,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // Handle 500 errors by using mock data\n                    if (response.status === 500) {\n                        console.log(`Server error (500) for ${endpoint}. Falling back to mock data.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (500 error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    // General error fallback - use mock data in development or if mock mode is enabled\n                    if (true) {\n                        console.log(`HTTP Error (${response.status}) for ${endpoint}. Using mock data as fallback.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (HTTP error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    throw new Error(`API error: ${response.status} ${response.statusText}`);\n                }\n                // Check content type to ensure we're getting JSON\n                const contentType = response.headers.get('content-type');\n                if (!contentType || !contentType.includes('application/json')) {\n                    console.error('API returned non-JSON content type:', contentType);\n                    try {\n                        // Try to see what was returned\n                        const text = await response.text();\n                        console.log('API response text:', text.substring(0, 200) + '...');\n                        // Show more detailed error in development\n                        if (true) {\n                            console.log('Development environment detected, showing detailed error');\n                            // Check if it's an HTML response (typically 404/500 error pages)\n                            if (text.includes('<!DOCTYPE html>')) {\n                                console.error('API returned an HTML page instead of JSON data');\n                                // In development, we'll use mock data instead\n                                console.log('Switching to mock data due to HTML response');\n                                if (!useMockData) {\n                                    setUseMockData(true);\n                                }\n                                // Return mock data\n                                if (endpoint.includes('/tenders') && !endpoint.includes('/bids')) {\n                                    // For tender endpoints, return mock tenders\n                                    return {\n                                        data: getMockTenders(),\n                                        error: null,\n                                        loading: false\n                                    };\n                                } else if (endpoint.includes('/bids')) {\n                                    // For bid endpoints, return mock bids\n                                    return {\n                                        data: getMockBids(endpoint.split('/')[2]),\n                                        error: null,\n                                        loading: false\n                                    };\n                                }\n                            }\n                        }\n                        throw new Error('Response is not JSON. API returned: ' + contentType);\n                    } catch (textError) {\n                        throw new Error(`Failed to parse response: ${textError}`);\n                    }\n                }\n                // Parse JSON response\n                const data = await response.json();\n                // API response with proper structure\n                console.log(`API response from ${endpoint}:`, {\n                    status: response.status,\n                    ok: response.ok,\n                    data: data\n                });\n                return {\n                    data,\n                    error: null,\n                    loading: false\n                };\n            } catch (error) {\n                let errorMessage = error.message || 'Unknown error';\n                // Network errors (like CORS, connection refused, etc.)\n                if (error instanceof TypeError && error.message.includes('fetch')) {\n                    errorMessage = `Network error: ${error.message}`;\n                    console.error(`Network error for ${endpoint}:`, error);\n                } else if (error instanceof RequestTimeoutError) {\n                    errorMessage = `Request timed out after ${API_TIMEOUT}ms`;\n                    console.error(`Timeout for ${endpoint}:`, error);\n                } else {\n                    console.error(`API error for ${endpoint}:`, error);\n                }\n                // Retry logic for certain errors (not 4xx client errors)\n                if (retry < MAX_RETRIES && !errorMessage.includes('API error: 4')) {\n                    console.log(`Retrying request to ${endpoint} (attempt ${retry + 1}/${MAX_RETRIES})`);\n                    return handleRequest(endpoint, options, retry + 1);\n                }\n                // Return mock data in development mode if API fails\n                if (true) {\n                    console.log(`Using mock data for ${endpoint} due to API error`);\n                    // Toggle mock data mode if not already on\n                    if (!useMockData) {\n                        setUseMockData(true);\n                    }\n                    // Return appropriate mock data based on the endpoint\n                    if (endpoint === '/tenders') {\n                        setLoading(false);\n                        return {\n                            data: getMockTenders(),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        console.log(`Getting mock bids for tender (error case): ${tenderId}`);\n                        setLoading(false);\n                        return {\n                            data: getMockBids(tenderId),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // For specific tender details\n                    if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        const allTenders = getMockTenders();\n                        const tender = allTenders.find({\n                            \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                        }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                        if (tender) {\n                            setLoading(false);\n                            return {\n                                data: tender,\n                                error: null,\n                                loading: false\n                            };\n                        }\n                    }\n                }\n                setError(errorMessage);\n                return {\n                    data: null,\n                    error: errorMessage,\n                    loading: false\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useTenderAPI.useCallback[handleRequest]\"], [\n        API_BASE_URL,\n        useMockData\n    ]);\n    // Define other API methods with useCallback\n    const getTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getTenders]\": async ()=>{\n            return handleRequest('/tenders');\n        }\n    }[\"useTenderAPI.useCallback[getTenders]\"], [\n        handleRequest\n    ]);\n    const getTenderById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getTenderById]\": async (id)=>{\n            // Check cache\n            const now = Date.now();\n            const cacheKey = `/tenders/${id}`;\n            const cachedData = cache.get(cacheKey);\n            // If data exists in cache and isn't stale, return it\n            if (cachedData && now - cachedData.timestamp < CACHE_TTL) {\n                console.log('Using cached data for tender:', id);\n                return {\n                    data: cachedData.data,\n                    error: null,\n                    loading: false\n                };\n            }\n            const result = await handleRequest(`/tenders/${id}`);\n            // Save successful result to cache\n            if (result.data) {\n                cache.set(cacheKey, {\n                    data: result.data,\n                    timestamp: now\n                });\n            }\n            return result;\n        }\n    }[\"useTenderAPI.useCallback[getTenderById]\"], [\n        handleRequest\n    ]);\n    const createTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[createTender]\": async (tenderData)=>{\n            return handleRequest('/tenders', {\n                method: 'POST',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[createTender]\"], [\n        handleRequest\n    ]);\n    const updateTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[updateTender]\": async (id, tenderData)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'PUT',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[updateTender]\"], [\n        handleRequest\n    ]);\n    const deleteTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[deleteTender]\": async (id)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"useTenderAPI.useCallback[deleteTender]\"], [\n        handleRequest\n    ]);\n    const getBids = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getBids]\": async (tenderId)=>{\n            console.log(`Getting bids for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return handleRequest(`/tenders/${tenderId}/bids`);\n        }\n    }[\"useTenderAPI.useCallback[getBids]\"], [\n        handleRequest,\n        useMockData\n    ]);\n    const createBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[createBid]\": async (bidData)=>{\n            const { tenderId, ...restData } = bidData;\n            console.log(`Creating bid for tender ${tenderId}:`, restData);\n            return handleRequest(`/tenders/${tenderId}/bids`, {\n                method: 'POST',\n                body: JSON.stringify(restData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[createBid]\"], [\n        handleRequest\n    ]);\n    const updateBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[updateBid]\": async (tenderId, bidId, bidData)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'PUT',\n                body: JSON.stringify(bidData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[updateBid]\"], [\n        handleRequest\n    ]);\n    const deleteBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[deleteBid]\": async (tenderId, bidId)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"useTenderAPI.useCallback[deleteBid]\"], [\n        handleRequest\n    ]);\n    const loginWithWallet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[loginWithWallet]\": async (walletAddress)=>{\n            return handleRequest('/users/login', {\n                method: 'POST',\n                body: JSON.stringify({\n                    walletAddress\n                })\n            });\n        }\n    }[\"useTenderAPI.useCallback[loginWithWallet]\"], [\n        handleRequest\n    ]);\n    const getCurrentUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getCurrentUser]\": async ()=>{\n            return handleRequest('/users/me');\n        }\n    }[\"useTenderAPI.useCallback[getCurrentUser]\"], [\n        handleRequest\n    ]);\n    // Add getBidsForTender function which is an alias for getBids\n    const getBidsForTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getBidsForTender]\": async (tenderId)=>{\n            console.log(`getBidsForTender called for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return getBids(tenderId);\n        }\n    }[\"useTenderAPI.useCallback[getBidsForTender]\"], [\n        getBids,\n        useMockData\n    ]);\n    // For testing and debugging\n    const toggleMockData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[toggleMockData]\": ()=>{\n            setUseMockData({\n                \"useTenderAPI.useCallback[toggleMockData]\": (prev)=>{\n                    console.log(`Toggling mock data mode from ${prev} to ${!prev}`);\n                    // Reset error state when switching modes\n                    setError(null);\n                    return !prev;\n                }\n            }[\"useTenderAPI.useCallback[toggleMockData]\"]);\n        }\n    }[\"useTenderAPI.useCallback[toggleMockData]\"], []);\n    // Create the API instance if it doesn't already exist\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useTenderAPI.useMemo\": ()=>{\n            // If we already have an instance in this component, use it\n            if (instanceRef.current) {\n                return;\n            }\n            // If we have a global singleton, use that\n            if (SINGLETON_INSTANCE) {\n                instanceRef.current = SINGLETON_INSTANCE;\n                console.log('Using existing TenderAPI singleton instance');\n                return;\n            }\n            // Create a new instance with all the methods and state\n            const instance = {\n                loading,\n                error,\n                useMockData,\n                toggleMockData,\n                getTenders,\n                getTenderById,\n                createTender,\n                updateTender,\n                deleteTender,\n                getBids,\n                getBidsForTender,\n                createBid,\n                updateBid,\n                deleteBid,\n                loginWithWallet,\n                getCurrentUser\n            };\n            // Store it locally and globally\n            instanceRef.current = instance;\n            SINGLETON_INSTANCE = instance;\n            console.log('Created new TenderAPI singleton instance');\n        }\n    }[\"useTenderAPI.useMemo\"], [\n        loading,\n        error,\n        useMockData,\n        toggleMockData,\n        getTenders,\n        getTenderById,\n        createTender,\n        updateTender,\n        deleteTender,\n        getBids,\n        getBidsForTender,\n        createBid,\n        updateBid,\n        deleteBid,\n        loginWithWallet,\n        getCurrentUser\n    ]);\n    // Always return the same instance once created\n    return instanceRef.current;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useTenderAPI);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVM7b0JBQ1QsT0FBTyxDQUFDd0Q7Z0JBQ1Y7O1FBQ0Y7bURBQUcsRUFBRTtJQUVMLHNEQUFzRDtJQUN0RDFILDhDQUFPQTtnQ0FBQztZQUNOLDJEQUEyRDtZQUMzRCxJQUFJNkgsWUFBWUcsT0FBTyxFQUFFO2dCQUN2QjtZQUNGO1lBRUEsMENBQTBDO1lBQzFDLElBQUkvSCxvQkFBb0I7Z0JBQ3RCNEgsWUFBWUcsT0FBTyxHQUFHL0g7Z0JBQ3RCc0UsUUFBUUMsR0FBRyxDQUFDO2dCQUNaO1lBQ0Y7WUFFQSx1REFBdUQ7WUFDdkQsTUFBTXlELFdBQThCO2dCQUNsQ2xFO2dCQUNBRTtnQkFDQUk7Z0JBQ0FvRDtnQkFDQXhCO2dCQUNBQztnQkFDQU07Z0JBQ0FNO2dCQUNBQztnQkFDQUM7Z0JBQ0FXO2dCQUNBVjtnQkFDQUc7Z0JBQ0FFO2dCQUNBQztnQkFDQUM7WUFDRjtZQUVBLGdDQUFnQztZQUNoQ0ssWUFBWUcsT0FBTyxHQUFHQztZQUN0QmhJLHFCQUFxQmdJO1lBQ3JCMUQsUUFBUUMsR0FBRyxDQUFDO1FBQ2Q7K0JBQUc7UUFDRFQ7UUFBU0U7UUFBT0k7UUFBYW9EO1FBQzdCeEI7UUFBWUM7UUFBZU07UUFBY007UUFBY0M7UUFDdkRDO1FBQVNXO1FBQWtCVjtRQUFXRztRQUFXRTtRQUNqREM7UUFBaUJDO0tBQ2xCO0lBRUQsK0NBQStDO0lBQy9DLE9BQU9LLFlBQVlHLE9BQU87QUFDNUI7QUFFQSxpRUFBZUosWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZGl5YXJib2xlZ2Vub3YvdGVuZGVyL2Zyb250ZW5kL2hvb2tzL3VzZVRlbmRlckFQSS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIEFwaVJlc3BvbnNlPFQ+IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBsb2FkaW5nOiBib29sZWFuO1xufVxuXG4vLyBGb3J3YXJkIGRlY2xhcmUgdGhlIFRlbmRlckFQSSB0eXBlIGZvciB1c2UgaW4gdGhlIHNpbmdsZXRvblxuaW50ZXJmYWNlIFRlbmRlckFQSUluc3RhbmNlIHtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHVzZU1vY2tEYXRhOiBib29sZWFuO1xuICB0b2dnbGVNb2NrRGF0YTogKCkgPT4gdm9pZDtcbiAgZ2V0VGVuZGVyczogKCkgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXJbXT4+O1xuICBnZXRUZW5kZXJCeUlkOiAoaWQ6IHN0cmluZykgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PjtcbiAgY3JlYXRlVGVuZGVyOiAodGVuZGVyRGF0YTogQ3JlYXRlVGVuZGVyRGF0YSkgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PjtcbiAgdXBkYXRlVGVuZGVyOiAoaWQ6IHN0cmluZywgdGVuZGVyRGF0YTogUGFydGlhbDxUZW5kZXI+KSA9PiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+O1xuICBkZWxldGVUZW5kZXI6IChpZDogc3RyaW5nKSA9PiBQcm9taXNlPEFwaVJlc3BvbnNlPHZvaWQ+PjtcbiAgZ2V0QmlkczogKHRlbmRlcklkOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PjtcbiAgZ2V0Qmlkc0ZvclRlbmRlcjogKHRlbmRlcklkOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PjtcbiAgY3JlYXRlQmlkOiAoYmlkRGF0YTogeyB0ZW5kZXJJZDogc3RyaW5nOyBiaWRkZXI/OiBzdHJpbmc7IGFtb3VudDogbnVtYmVyOyBwcm9wb3NhbDogc3RyaW5nOyB9KSA9PiBQcm9taXNlPEFwaVJlc3BvbnNlPEJpZD4+O1xuICB1cGRhdGVCaWQ6ICh0ZW5kZXJJZDogc3RyaW5nLCBiaWRJZDogc3RyaW5nLCBiaWREYXRhOiBQYXJ0aWFsPEJpZD4pID0+IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkPj47XG4gIGRlbGV0ZUJpZDogKHRlbmRlcklkOiBzdHJpbmcsIGJpZElkOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+O1xuICBsb2dpbldpdGhXYWxsZXQ6ICh3YWxsZXRBZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+O1xuICBnZXRDdXJyZW50VXNlcjogKCkgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxVc2VyPj47XG59XG5cbi8vIFRoZSBzaGFyZWQgc2luZ2xldG9uIGluc3RhbmNlXG5sZXQgU0lOR0xFVE9OX0lOU1RBTkNFOiBUZW5kZXJBUElJbnN0YW5jZSB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmcgfCBudWxsO1xuICBlbWFpbDogc3RyaW5nIHwgbnVsbDtcbiAgd2FsbGV0QWRkcmVzczogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZW5kZXIge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBidWRnZXQ6IG51bWJlcjtcbiAgZGVhZGxpbmU6IHN0cmluZztcbiAgc3RhdHVzOiAnT1BFTicgfCAnQ0xPU0VEJyB8ICdBV0FSREVEJyB8ICdDT01QTEVURUQnIHwgJ0NBTkNFTExFRCc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgY3JlYXRvcklkOiBzdHJpbmc7XG4gIGNyZWF0b3I/OiBVc2VyO1xuICBjYXRlZ29yaWVzPzogQ2F0ZWdvcnlbXTtcbiAgYmlkcz86IEJpZFtdO1xuICBkb2N1bWVudHM/OiBEb2N1bWVudFtdO1xuICBfY291bnQ/OiB7XG4gICAgYmlkczogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpZCB7XG4gIGlkOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBwcm9wb3NhbDogc3RyaW5nO1xuICBzdGF0dXM6ICdQRU5ESU5HJyB8ICdBQ0NFUFRFRCcgfCAnUkVKRUNURUQnIHwgJ1dJVEhEUkFXTic7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgdGVuZGVySWQ6IHN0cmluZztcbiAgYmlkZGVySWQ6IHN0cmluZztcbiAgdGVuZGVyPzogVGVuZGVyO1xuICBiaWRkZXI/OiBVc2VyO1xuICBkb2N1bWVudHM/OiBEb2N1bWVudFtdO1xuICB0cmFuc2FjdGlvbkhhc2g/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnQge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIHNpemU6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHRlbmRlcklkPzogc3RyaW5nO1xuICBiaWRJZD86IHN0cmluZztcbiAgdGVuZGVyPzogVGVuZGVyO1xuICBiaWQ/OiBCaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcnkge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdGVuZGVycz86IFRlbmRlcltdO1xufVxuXG5pbnRlcmZhY2UgQ3JlYXRlVGVuZGVyRGF0YSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGJ1ZGdldDogbnVtYmVyO1xuICBkZWFkbGluZTogc3RyaW5nO1xuICB3YWxsZXRBZGRyZXNzOiBzdHJpbmc7XG4gIGNhdGVnb3JpZXM/OiBzdHJpbmdbXTtcbn1cblxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaSc7XG5cbi8vIEN1c3RvbSBlcnJvciBjbGFzcyBmb3IgcmVxdWVzdCB0aW1lb3V0c1xuY2xhc3MgUmVxdWVzdFRpbWVvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ1JlcXVlc3RUaW1lb3V0RXJyb3InO1xuICB9XG59XG5cbi8vIENvbnN0YW50cyBmb3IgQVBJIHJlcXVlc3RzXG5jb25zdCBBUElfVElNRU9VVCA9IDMwMDAwOyAvLyAzMCBzZWNvbmRzXG5jb25zdCBNQVhfUkVUUklFUyA9IDI7XG5cbi8vINCa0LXRiNC40YDQvtCy0LDQvdC40LUg0YDQtdC30YPQu9GM0YLQsNGC0L7QsiDQt9Cw0L/RgNC+0YHQvtCyXG5jb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IGRhdGE6IGFueSwgdGltZXN0YW1wOiBudW1iZXIgfT4oKTtcbmNvbnN0IENBQ0hFX1RUTCA9IDEwMDAgKiA2MDsgLy8gMSDQvNC40L3Rg9GC0LBcblxuLy8g0JzQvtC6LdC00LDQvdC90YvQtSDQtNC70Y8g0YHQu9GD0YfQsNC10LIsINC60L7Qs9C00LAgQVBJINC90LXQtNC+0YHRgtGD0L/QtdC9XG5jb25zdCBNT0NLX0RBVEEgPSB7XG4gIHRlbmRlcnM6IFtcbiAgICB7XG4gICAgICBpZDogJ21vY2stMScsXG4gICAgICB0aXRsZTogJ9CU0LXQvNC+INGC0LXQvdC00LXRgCAjMSAtIEFQSSDQvdC10LTQvtGB0YLRg9C/0LXQvScsXG4gICAgICBkZXNjcmlwdGlvbjogJ9Cg0LDRgdGB0YLQvtGP0L3QuNC1OiAxMDAwINC60LwsINCS0LXRgTogNTAwINC60LMsINCi0LjQvyDQs9GA0YPQt9CwOiBwZXJpc2hhYmxlLCDQodGA0L7QuiDQtNC+0YHRgtCw0LLQutC4OiAzINC00L3RjycsXG4gICAgICBidWRnZXQ6IDE1MDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgc3RhdHVzOiAnT1BFTicgYXMgY29uc3QsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAyICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDIgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgY3JlYXRvcklkOiAnMScsXG4gICAgICBjcmVhdG9yOiB7XG4gICAgICAgIGlkOiAnMScsXG4gICAgICAgIG5hbWU6ICfQlNC10LzQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70YwnLFxuICAgICAgICBlbWFpbDogJ2RlbW9AZXhhbXBsZS5jb20nLFxuICAgICAgICB3YWxsZXRBZGRyZXNzOiAnMHgxMjM0NTY3ODlhYmNkZWYnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICAgIH0sXG4gICAgICBjYXRlZ29yaWVzOiBbeyBpZDogJzEnLCBuYW1lOiAncGVyaXNoYWJsZScsIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH1dLFxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdtb2NrLTInLFxuICAgICAgdGl0bGU6ICfQlNC10LzQviDRgtC10L3QtNC10YAgIzIgLSBBUEkg0L3QtdC00L7RgdGC0YPQv9C10L0nLFxuICAgICAgZGVzY3JpcHRpb246ICfQoNCw0YHRgdGC0L7Rj9C90LjQtTogNTAwINC60LwsINCS0LXRgTogMTAwMCDQutCzLCDQotC40L8g0LPRgNGD0LfQsDogZ2VuZXJhbCwg0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuDogNSDQtNC90LXQuScsXG4gICAgICBidWRnZXQ6IDIwMDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDEwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ09QRU4nIGFzIGNvbnN0LFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0b3JJZDogJzInLFxuICAgICAgY3JlYXRvcjoge1xuICAgICAgICBpZDogJzInLFxuICAgICAgICBuYW1lOiAn0JTQtdC80L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMIDInLFxuICAgICAgICBlbWFpbDogJ2RlbW8yQGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4OTg3NjU0MzIxZmVkY2JhJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXG4gICAgICB9LFxuICAgICAgY2F0ZWdvcmllczogW3sgaWQ6ICcyJywgbmFtZTogJ2dlbmVyYWwnLCBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9XSxcbiAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDQ4ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICB9XG4gIF0sXG4gIGJpZHM6IFtcbiAgICB7XG4gICAgICBpZDogJ21vY2stYmlkLTEnLFxuICAgICAgYW1vdW50OiAxNDAwLFxuICAgICAgcHJvcG9zYWw6ICfQlNC10LzQviDQt9Cw0Y/QstC60LAg0L3QsCDRgtC10L3QtNC10YAgIzEnLFxuICAgICAgc3RhdHVzOiAnUEVORElORycgYXMgY29uc3QsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgdGVuZGVySWQ6ICdtb2NrLTEnLFxuICAgICAgYmlkZGVySWQ6ICczJyxcbiAgICAgIGJpZGRlcjoge1xuICAgICAgICBpZDogJzMnLFxuICAgICAgICBuYW1lOiAn0JTQtdC80L4g0YPRh9Cw0YHRgtC90LjQuicsXG4gICAgICAgIGVtYWlsOiAnYmlkZGVyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4YWJjZGVmMTIzNDU2Nzg5JyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgfVxuICBdXG59O1xuXG4vLyDQmNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LvQuCDQvNC+0Lot0LTQsNC90L3Ri9C1INC/0YDQuCDQvtGI0LjQsdC60LDRhSBBUElcbmNvbnN0IFVTRV9NT0NLX0RBVEFfT05fRVJST1IgPSB0cnVlO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgZmV0Y2ggcmVxdWVzdCB3aXRoIHRpbWVvdXRcbmNvbnN0IGZldGNoV2l0aFRpbWVvdXQgPSBhc3luYyAodXJsOiBzdHJpbmcsIGZldGNoT3B0aW9uczogUmVxdWVzdEluaXQsIHRpbWVvdXRNczogbnVtYmVyID0gMzAwMDApOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuICBcbiAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgb24gdGltZW91dFxuICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+IHtcbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCdSZXF1ZXN0IHRpbWVvdXQnKTtcbiAgICAgICAgcmVqZWN0KG5ldyBSZXF1ZXN0VGltZW91dEVycm9yKGBSZXF1ZXN0IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXRNc31tc2ApKTtcbiAgICAgIH0sIHRpbWVvdXRNcyk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gV3JhcHBpbmcgdGhlIGZldGNoIGluIGEgdHJ5L2NhdGNoIHRvIGhhbmRsZSBuZXR3b3JrIGVycm9yc1xuICAgIGNvbnN0IGZldGNoUHJvbWlzZSA9IGZldGNoKHVybCwge1xuICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgICAgc2lnbmFsXG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmFjZSB0aGUgZmV0Y2ggYWdhaW5zdCB0aGUgdGltZW91dFxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJhY2UoW2ZldGNoUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgfSBmaW5hbGx5IHtcbiAgICAvLyBBbHdheXMgY2xlYW4gdXAgdGhlIHRpbWVvdXQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICBpZiAodGltZW91dElkKSBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBtb2NrIHRlbmRlcnMgZm9yIGRldmVsb3BtZW50IGFuZCB0ZXN0aW5nXG5jb25zdCBnZXRNb2NrVGVuZGVycyA9ICgpOiBUZW5kZXJbXSA9PiB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6ICdtb2NrLXRlbmRlci0xJyxcbiAgICAgIHRpdGxlOiAnVHJhbnNwb3J0IFJlZnJpZ2VyYXRlZCBHb29kcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ05lZWQgdGVtcGVyYXR1cmUtY29udHJvbGxlZCB0cmFuc3BvcnRhdGlvbiBmb3IgcGVyaXNoYWJsZSBpdGVtcyBmcm9tIHdhcmVob3VzZSB0byBkaXN0cmlidXRpb24gY2VudGVycy4nLFxuICAgICAgYnVkZ2V0OiAzMDAwLFxuICAgICAgZGVhZGxpbmU6IG5ldyBEYXRlKERhdGUubm93KCkgKyA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ09QRU4nLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0b3JJZDogJ21vY2stdXNlci0xJyxcbiAgICAgIGNyZWF0b3I6IHtcbiAgICAgICAgaWQ6ICdtb2NrLXVzZXItMScsXG4gICAgICAgIG5hbWU6ICdTdXBwbHkgQ2hhaW4gQ29ycCcsXG4gICAgICAgIGVtYWlsOiAnc3VwcGx5QGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4ZjM5RmQ2ZTUxYWFkODhGNkY0Y2U2YUI4ODI3Mjc5Y2ZmRmI5MjI2NicsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIGNhdGVnb3JpZXM6IFtcbiAgICAgICAgeyBpZDogJ2NhdC0xJywgbmFtZTogJ1RyYW5zcG9ydGF0aW9uJywgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gOTAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpIH0sXG4gICAgICAgIHsgaWQ6ICdjYXQtMicsIG5hbWU6ICdDb2xkIENoYWluJywgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gOTAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpIH1cbiAgICAgIF0sXG4gICAgICBiaWRzOiBbXVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdtb2NrLXRlbmRlci0yJyxcbiAgICAgIHRpdGxlOiAnTGFzdCBNaWxlIERlbGl2ZXJ5IFBhcnRuZXJzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2Vla2luZyBsb2NhbCBkZWxpdmVyeSBwYXJ0bmVycyBmb3IgbGFzdC1taWxlIGRlbGl2ZXJ5IGluIHVyYmFuIGFyZWFzLicsXG4gICAgICBidWRnZXQ6IDUwMDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDE0ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ09QRU4nLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0b3JJZDogJ21vY2stdXNlci0yJyxcbiAgICAgIGNyZWF0b3I6IHtcbiAgICAgICAgaWQ6ICdtb2NrLXVzZXItMicsXG4gICAgICAgIG5hbWU6ICdFLUNvbW1lcmNlIFNvbHV0aW9ucycsXG4gICAgICAgIGVtYWlsOiAnZWNvbW1lcmNlQGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4NzA5OTc5NzBDNTE4MTJkYzNBMDEwQzdkMDFiNTBlMGQxN2RjNzlDOCcsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDYwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIGNhdGVnb3JpZXM6IFtcbiAgICAgICAgeyBpZDogJ2NhdC0xJywgbmFtZTogJ1RyYW5zcG9ydGF0aW9uJywgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gOTAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpIH0sXG4gICAgICAgIHsgaWQ6ICdjYXQtMycsIG5hbWU6ICdVcmJhbiBEZWxpdmVyeScsIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDkwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSB9XG4gICAgICBdLFxuICAgICAgYmlkczogW11cbiAgICB9XG4gIF07XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IG1vY2sgYmlkcyBmb3IgZGV2ZWxvcG1lbnQgYW5kIHRlc3RpbmdcbmNvbnN0IGdldE1vY2tCaWRzID0gKHRlbmRlcklkOiBzdHJpbmcpOiBCaWRbXSA9PiB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6IGBtb2NrLWJpZC0xLSR7dGVuZGVySWR9YCxcbiAgICAgIGFtb3VudDogMjgwMCxcbiAgICAgIHByb3Bvc2FsOiBcIldlIG9mZmVyIHNhbWUtZGF5IHRlbXBlcmF0dXJlLWNvbnRyb2xsZWQgZGVsaXZlcnkgd2l0aCByZWFsLXRpbWUgdHJhY2tpbmcuXCIsXG4gICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDIgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMiAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB0ZW5kZXJJZDogdGVuZGVySWQsXG4gICAgICBiaWRkZXJJZDogJ21vY2stYmlkZGVyLTEnLFxuICAgICAgYmlkZGVyOiB7XG4gICAgICAgIGlkOiAnbW9jay1iaWRkZXItMScsXG4gICAgICAgIG5hbWU6ICdDb2xkIFRyYW5zcG9ydCBJbmMnLFxuICAgICAgICBlbWFpbDogJ3RyYW5zcG9ydEBleGFtcGxlLmNvbScsXG4gICAgICAgIHdhbGxldEFkZHJlc3M6ICcweDNDNDRDZERkQjZhOTAwZmEyYjU4NWRkMjk5ZTAzZDEyRkE0MjkzQkMnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA0NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBgbW9jay1iaWQtMi0ke3RlbmRlcklkfWAsXG4gICAgICBhbW91bnQ6IDMxMDAsXG4gICAgICBwcm9wb3NhbDogXCJPdXIgZmxlZXQgb2YgcmVmcmlnZXJhdGVkIHRydWNrcyBlbnN1cmVzIHlvdXIgZ29vZHMgYXJyaXZlIGluIHBlcmZlY3QgY29uZGl0aW9uLlwiLFxuICAgICAgc3RhdHVzOiAnUEVORElORycsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgdGVuZGVySWQ6IHRlbmRlcklkLFxuICAgICAgYmlkZGVySWQ6ICdtb2NrLWJpZGRlci0yJyxcbiAgICAgIGJpZGRlcjoge1xuICAgICAgICBpZDogJ21vY2stYmlkZGVyLTInLFxuICAgICAgICBuYW1lOiAnUHJlbWl1bSBMb2dpc3RpY3MnLFxuICAgICAgICBlbWFpbDogJ2xvZ2lzdGljc0BleGFtcGxlLmNvbScsXG4gICAgICAgIHdhbGxldEFkZHJlc3M6ICcweDkwRjc5YmY2RUIyYzRmODcwMzY1RTc4NTk4MkUxZjEwMUU5M2I5MDYnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzNSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICAgIH1cbiAgICB9XG4gIF07XG59O1xuXG4vLyBNYWluIEFQSSBpbXBsZW1lbnRhdGlvbiBhcyBhIGZhY3RvcnkgZnVuY3Rpb25cbmNvbnN0IGNyZWF0ZVRlbmRlckFQSSA9ICgpOiBUZW5kZXJBUElJbnN0YW5jZSA9PiB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdXNlTW9ja0RhdGFGcm9tRW52ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX01PQ0tfREFUQSA9PT0gJ3RydWUnO1xuICBjb25zdCBbdXNlTW9ja0RhdGEsIHNldFVzZU1vY2tEYXRhXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHVzZU1vY2tEYXRhRnJvbUVudik7XG4gIFxuICAvLyBMb2cgaW5pdGlhbCBzdGF0ZVxuICBjb25zb2xlLmxvZyhgVGVuZGVyQVBJIGluc3RhbmNlIGNyZWF0ZWQgd2l0aCBtb2NrIGRhdGEgJHt1c2VNb2NrRGF0YSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IChlbnY6ICR7dXNlTW9ja0RhdGFGcm9tRW52fSlgKTtcblxuICBjb25zdCBoYW5kbGVSZXF1ZXN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgPFQ+KFxuICAgIGVuZHBvaW50OiBzdHJpbmcsXG4gICAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fSxcbiAgICByZXRyeTogbnVtYmVyID0gMFxuICApOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICAvLyBFYXJseSByZXR1cm4gZm9yIG1vY2sgZGF0YSBpZiBlbmFibGVkXG4gICAgaWYgKHVzZU1vY2tEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhgVXNpbmcgbW9jayBkYXRhIGZvciAke2VuZHBvaW50fSAobW9jayBtb2RlIGVuYWJsZWQpYCk7XG4gICAgICBcbiAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja1RlbmRlcnMoKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgfSBcbiAgICAgIFxuICAgICAgaWYgKGVuZHBvaW50LmluY2x1ZGVzKCcvdGVuZGVycy8nKSAmJiBlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgIGNvbnNvbGUubG9nKGBHZXR0aW5nIG1vY2sgYmlkcyBmb3IgdGVuZGVyOiAke3RlbmRlcklkfWApO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgaWYgKGVuZHBvaW50LnN0YXJ0c1dpdGgoJy90ZW5kZXJzLycpICYmICFlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICBjb25zdCB0ZW5kZXIgPSBhbGxUZW5kZXJzLmZpbmQodCA9PiB0LmlkID09PSB0ZW5kZXJJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYE1ha2luZyBBUEkgcmVxdWVzdCB0byAke2VuZHBvaW50fTpgLCBvcHRpb25zKTtcblxuICAgICAgLy8gQWRkIGRlZmF1bHQgaGVhZGVycyBmb3IgSlNPTiByZXF1ZXN0c1xuICAgICAgY29uc3QgZmV0Y2hPcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gRmV0Y2ggd2l0aCB0aW1lb3V0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aFRpbWVvdXQoXG4gICAgICAgIGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsXG4gICAgICAgIGZldGNoT3B0aW9ucyxcbiAgICAgICAgQVBJX1RJTUVPVVRcbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGlzIE9LXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIC8vIEhhbmRsZSA0MDQgZXJyb3JzIGRpZmZlcmVudGx5IC0gdGhleSdyZSBleHBlY3RlZCBzb21ldGltZXNcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFJlc291cmNlIG5vdCBmb3VuZCBhdCAke2VuZHBvaW50fS4gVGhpcyBtaWdodCBiZSBleHBlY3RlZC5gKTtcbiAgICAgICAgICAvLyBSZXR1cm4gZW1wdHkgZGF0YSByYXRoZXIgdGhhbiB0cmVhdGluZyBhcyBlcnJvciBmb3IgNDA0XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSA1MDAgZXJyb3JzIGJ5IHVzaW5nIG1vY2sgZGF0YVxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA1MDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2VydmVyIGVycm9yICg1MDApIGZvciAke2VuZHBvaW50fS4gRmFsbGluZyBiYWNrIHRvIG1vY2sgZGF0YS5gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTd2l0Y2ggdG8gbW9jayBkYXRhIG1vZGUgaWYgbm90IGFscmVhZHkgZW5hYmxlZFxuICAgICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICAgIHNldFVzZU1vY2tEYXRhKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXR1cm4gYXBwcm9wcmlhdGUgbW9jayBkYXRhIGJhc2VkIG9uIHRoZSBlbmRwb2ludFxuICAgICAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrVGVuZGVycygpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfSBcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzLycpICYmIGVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlciAoNTAwIGVycm9yKTogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB0ZW5kZXIgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyYWwgZXJyb3IgZmFsbGJhY2sgLSB1c2UgbW9jayBkYXRhIGluIGRldmVsb3BtZW50IG9yIGlmIG1vY2sgbW9kZSBpcyBlbmFibGVkXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyB8fCB1c2VNb2NrRGF0YSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBIVFRQIEVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pIGZvciAke2VuZHBvaW50fS4gVXNpbmcgbW9jayBkYXRhIGFzIGZhbGxiYWNrLmApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN3aXRjaCB0byBtb2NrIGRhdGEgbW9kZSBpZiBub3QgYWxyZWFkeSBlbmFibGVkXG4gICAgICAgICAgaWYgKCF1c2VNb2NrRGF0YSkge1xuICAgICAgICAgICAgc2V0VXNlTW9ja0RhdGEodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJldHVybiBhcHByb3ByaWF0ZSBtb2NrIGRhdGEgYmFzZWQgb24gdGhlIGVuZHBvaW50XG4gICAgICAgICAgaWYgKGVuZHBvaW50ID09PSAnL3RlbmRlcnMnKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICB9IFxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL3RlbmRlcnMvJykgJiYgZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBHZXR0aW5nIG1vY2sgYmlkcyBmb3IgdGVuZGVyIChIVFRQIGVycm9yKTogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB0ZW5kZXIgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBjb250ZW50IHR5cGUgdG8gZW5zdXJlIHdlJ3JlIGdldHRpbmcgSlNPTlxuICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICBpZiAoIWNvbnRlbnRUeXBlIHx8ICFjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSByZXR1cm5lZCBub24tSlNPTiBjb250ZW50IHR5cGU6JywgY29udGVudFR5cGUpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUcnkgdG8gc2VlIHdoYXQgd2FzIHJldHVybmVkXG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQVBJIHJlc3BvbnNlIHRleHQ6JywgdGV4dC5zdWJzdHJpbmcoMCwgMjAwKSArICcuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaG93IG1vcmUgZGV0YWlsZWQgZXJyb3IgaW4gZGV2ZWxvcG1lbnRcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZXZlbG9wbWVudCBlbnZpcm9ubWVudCBkZXRlY3RlZCwgc2hvd2luZyBkZXRhaWxlZCBlcnJvcicpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGFuIEhUTUwgcmVzcG9uc2UgKHR5cGljYWxseSA0MDQvNTAwIGVycm9yIHBhZ2VzKVxuICAgICAgICAgICAgaWYgKHRleHQuaW5jbHVkZXMoJzwhRE9DVFlQRSBodG1sPicpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSByZXR1cm5lZCBhbiBIVE1MIHBhZ2UgaW5zdGVhZCBvZiBKU09OIGRhdGEnKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEluIGRldmVsb3BtZW50LCB3ZSdsbCB1c2UgbW9jayBkYXRhIGluc3RlYWRcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N3aXRjaGluZyB0byBtb2NrIGRhdGEgZHVlIHRvIEhUTUwgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgaWYgKCF1c2VNb2NrRGF0YSkge1xuICAgICAgICAgICAgICAgIHNldFVzZU1vY2tEYXRhKHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZXR1cm4gbW9jayBkYXRhXG4gICAgICAgICAgICAgIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL3RlbmRlcnMnKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgdGVuZGVyIGVuZHBvaW50cywgcmV0dXJuIG1vY2sgdGVuZGVyc1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICAgICAgICAgIC8vIEZvciBiaWQgZW5kcG9pbnRzLCByZXR1cm4gbW9jayBiaWRzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHMoZW5kcG9pbnQuc3BsaXQoJy8nKVsyXSkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc3BvbnNlIGlzIG5vdCBKU09OLiBBUEkgcmV0dXJuZWQ6ICcgKyBjb250ZW50VHlwZSk7XG4gICAgICAgIH0gY2F0Y2ggKHRleHRFcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlOiAke3RleHRFcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQYXJzZSBKU09OIHJlc3BvbnNlXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICAvLyBBUEkgcmVzcG9uc2Ugd2l0aCBwcm9wZXIgc3RydWN0dXJlXG4gICAgICBjb25zb2xlLmxvZyhgQVBJIHJlc3BvbnNlIGZyb20gJHtlbmRwb2ludH06YCwgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cywgb2s6IHJlc3BvbnNlLm9rLCBkYXRhOiBkYXRhIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcic7XG4gICAgICBcbiAgICAgIC8vIE5ldHdvcmsgZXJyb3JzIChsaWtlIENPUlMsIGNvbm5lY3Rpb24gcmVmdXNlZCwgZXRjLilcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCcpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBOZXR3b3JrIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTmV0d29yayBlcnJvciBmb3IgJHtlbmRwb2ludH06YCwgZXJyb3IpO1xuICAgICAgfSBcbiAgICAgIC8vIFRpbWVvdXQgZXJyb3JzXG4gICAgICBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlcXVlc3RUaW1lb3V0RXJyb3IpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYFJlcXVlc3QgdGltZWQgb3V0IGFmdGVyICR7QVBJX1RJTUVPVVR9bXNgO1xuICAgICAgICBjb25zb2xlLmVycm9yKGBUaW1lb3V0IGZvciAke2VuZHBvaW50fTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgICAvLyBPdGhlciBlcnJvcnNcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBBUEkgZXJyb3IgZm9yICR7ZW5kcG9pbnR9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0cnkgbG9naWMgZm9yIGNlcnRhaW4gZXJyb3JzIChub3QgNHh4IGNsaWVudCBlcnJvcnMpXG4gICAgICBpZiAocmV0cnkgPCBNQVhfUkVUUklFUyAmJiAhZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdBUEkgZXJyb3I6IDQnKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgUmV0cnlpbmcgcmVxdWVzdCB0byAke2VuZHBvaW50fSAoYXR0ZW1wdCAke3JldHJ5ICsgMX0vJHtNQVhfUkVUUklFU30pYCk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFQ+KGVuZHBvaW50LCBvcHRpb25zLCByZXRyeSArIDEpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXR1cm4gbW9jayBkYXRhIGluIGRldmVsb3BtZW50IG1vZGUgaWYgQVBJIGZhaWxzXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFVzaW5nIG1vY2sgZGF0YSBmb3IgJHtlbmRwb2ludH0gZHVlIHRvIEFQSSBlcnJvcmApO1xuICAgICAgICBcbiAgICAgICAgLy8gVG9nZ2xlIG1vY2sgZGF0YSBtb2RlIGlmIG5vdCBhbHJlYWR5IG9uXG4gICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICBzZXRVc2VNb2NrRGF0YSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmV0dXJuIGFwcHJvcHJpYXRlIG1vY2sgZGF0YSBiYXNlZCBvbiB0aGUgZW5kcG9pbnRcbiAgICAgICAgaWYgKGVuZHBvaW50ID09PSAnL3RlbmRlcnMnKSB7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja1RlbmRlcnMoKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzLycpICYmIGVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBHZXR0aW5nIG1vY2sgYmlkcyBmb3IgdGVuZGVyIChlcnJvciBjYXNlKTogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrQmlkcyh0ZW5kZXJJZCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRm9yIHNwZWNpZmljIHRlbmRlciBkZXRhaWxzXG4gICAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgY29uc3QgYWxsVGVuZGVycyA9IGdldE1vY2tUZW5kZXJzKCk7XG4gICAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh0ZW5kZXIpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3JNZXNzYWdlLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtBUElfQkFTRV9VUkwsIHVzZU1vY2tEYXRhXSk7XG5cbiAgY29uc3QgZ2V0VGVuZGVycyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcltdPj4gPT4ge1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFRlbmRlcltdPignL3RlbmRlcnMnKTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBnZXRUZW5kZXJCeUlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICAvLyBDaGVjayBjYWNoZVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgL3RlbmRlcnMvJHtpZH1gO1xuICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIFxuICAgIC8vIElmIGRhdGEgZXhpc3RzIGluIGNhY2hlIGFuZCBpc24ndCBzdGFsZSwgcmV0dXJuIGl0XG4gICAgaWYgKGNhY2hlZERhdGEgJiYgbm93IC0gY2FjaGVkRGF0YS50aW1lc3RhbXAgPCBDQUNIRV9UVEwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBjYWNoZWQgZGF0YSBmb3IgdGVuZGVyOicsIGlkKTtcbiAgICAgIHJldHVybiB7IGRhdGE6IGNhY2hlZERhdGEuZGF0YSwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3Q8VGVuZGVyPihgL3RlbmRlcnMvJHtpZH1gKTtcbiAgICBcbiAgICAvLyBTYXZlIHN1Y2Nlc3NmdWwgcmVzdWx0IHRvIGNhY2hlXG4gICAgaWYgKHJlc3VsdC5kYXRhKSB7XG4gICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIHsgZGF0YTogcmVzdWx0LmRhdGEsIHRpbWVzdGFtcDogbm93IH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGNyZWF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh0ZW5kZXJEYXRhOiBDcmVhdGVUZW5kZXJEYXRhKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8VGVuZGVyPignL3RlbmRlcnMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRlbmRlckRhdGEpLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IHVwZGF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jIChpZDogc3RyaW5nLCB0ZW5kZXJEYXRhOiBQYXJ0aWFsPFRlbmRlcj4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUZW5kZXI+KGAvdGVuZGVycy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZW5kZXJEYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGdldEJpZHMgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYEdldHRpbmcgYmlkcyBmb3IgdGVuZGVyOiAke3RlbmRlcklkfSwgbW9jayBtb2RlOiAke3VzZU1vY2tEYXRhfWApO1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZFtdPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkc2ApO1xuICB9LCBbaGFuZGxlUmVxdWVzdCwgdXNlTW9ja0RhdGFdKTtcblxuICBjb25zdCBjcmVhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAoYmlkRGF0YToge1xuICAgIHRlbmRlcklkOiBzdHJpbmc7XG4gICAgYmlkZGVyPzogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIHByb3Bvc2FsOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPEJpZD4+ID0+IHtcbiAgICBjb25zdCB7IHRlbmRlcklkLCAuLi5yZXN0RGF0YSB9ID0gYmlkRGF0YTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgYmlkIGZvciB0ZW5kZXIgJHt0ZW5kZXJJZH06YCwgcmVzdERhdGEpO1xuICAgIFxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZD4oYC90ZW5kZXJzLyR7dGVuZGVySWR9L2JpZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlc3REYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCB1cGRhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZywgYmlkRGF0YTogUGFydGlhbDxCaWQ+KTogUHJvbWlzZTxBcGlSZXNwb25zZTxCaWQ+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8QmlkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShiaWREYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgbG9naW5XaXRoV2FsbGV0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHdhbGxldEFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxVc2VyPignL3VzZXJzL2xvZ2luJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHdhbGxldEFkZHJlc3MgfSksXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxVc2VyPj4gPT4ge1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFVzZXI+KCcvdXNlcnMvbWUnKTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICAvLyDQlNC70Y8g0YLQtdGB0YLQuNGA0L7QstCw0L3QuNGPINC4INC+0YLQu9Cw0LTQutC4XG4gIGNvbnN0IHRvZ2dsZU1vY2tEYXRhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFVzZU1vY2tEYXRhKHByZXYgPT4ge1xuICAgICAgY29uc29sZS5sb2coYFRvZ2dsaW5nIG1vY2sgZGF0YSBtb2RlIGZyb20gJHtwcmV2fSB0byAkeyFwcmV2fWApO1xuICAgICAgLy8gUmVzZXQgZXJyb3Igc3RhdGUgd2hlbiBzd2l0Y2hpbmcgbW9kZXNcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgcmV0dXJuICFwcmV2O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQWRkIGdldEJpZHNGb3JUZW5kZXIgZnVuY3Rpb24gd2hpY2ggaXMgYW4gYWxpYXMgZm9yIGdldEJpZHNcbiAgY29uc3QgZ2V0Qmlkc0ZvclRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh0ZW5kZXJJZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxCaWRbXT4+ID0+IHtcbiAgICBjb25zb2xlLmxvZyhgZ2V0Qmlkc0ZvclRlbmRlciBjYWxsZWQgZm9yIHRlbmRlcjogJHt0ZW5kZXJJZH0sIG1vY2sgbW9kZTogJHt1c2VNb2NrRGF0YX1gKTtcbiAgICByZXR1cm4gZ2V0Qmlkcyh0ZW5kZXJJZCk7XG4gIH0sIFtnZXRCaWRzLCB1c2VNb2NrRGF0YV0pO1xuXG4gIHJldHVybiB7XG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICB1c2VNb2NrRGF0YSxcbiAgICB0b2dnbGVNb2NrRGF0YSxcbiAgICBnZXRUZW5kZXJzLFxuICAgIGdldFRlbmRlckJ5SWQsXG4gICAgY3JlYXRlVGVuZGVyLFxuICAgIHVwZGF0ZVRlbmRlcixcbiAgICBkZWxldGVUZW5kZXIsXG4gICAgZ2V0QmlkcyxcbiAgICBnZXRCaWRzRm9yVGVuZGVyLFxuICAgIGNyZWF0ZUJpZCxcbiAgICB1cGRhdGVCaWQsXG4gICAgZGVsZXRlQmlkLFxuICAgIGxvZ2luV2l0aFdhbGxldCxcbiAgICBnZXRDdXJyZW50VXNlcixcbiAgfTtcbn07XG5cbi8vIFRoZSBob29rIG5vdyByZXR1cm5zIGEgc2luZ2xldG9uIGluc3RhbmNlXG5jb25zdCB1c2VUZW5kZXJBUEkgPSAoKSA9PiB7XG4gIC8vIEFsd2F5cyBjYWxsIGFsbCBob29rcyB1bmNvbmRpdGlvbmFsbHkgYXQgdGhlIHRvcCBsZXZlbFxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHVzZU1vY2tEYXRhRnJvbUVudiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9NT0NLX0RBVEEgPT09ICd0cnVlJztcbiAgY29uc3QgW3VzZU1vY2tEYXRhLCBzZXRVc2VNb2NrRGF0YV0gPSB1c2VTdGF0ZTxib29sZWFuPih1c2VNb2NrRGF0YUZyb21FbnYpO1xuICBcbiAgLy8gSW5pdGlhbGl6ZSByZWZzXG4gIGNvbnN0IGluc3RhbmNlUmVmID0gdXNlUmVmPFRlbmRlckFQSUluc3RhbmNlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGlzSW5pdGlhbGl6ZWRSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuICBcbiAgLy8gTG9nIGluaXRpYWwgc3RhdGUgb25seSBvbmNlXG4gIGNvbnN0IGxvZ0luaXRpYWxTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWRSZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coYFRlbmRlckFQSSBob29rIGluaXRpYWxpemVkIHdpdGggbW9jayBkYXRhICR7dXNlTW9ja0RhdGEgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSAoZW52OiAke3VzZU1vY2tEYXRhRnJvbUVudn0pYCk7XG4gICAgICBpc0luaXRpYWxpemVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgW3VzZU1vY2tEYXRhLCB1c2VNb2NrRGF0YUZyb21FbnZdKTtcbiAgXG4gIC8vIENhbGwgdGhpcyBpbW1lZGlhdGVseVxuICBsb2dJbml0aWFsU3RhdGUoKTtcblxuICAvLyBEZWZpbmUgdGhlIGhhbmRsZVJlcXVlc3QgZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlUmVxdWVzdCA9IHVzZUNhbGxiYWNrKGFzeW5jIDxUPihcbiAgICBlbmRwb2ludDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30sXG4gICAgcmV0cnk6IG51bWJlciA9IDBcbiAgKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4gPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgXG4gICAgLy8gRWFybHkgcmV0dXJuIGZvciBtb2NrIGRhdGEgaWYgZW5hYmxlZFxuICAgIGlmICh1c2VNb2NrRGF0YSkge1xuICAgICAgY29uc29sZS5sb2coYFVzaW5nIG1vY2sgZGF0YSBmb3IgJHtlbmRwb2ludH0gKG1vY2sgbW9kZSBlbmFibGVkKWApO1xuICAgICAgXG4gICAgICBpZiAoZW5kcG9pbnQgPT09ICcvdGVuZGVycycpIHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgIH0gXG4gICAgICBcbiAgICAgIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL3RlbmRlcnMvJykgJiYgZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlcjogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKHRlbmRlcklkKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb3Igc3BlY2lmaWMgdGVuZGVyIGRldGFpbHNcbiAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICBjb25zdCBhbGxUZW5kZXJzID0gZ2V0TW9ja1RlbmRlcnMoKTtcbiAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRlbmRlcikge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB7IGRhdGE6IHRlbmRlciBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBNYWtpbmcgQVBJIHJlcXVlc3QgdG8gJHtlbmRwb2ludH06YCwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIEFkZCBkZWZhdWx0IGhlYWRlcnMgZm9yIEpTT04gcmVxdWVzdHNcbiAgICAgIGNvbnN0IGZldGNoT3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIEZldGNoIHdpdGggdGltZW91dFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhUaW1lb3V0KFxuICAgICAgICBgJHtBUElfQkFTRV9VUkx9JHtlbmRwb2ludH1gLFxuICAgICAgICBmZXRjaE9wdGlvbnMsXG4gICAgICAgIEFQSV9USU1FT1VUXG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBPS1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAvLyBIYW5kbGUgNDA0IGVycm9ycyBkaWZmZXJlbnRseSAtIHRoZXkncmUgZXhwZWN0ZWQgc29tZXRpbWVzXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXNvdXJjZSBub3QgZm91bmQgYXQgJHtlbmRwb2ludH0uIFRoaXMgbWlnaHQgYmUgZXhwZWN0ZWQuYCk7XG4gICAgICAgICAgLy8gUmV0dXJuIGVtcHR5IGRhdGEgcmF0aGVyIHRoYW4gdHJlYXRpbmcgYXMgZXJyb3IgZm9yIDQwNFxuICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgNTAwIGVycm9ycyBieSB1c2luZyBtb2NrIGRhdGFcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFNlcnZlciBlcnJvciAoNTAwKSBmb3IgJHtlbmRwb2ludH0uIEZhbGxpbmcgYmFjayB0byBtb2NrIGRhdGEuYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3dpdGNoIHRvIG1vY2sgZGF0YSBtb2RlIGlmIG5vdCBhbHJlYWR5IGVuYWJsZWRcbiAgICAgICAgICBpZiAoIXVzZU1vY2tEYXRhKSB7XG4gICAgICAgICAgICBzZXRVc2VNb2NrRGF0YSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmV0dXJuIGFwcHJvcHJpYXRlIG1vY2sgZGF0YSBiYXNlZCBvbiB0aGUgZW5kcG9pbnRcbiAgICAgICAgICBpZiAoZW5kcG9pbnQgPT09ICcvdGVuZGVycycpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja1RlbmRlcnMoKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH0gXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGVuZHBvaW50LmluY2x1ZGVzKCcvdGVuZGVycy8nKSAmJiBlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEdldHRpbmcgbW9jayBiaWRzIGZvciB0ZW5kZXIgKDUwMCBlcnJvcik6ICR7dGVuZGVySWR9YCk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKHRlbmRlcklkKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGb3Igc3BlY2lmaWMgdGVuZGVyIGRldGFpbHNcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuc3RhcnRzV2l0aCgnL3RlbmRlcnMvJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zdCBhbGxUZW5kZXJzID0gZ2V0TW9ja1RlbmRlcnMoKTtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlciA9IGFsbFRlbmRlcnMuZmluZCh0ID0+IHQuaWQgPT09IHRlbmRlcklkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRlbmRlcikge1xuICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBHZW5lcmFsIGVycm9yIGZhbGxiYWNrIC0gdXNlIG1vY2sgZGF0YSBpbiBkZXZlbG9wbWVudCBvciBpZiBtb2NrIG1vZGUgaXMgZW5hYmxlZFxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgSFRUUCBFcnJvciAoJHtyZXNwb25zZS5zdGF0dXN9KSBmb3IgJHtlbmRwb2ludH0uIFVzaW5nIG1vY2sgZGF0YSBhcyBmYWxsYmFjay5gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTd2l0Y2ggdG8gbW9jayBkYXRhIG1vZGUgaWYgbm90IGFscmVhZHkgZW5hYmxlZFxuICAgICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICAgIHNldFVzZU1vY2tEYXRhKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXR1cm4gYXBwcm9wcmlhdGUgbW9jayBkYXRhIGJhc2VkIG9uIHRoZSBlbmRwb2ludFxuICAgICAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrVGVuZGVycygpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfSBcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzLycpICYmIGVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlciAoSFRUUCBlcnJvcik6ICR7dGVuZGVySWR9YCk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKHRlbmRlcklkKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGb3Igc3BlY2lmaWMgdGVuZGVyIGRldGFpbHNcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuc3RhcnRzV2l0aCgnL3RlbmRlcnMvJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zdCBhbGxUZW5kZXJzID0gZ2V0TW9ja1RlbmRlcnMoKTtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlciA9IGFsbFRlbmRlcnMuZmluZCh0ID0+IHQuaWQgPT09IHRlbmRlcklkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRlbmRlcikge1xuICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgY29udGVudCB0eXBlIHRvIGVuc3VyZSB3ZSdyZSBnZXR0aW5nIEpTT05cbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgaWYgKCFjb250ZW50VHlwZSB8fCAhY29udGVudFR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgcmV0dXJuZWQgbm9uLUpTT04gY29udGVudCB0eXBlOicsIGNvbnRlbnRUeXBlKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVHJ5IHRvIHNlZSB3aGF0IHdhcyByZXR1cm5lZFxuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0FQSSByZXNwb25zZSB0ZXh0OicsIHRleHQuc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBtb3JlIGRldGFpbGVkIGVycm9yIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgZGV0ZWN0ZWQsIHNob3dpbmcgZGV0YWlsZWQgZXJyb3InKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBIVE1MIHJlc3BvbnNlICh0eXBpY2FsbHkgNDA0LzUwMCBlcnJvciBwYWdlcylcbiAgICAgICAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKCc8IURPQ1RZUEUgaHRtbD4nKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgcmV0dXJuZWQgYW4gSFRNTCBwYWdlIGluc3RlYWQgb2YgSlNPTiBkYXRhJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UnbGwgdXNlIG1vY2sgZGF0YSBpbnN0ZWFkXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTd2l0Y2hpbmcgdG8gbW9jayBkYXRhIGR1ZSB0byBIVE1MIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICAgICAgICBzZXRVc2VNb2NrRGF0YSh0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmV0dXJuIG1vY2sgZGF0YVxuICAgICAgICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIHRlbmRlciBlbmRwb2ludHMsIHJldHVybiBtb2NrIHRlbmRlcnNcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrVGVuZGVycygpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYmlkIGVuZHBvaW50cywgcmV0dXJuIG1vY2sgYmlkc1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKGVuZHBvaW50LnNwbGl0KCcvJylbMl0pIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNwb25zZSBpcyBub3QgSlNPTi4gQVBJIHJldHVybmVkOiAnICsgY29udGVudFR5cGUpO1xuICAgICAgICB9IGNhdGNoICh0ZXh0RXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSByZXNwb25zZTogJHt0ZXh0RXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFyc2UgSlNPTiByZXNwb25zZVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgLy8gQVBJIHJlc3BvbnNlIHdpdGggcHJvcGVyIHN0cnVjdHVyZVxuICAgICAgY29uc29sZS5sb2coYEFQSSByZXNwb25zZSBmcm9tICR7ZW5kcG9pbnR9OmAsIHsgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsIG9rOiByZXNwb25zZS5vaywgZGF0YTogZGF0YSB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgXG4gICAgICAvLyBOZXR3b3JrIGVycm9ycyAobGlrZSBDT1JTLCBjb25uZWN0aW9uIHJlZnVzZWQsIGV0Yy4pXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBgTmV0d29yayBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYE5ldHdvcmsgZXJyb3IgZm9yICR7ZW5kcG9pbnR9OmAsIGVycm9yKTtcbiAgICAgIH0gXG4gICAgICAvLyBUaW1lb3V0IGVycm9yc1xuICAgICAgZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBSZXF1ZXN0VGltZW91dEVycm9yKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBSZXF1ZXN0IHRpbWVkIG91dCBhZnRlciAke0FQSV9USU1FT1VUfW1zYDtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGltZW91dCBmb3IgJHtlbmRwb2ludH06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgICAgLy8gT3RoZXIgZXJyb3JzXG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQVBJIGVycm9yIGZvciAke2VuZHBvaW50fTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJldHJ5IGxvZ2ljIGZvciBjZXJ0YWluIGVycm9ycyAobm90IDR4eCBjbGllbnQgZXJyb3JzKVxuICAgICAgaWYgKHJldHJ5IDwgTUFYX1JFVFJJRVMgJiYgIWVycm9yTWVzc2FnZS5pbmNsdWRlcygnQVBJIGVycm9yOiA0JykpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFJldHJ5aW5nIHJlcXVlc3QgdG8gJHtlbmRwb2ludH0gKGF0dGVtcHQgJHtyZXRyeSArIDF9LyR7TUFYX1JFVFJJRVN9KWApO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUPihlbmRwb2ludCwgb3B0aW9ucywgcmV0cnkgKyAxKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0dXJuIG1vY2sgZGF0YSBpbiBkZXZlbG9wbWVudCBtb2RlIGlmIEFQSSBmYWlsc1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIHx8IHVzZU1vY2tEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBtb2NrIGRhdGEgZm9yICR7ZW5kcG9pbnR9IGR1ZSB0byBBUEkgZXJyb3JgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRvZ2dsZSBtb2NrIGRhdGEgbW9kZSBpZiBub3QgYWxyZWFkeSBvblxuICAgICAgICBpZiAoIXVzZU1vY2tEYXRhKSB7XG4gICAgICAgICAgc2V0VXNlTW9ja0RhdGEodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJldHVybiBhcHByb3ByaWF0ZSBtb2NrIGRhdGEgYmFzZWQgb24gdGhlIGVuZHBvaW50XG4gICAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGVuZHBvaW50LmluY2x1ZGVzKCcvdGVuZGVycy8nKSAmJiBlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlciAoZXJyb3IgY2FzZSk6ICR7dGVuZGVySWR9YCk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgICBpZiAoZW5kcG9pbnQuc3RhcnRzV2l0aCgnL3RlbmRlcnMvJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICAgIGNvbnN0IHRlbmRlciA9IGFsbFRlbmRlcnMuZmluZCh0ID0+IHQuaWQgPT09IHRlbmRlcklkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHRlbmRlciBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yTWVzc2FnZSwgbG9hZGluZzogZmFsc2UgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbQVBJX0JBU0VfVVJMLCB1c2VNb2NrRGF0YV0pO1xuXG4gIC8vIERlZmluZSBvdGhlciBBUEkgbWV0aG9kcyB3aXRoIHVzZUNhbGxiYWNrXG4gIGNvbnN0IGdldFRlbmRlcnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXJbXT4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUZW5kZXJbXT4oJy90ZW5kZXJzJyk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG4gIFxuICBjb25zdCBnZXRUZW5kZXJCeUlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICAvLyBDaGVjayBjYWNoZVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgL3RlbmRlcnMvJHtpZH1gO1xuICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIFxuICAgIC8vIElmIGRhdGEgZXhpc3RzIGluIGNhY2hlIGFuZCBpc24ndCBzdGFsZSwgcmV0dXJuIGl0XG4gICAgaWYgKGNhY2hlZERhdGEgJiYgbm93IC0gY2FjaGVkRGF0YS50aW1lc3RhbXAgPCBDQUNIRV9UVEwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBjYWNoZWQgZGF0YSBmb3IgdGVuZGVyOicsIGlkKTtcbiAgICAgIHJldHVybiB7IGRhdGE6IGNhY2hlZERhdGEuZGF0YSwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3Q8VGVuZGVyPihgL3RlbmRlcnMvJHtpZH1gKTtcbiAgICBcbiAgICAvLyBTYXZlIHN1Y2Nlc3NmdWwgcmVzdWx0IHRvIGNhY2hlXG4gICAgaWYgKHJlc3VsdC5kYXRhKSB7XG4gICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIHsgZGF0YTogcmVzdWx0LmRhdGEsIHRpbWVzdGFtcDogbm93IH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGNyZWF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh0ZW5kZXJEYXRhOiBDcmVhdGVUZW5kZXJEYXRhKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8VGVuZGVyPignL3RlbmRlcnMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRlbmRlckRhdGEpLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IHVwZGF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jIChpZDogc3RyaW5nLCB0ZW5kZXJEYXRhOiBQYXJ0aWFsPFRlbmRlcj4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUZW5kZXI+KGAvdGVuZGVycy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZW5kZXJEYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGdldEJpZHMgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYEdldHRpbmcgYmlkcyBmb3IgdGVuZGVyOiAke3RlbmRlcklkfSwgbW9jayBtb2RlOiAke3VzZU1vY2tEYXRhfWApO1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZFtdPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkc2ApO1xuICB9LCBbaGFuZGxlUmVxdWVzdCwgdXNlTW9ja0RhdGFdKTtcblxuICBjb25zdCBjcmVhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAoYmlkRGF0YToge1xuICAgIHRlbmRlcklkOiBzdHJpbmc7XG4gICAgYmlkZGVyPzogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIHByb3Bvc2FsOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPEJpZD4+ID0+IHtcbiAgICBjb25zdCB7IHRlbmRlcklkLCAuLi5yZXN0RGF0YSB9ID0gYmlkRGF0YTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgYmlkIGZvciB0ZW5kZXIgJHt0ZW5kZXJJZH06YCwgcmVzdERhdGEpO1xuICAgIFxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZD4oYC90ZW5kZXJzLyR7dGVuZGVySWR9L2JpZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlc3REYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCB1cGRhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZywgYmlkRGF0YTogUGFydGlhbDxCaWQ+KTogUHJvbWlzZTxBcGlSZXNwb25zZTxCaWQ+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8QmlkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShiaWREYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgbG9naW5XaXRoV2FsbGV0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHdhbGxldEFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxVc2VyPignL3VzZXJzL2xvZ2luJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHdhbGxldEFkZHJlc3MgfSksXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxVc2VyPj4gPT4ge1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFVzZXI+KCcvdXNlcnMvbWUnKTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcbiAgXG4gIC8vIEFkZCBnZXRCaWRzRm9yVGVuZGVyIGZ1bmN0aW9uIHdoaWNoIGlzIGFuIGFsaWFzIGZvciBnZXRCaWRzXG4gIGNvbnN0IGdldEJpZHNGb3JUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYGdldEJpZHNGb3JUZW5kZXIgY2FsbGVkIGZvciB0ZW5kZXI6ICR7dGVuZGVySWR9LCBtb2NrIG1vZGU6ICR7dXNlTW9ja0RhdGF9YCk7XG4gICAgcmV0dXJuIGdldEJpZHModGVuZGVySWQpO1xuICB9LCBbZ2V0QmlkcywgdXNlTW9ja0RhdGFdKTtcblxuICAvLyBGb3IgdGVzdGluZyBhbmQgZGVidWdnaW5nXG4gIGNvbnN0IHRvZ2dsZU1vY2tEYXRhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFVzZU1vY2tEYXRhKHByZXYgPT4ge1xuICAgICAgY29uc29sZS5sb2coYFRvZ2dsaW5nIG1vY2sgZGF0YSBtb2RlIGZyb20gJHtwcmV2fSB0byAkeyFwcmV2fWApO1xuICAgICAgLy8gUmVzZXQgZXJyb3Igc3RhdGUgd2hlbiBzd2l0Y2hpbmcgbW9kZXNcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgcmV0dXJuICFwcmV2O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQ3JlYXRlIHRoZSBBUEkgaW5zdGFuY2UgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG4gIHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIElmIHdlIGFscmVhZHkgaGF2ZSBhbiBpbnN0YW5jZSBpbiB0aGlzIGNvbXBvbmVudCwgdXNlIGl0XG4gICAgaWYgKGluc3RhbmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGdsb2JhbCBzaW5nbGV0b24sIHVzZSB0aGF0XG4gICAgaWYgKFNJTkdMRVRPTl9JTlNUQU5DRSkge1xuICAgICAgaW5zdGFuY2VSZWYuY3VycmVudCA9IFNJTkdMRVRPTl9JTlNUQU5DRTtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBleGlzdGluZyBUZW5kZXJBUEkgc2luZ2xldG9uIGluc3RhbmNlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSB3aXRoIGFsbCB0aGUgbWV0aG9kcyBhbmQgc3RhdGVcbiAgICBjb25zdCBpbnN0YW5jZTogVGVuZGVyQVBJSW5zdGFuY2UgPSB7XG4gICAgICBsb2FkaW5nLFxuICAgICAgZXJyb3IsXG4gICAgICB1c2VNb2NrRGF0YSxcbiAgICAgIHRvZ2dsZU1vY2tEYXRhLFxuICAgICAgZ2V0VGVuZGVycyxcbiAgICAgIGdldFRlbmRlckJ5SWQsXG4gICAgICBjcmVhdGVUZW5kZXIsXG4gICAgICB1cGRhdGVUZW5kZXIsXG4gICAgICBkZWxldGVUZW5kZXIsXG4gICAgICBnZXRCaWRzLFxuICAgICAgZ2V0Qmlkc0ZvclRlbmRlcixcbiAgICAgIGNyZWF0ZUJpZCxcbiAgICAgIHVwZGF0ZUJpZCxcbiAgICAgIGRlbGV0ZUJpZCxcbiAgICAgIGxvZ2luV2l0aFdhbGxldCxcbiAgICAgIGdldEN1cnJlbnRVc2VyLFxuICAgIH07XG4gICAgXG4gICAgLy8gU3RvcmUgaXQgbG9jYWxseSBhbmQgZ2xvYmFsbHlcbiAgICBpbnN0YW5jZVJlZi5jdXJyZW50ID0gaW5zdGFuY2U7XG4gICAgU0lOR0xFVE9OX0lOU1RBTkNFID0gaW5zdGFuY2U7XG4gICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgbmV3IFRlbmRlckFQSSBzaW5nbGV0b24gaW5zdGFuY2UnKTtcbiAgfSwgW1xuICAgIGxvYWRpbmcsIGVycm9yLCB1c2VNb2NrRGF0YSwgdG9nZ2xlTW9ja0RhdGEsXG4gICAgZ2V0VGVuZGVycywgZ2V0VGVuZGVyQnlJZCwgY3JlYXRlVGVuZGVyLCB1cGRhdGVUZW5kZXIsIGRlbGV0ZVRlbmRlcixcbiAgICBnZXRCaWRzLCBnZXRCaWRzRm9yVGVuZGVyLCBjcmVhdGVCaWQsIHVwZGF0ZUJpZCwgZGVsZXRlQmlkLFxuICAgIGxvZ2luV2l0aFdhbGxldCwgZ2V0Q3VycmVudFVzZXJcbiAgXSk7XG4gIFxuICAvLyBBbHdheXMgcmV0dXJuIHRoZSBzYW1lIGluc3RhbmNlIG9uY2UgY3JlYXRlZFxuICByZXR1cm4gaW5zdGFuY2VSZWYuY3VycmVudCBhcyBUZW5kZXJBUElJbnN0YW5jZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVRlbmRlckFQSTsgIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VNZW1vIiwiU0lOR0xFVE9OX0lOU1RBTkNFIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJSZXF1ZXN0VGltZW91dEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJuYW1lIiwiQVBJX1RJTUVPVVQiLCJNQVhfUkVUUklFUyIsImNhY2hlIiwiTWFwIiwiQ0FDSEVfVFRMIiwiTU9DS19EQVRBIiwidGVuZGVycyIsImlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1ZGdldCIsImRlYWRsaW5lIiwiRGF0ZSIsIm5vdyIsInRvSVNPU3RyaW5nIiwic3RhdHVzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiY3JlYXRvcklkIiwiY3JlYXRvciIsImVtYWlsIiwid2FsbGV0QWRkcmVzcyIsImNhdGVnb3JpZXMiLCJleHBpcmVzQXQiLCJiaWRzIiwiYW1vdW50IiwicHJvcG9zYWwiLCJ0ZW5kZXJJZCIsImJpZGRlcklkIiwiYmlkZGVyIiwiVVNFX01PQ0tfREFUQV9PTl9FUlJPUiIsImZldGNoV2l0aFRpbWVvdXQiLCJ1cmwiLCJmZXRjaE9wdGlvbnMiLCJ0aW1lb3V0TXMiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwidGltZW91dElkIiwidGltZW91dFByb21pc2UiLCJQcm9taXNlIiwiXyIsInJlamVjdCIsInNldFRpbWVvdXQiLCJhYm9ydCIsImZldGNoUHJvbWlzZSIsImZldGNoIiwicmFjZSIsImNsZWFyVGltZW91dCIsImdldE1vY2tUZW5kZXJzIiwiZ2V0TW9ja0JpZHMiLCJjcmVhdGVUZW5kZXJBUEkiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJ1c2VNb2NrRGF0YUZyb21FbnYiLCJORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBIiwidXNlTW9ja0RhdGEiLCJzZXRVc2VNb2NrRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVSZXF1ZXN0IiwiZW5kcG9pbnQiLCJvcHRpb25zIiwicmV0cnkiLCJkYXRhIiwiaW5jbHVkZXMiLCJzcGxpdCIsInN0YXJ0c1dpdGgiLCJhbGxUZW5kZXJzIiwidGVuZGVyIiwiZmluZCIsInQiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJvayIsInN0YXR1c1RleHQiLCJjb250ZW50VHlwZSIsImdldCIsInRleHQiLCJzdWJzdHJpbmciLCJ0ZXh0RXJyb3IiLCJqc29uIiwiZXJyb3JNZXNzYWdlIiwiVHlwZUVycm9yIiwiZ2V0VGVuZGVycyIsImdldFRlbmRlckJ5SWQiLCJjYWNoZUtleSIsImNhY2hlZERhdGEiLCJ0aW1lc3RhbXAiLCJyZXN1bHQiLCJzZXQiLCJjcmVhdGVUZW5kZXIiLCJ0ZW5kZXJEYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVUZW5kZXIiLCJkZWxldGVUZW5kZXIiLCJnZXRCaWRzIiwiY3JlYXRlQmlkIiwiYmlkRGF0YSIsInJlc3REYXRhIiwidXBkYXRlQmlkIiwiYmlkSWQiLCJkZWxldGVCaWQiLCJsb2dpbldpdGhXYWxsZXQiLCJnZXRDdXJyZW50VXNlciIsInRvZ2dsZU1vY2tEYXRhIiwicHJldiIsImdldEJpZHNGb3JUZW5kZXIiLCJ1c2VUZW5kZXJBUEkiLCJpbnN0YW5jZVJlZiIsImlzSW5pdGlhbGl6ZWRSZWYiLCJsb2dJbml0aWFsU3RhdGUiLCJjdXJyZW50IiwiaW5zdGFuY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./hooks/useTenderAPI.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./hooks/useWeb3.ts":
/*!**************************!*\
  !*** ./hooks/useWeb3.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWeb3: () => (/* binding */ useWeb3)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethers */ \"ethers\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([ethers__WEBPACK_IMPORTED_MODULE_1__]);\nethers__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nfunction useWeb3() {\n    const [provider, setProvider] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [signer, setSigner] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [account, setAccount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [chainId, setChainId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isConnecting, setIsConnecting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use refs to track the latest values without triggering re-renders\n    const accountRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const providerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const signerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Last connection attempt timestamp to prevent rapid reconnection attempts\n    const lastConnectionAttemptRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // Initialize web3 connection\n    const initWeb3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[initWeb3]\": async ()=>{\n            // Prevent multiple simultaneous connection attempts\n            if (isConnecting) {\n                console.log(\"Already connecting to Web3, skipping\");\n                return {\n                    success: false,\n                    error: \"Connection in progress\"\n                };\n            }\n            // Throttle connection attempts\n            const now = Date.now();\n            if (now - lastConnectionAttemptRef.current < 3000) {\n                console.log(\"Connection attempt too soon, skipping\");\n                return {\n                    success: false,\n                    error: \"Too many connection attempts\"\n                };\n            }\n            lastConnectionAttemptRef.current = now;\n            setIsConnecting(true);\n            setError(null);\n            try {\n                // Check if ethereum is available\n                if (!window.ethereum) {\n                    throw new Error(\"MetaMask не установлен. Пожалуйста, установите расширение MetaMask.\");\n                }\n                console.log(\"Initializing Web3 provider\");\n                // Create provider instance using Ethers.js v6 API\n                const provider = new ethers__WEBPACK_IMPORTED_MODULE_1__.ethers.BrowserProvider(window.ethereum);\n                providerRef.current = provider;\n                setProvider(provider);\n                // Request accounts\n                const accounts = await window.ethereum.request({\n                    method: 'eth_requestAccounts'\n                });\n                const account = accounts[0];\n                accountRef.current = account;\n                setAccount(account);\n                // Get network information\n                const network = await provider.getNetwork();\n                setChainId(Number(network.chainId));\n                // Get signer\n                const signer = await provider.getSigner();\n                signerRef.current = signer;\n                setSigner(signer);\n                console.log(\"Web3 initialized successfully\", {\n                    account,\n                    chainId: Number(network.chainId)\n                });\n                return {\n                    success: true,\n                    data: {\n                        provider,\n                        signer,\n                        account\n                    }\n                };\n            } catch (error) {\n                console.error(\"Failed to initialize Web3:\", error);\n                const errorMessage = error.message || \"Unknown error connecting to MetaMask\";\n                setError(errorMessage);\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            } finally{\n                setIsConnecting(false);\n            }\n        }\n    }[\"useWeb3.useCallback[initWeb3]\"], [\n        isConnecting\n    ]);\n    // Connect to wallet\n    const connectWallet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[connectWallet]\": async ()=>{\n            return initWeb3();\n        }\n    }[\"useWeb3.useCallback[connectWallet]\"], [\n        initWeb3\n    ]);\n    // Handle account changes\n    const handleAccountsChanged = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[handleAccountsChanged]\": async (accounts)=>{\n            if (accounts.length === 0) {\n                console.log(\"Disconnected from MetaMask\");\n                setAccount(null);\n                accountRef.current = null;\n            } else if (accounts[0] !== accountRef.current) {\n                console.log(\"Account changed:\", accounts[0]);\n                setAccount(accounts[0]);\n                accountRef.current = accounts[0];\n                // Update signer when account changes\n                if (providerRef.current) {\n                    try {\n                        const newSigner = await providerRef.current.getSigner();\n                        setSigner(newSigner);\n                        signerRef.current = newSigner;\n                    } catch (error) {\n                        console.error(\"Failed to get signer after account change:\", error);\n                    }\n                }\n            }\n        }\n    }[\"useWeb3.useCallback[handleAccountsChanged]\"], []);\n    // Handle chain changes\n    const handleChainChanged = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[handleChainChanged]\": async (chainIdHex)=>{\n            // chainId is in hex format\n            const newChainId = parseInt(chainIdHex, 16);\n            console.log(\"Chain changed:\", newChainId);\n            setChainId(newChainId);\n            // Reload provider and signer when chain changes\n            if (window.ethereum) {\n                try {\n                    const provider = new ethers__WEBPACK_IMPORTED_MODULE_1__.ethers.BrowserProvider(window.ethereum);\n                    providerRef.current = provider;\n                    setProvider(provider);\n                    const signer = await provider.getSigner();\n                    signerRef.current = signer;\n                    setSigner(signer);\n                } catch (error) {\n                    console.error(\"Failed to update provider after chain change:\", error);\n                }\n            }\n        }\n    }[\"useWeb3.useCallback[handleChainChanged]\"], []);\n    // Handle disconnection\n    const handleDisconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[handleDisconnect]\": (error)=>{\n            console.log(\"MetaMask disconnected:\", error);\n            setError(`MetaMask disconnected: ${error.message}`);\n        }\n    }[\"useWeb3.useCallback[handleDisconnect]\"], []);\n    // Set up event listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWeb3.useEffect\": ()=>{\n            if (window.ethereum) {\n                // Early return if the event listeners are already added\n                const getAccounts = {\n                    \"useWeb3.useEffect.getAccounts\": async ()=>{\n                        try {\n                            // Passive check for existing connection\n                            const accounts = await window.ethereum.request({\n                                method: 'eth_accounts'\n                            });\n                            if (accounts.length > 0) {\n                                console.log(\"Found existing connection\", accounts[0]);\n                                const account = accounts[0];\n                                accountRef.current = account;\n                                setAccount(account);\n                                // Initialize provider and signer using Ethers.js v6 API\n                                const provider = new ethers__WEBPACK_IMPORTED_MODULE_1__.ethers.BrowserProvider(window.ethereum);\n                                providerRef.current = provider;\n                                setProvider(provider);\n                                const network = await provider.getNetwork();\n                                setChainId(Number(network.chainId));\n                                const signer = await provider.getSigner();\n                                signerRef.current = signer;\n                                setSigner(signer);\n                            }\n                        } catch (error) {\n                            console.error(\"Error checking existing accounts:\", error);\n                        }\n                    }\n                }[\"useWeb3.useEffect.getAccounts\"];\n                getAccounts();\n                // Set up event listeners\n                window.ethereum.on('accountsChanged', handleAccountsChanged);\n                window.ethereum.on('chainChanged', handleChainChanged);\n                window.ethereum.on('disconnect', handleDisconnect);\n                // Clean up listeners\n                return ({\n                    \"useWeb3.useEffect\": ()=>{\n                        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n                        window.ethereum.removeListener('chainChanged', handleChainChanged);\n                        window.ethereum.removeListener('disconnect', handleDisconnect);\n                    }\n                })[\"useWeb3.useEffect\"];\n            }\n        }\n    }[\"useWeb3.useEffect\"], [\n        handleAccountsChanged,\n        handleChainChanged,\n        handleDisconnect\n    ]);\n    // Return stable references using useCallback and useMemo\n    const memoizedProviderValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedProviderValue]\": ()=>provider\n    }[\"useWeb3.useMemo[memoizedProviderValue]\"], [\n        provider\n    ]);\n    const memoizedSignerValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedSignerValue]\": ()=>signer\n    }[\"useWeb3.useMemo[memoizedSignerValue]\"], [\n        signer\n    ]);\n    const memoizedAccountValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedAccountValue]\": ()=>account\n    }[\"useWeb3.useMemo[memoizedAccountValue]\"], [\n        account\n    ]);\n    const memoizedChainIdValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedChainIdValue]\": ()=>chainId\n    }[\"useWeb3.useMemo[memoizedChainIdValue]\"], [\n        chainId\n    ]);\n    return {\n        provider: memoizedProviderValue,\n        signer: memoizedSignerValue,\n        account: memoizedAccountValue,\n        chainId: memoizedChainIdValue,\n        connectWallet,\n        isConnecting,\n        isConnected: !!memoizedAccountValue,\n        error\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZW5kL2hvb2tzL3VzZVdlYjMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGV0aGVycyB9IGZyb20gJ2V0aGVycyc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgZXRoZXJldW0/OiBhbnk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVdlYjMoKSB7XG4gIGNvbnN0IFtwcm92aWRlciwgc2V0UHJvdmlkZXJdID0gdXNlU3RhdGU8ZXRoZXJzLkJyb3dzZXJQcm92aWRlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2lnbmVyLCBzZXRTaWduZXJdID0gdXNlU3RhdGU8ZXRoZXJzLlNpZ25lciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWNjb3VudCwgc2V0QWNjb3VudF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NoYWluSWQsIHNldENoYWluSWRdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0Nvbm5lY3RpbmcsIHNldElzQ29ubmVjdGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBVc2UgcmVmcyB0byB0cmFjayB0aGUgbGF0ZXN0IHZhbHVlcyB3aXRob3V0IHRyaWdnZXJpbmcgcmUtcmVuZGVyc1xuICBjb25zdCBhY2NvdW50UmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBwcm92aWRlclJlZiA9IHVzZVJlZjxldGhlcnMuQnJvd3NlclByb3ZpZGVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNpZ25lclJlZiA9IHVzZVJlZjxldGhlcnMuU2lnbmVyIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBMYXN0IGNvbm5lY3Rpb24gYXR0ZW1wdCB0aW1lc3RhbXAgdG8gcHJldmVudCByYXBpZCByZWNvbm5lY3Rpb24gYXR0ZW1wdHNcbiAgY29uc3QgbGFzdENvbm5lY3Rpb25BdHRlbXB0UmVmID0gdXNlUmVmPG51bWJlcj4oMCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB3ZWIzIGNvbm5lY3Rpb25cbiAgY29uc3QgaW5pdFdlYjMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgLy8gUHJldmVudCBtdWx0aXBsZSBzaW11bHRhbmVvdXMgY29ubmVjdGlvbiBhdHRlbXB0c1xuICAgIGlmIChpc0Nvbm5lY3RpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBjb25uZWN0aW5nIHRvIFdlYjMsIHNraXBwaW5nXCIpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvbm5lY3Rpb24gaW4gcHJvZ3Jlc3NcIiB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBUaHJvdHRsZSBjb25uZWN0aW9uIGF0dGVtcHRzXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IC0gbGFzdENvbm5lY3Rpb25BdHRlbXB0UmVmLmN1cnJlbnQgPCAzMDAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpb24gYXR0ZW1wdCB0b28gc29vbiwgc2tpcHBpbmdcIik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVG9vIG1hbnkgY29ubmVjdGlvbiBhdHRlbXB0c1wiIH07XG4gICAgfVxuICAgIFxuICAgIGxhc3RDb25uZWN0aW9uQXR0ZW1wdFJlZi5jdXJyZW50ID0gbm93O1xuICAgIHNldElzQ29ubmVjdGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgZXRoZXJldW0gaXMgYXZhaWxhYmxlXG4gICAgICBpZiAoIXdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRhTWFzayDQvdC1INGD0YHRgtCw0L3QvtCy0LvQtdC9LiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0YPRgdGC0LDQvdC+0LLQuNGC0LUg0YDQsNGB0YjQuNGA0LXQvdC40LUgTWV0YU1hc2suXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpemluZyBXZWIzIHByb3ZpZGVyXCIpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgcHJvdmlkZXIgaW5zdGFuY2UgdXNpbmcgRXRoZXJzLmpzIHY2IEFQSVxuICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLkJyb3dzZXJQcm92aWRlcih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgcHJvdmlkZXJSZWYuY3VycmVudCA9IHByb3ZpZGVyO1xuICAgICAgc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgXG4gICAgICAvLyBSZXF1ZXN0IGFjY291bnRzXG4gICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX3JlcXVlc3RBY2NvdW50cycgfSk7XG4gICAgICBjb25zdCBhY2NvdW50ID0gYWNjb3VudHNbMF07XG4gICAgICBhY2NvdW50UmVmLmN1cnJlbnQgPSBhY2NvdW50O1xuICAgICAgc2V0QWNjb3VudChhY2NvdW50KTtcbiAgICAgIFxuICAgICAgLy8gR2V0IG5ldHdvcmsgaW5mb3JtYXRpb25cbiAgICAgIGNvbnN0IG5ldHdvcmsgPSBhd2FpdCBwcm92aWRlci5nZXROZXR3b3JrKCk7XG4gICAgICBzZXRDaGFpbklkKE51bWJlcihuZXR3b3JrLmNoYWluSWQpKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHNpZ25lclxuICAgICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XG4gICAgICBzaWduZXJSZWYuY3VycmVudCA9IHNpZ25lcjtcbiAgICAgIHNldFNpZ25lcihzaWduZXIpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIldlYjMgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5XCIsIHsgYWNjb3VudCwgY2hhaW5JZDogTnVtYmVyKG5ldHdvcmsuY2hhaW5JZCkgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgcHJvdmlkZXIsIHNpZ25lciwgYWNjb3VudCB9IH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYjM6XCIsIGVycm9yKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3IgY29ubmVjdGluZyB0byBNZXRhTWFza1wiO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNDb25uZWN0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtpc0Nvbm5lY3RpbmddKTtcblxuICAvLyBDb25uZWN0IHRvIHdhbGxldFxuICBjb25zdCBjb25uZWN0V2FsbGV0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiBpbml0V2ViMygpO1xuICB9LCBbaW5pdFdlYjNdKTtcblxuICAvLyBIYW5kbGUgYWNjb3VudCBjaGFuZ2VzXG4gIGNvbnN0IGhhbmRsZUFjY291bnRzQ2hhbmdlZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChhY2NvdW50czogc3RyaW5nW10pID0+IHtcbiAgICBpZiAoYWNjb3VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRpc2Nvbm5lY3RlZCBmcm9tIE1ldGFNYXNrXCIpO1xuICAgICAgc2V0QWNjb3VudChudWxsKTtcbiAgICAgIGFjY291bnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChhY2NvdW50c1swXSAhPT0gYWNjb3VudFJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkFjY291bnQgY2hhbmdlZDpcIiwgYWNjb3VudHNbMF0pO1xuICAgICAgc2V0QWNjb3VudChhY2NvdW50c1swXSk7XG4gICAgICBhY2NvdW50UmVmLmN1cnJlbnQgPSBhY2NvdW50c1swXTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHNpZ25lciB3aGVuIGFjY291bnQgY2hhbmdlc1xuICAgICAgaWYgKHByb3ZpZGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBuZXdTaWduZXIgPSBhd2FpdCBwcm92aWRlclJlZi5jdXJyZW50LmdldFNpZ25lcigpO1xuICAgICAgICAgIHNldFNpZ25lcihuZXdTaWduZXIpO1xuICAgICAgICAgIHNpZ25lclJlZi5jdXJyZW50ID0gbmV3U2lnbmVyO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHNpZ25lciBhZnRlciBhY2NvdW50IGNoYW5nZTpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIGNoYWluIGNoYW5nZXNcbiAgY29uc3QgaGFuZGxlQ2hhaW5DaGFuZ2VkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGNoYWluSWRIZXg6IHN0cmluZykgPT4ge1xuICAgIC8vIGNoYWluSWQgaXMgaW4gaGV4IGZvcm1hdFxuICAgIGNvbnN0IG5ld0NoYWluSWQgPSBwYXJzZUludChjaGFpbklkSGV4LCAxNik7XG4gICAgY29uc29sZS5sb2coXCJDaGFpbiBjaGFuZ2VkOlwiLCBuZXdDaGFpbklkKTtcbiAgICBzZXRDaGFpbklkKG5ld0NoYWluSWQpO1xuICAgIFxuICAgIC8vIFJlbG9hZCBwcm92aWRlciBhbmQgc2lnbmVyIHdoZW4gY2hhaW4gY2hhbmdlc1xuICAgIGlmICh3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGV0aGVycy5Ccm93c2VyUHJvdmlkZXIod2luZG93LmV0aGVyZXVtKTtcbiAgICAgICAgcHJvdmlkZXJSZWYuY3VycmVudCA9IHByb3ZpZGVyO1xuICAgICAgICBzZXRQcm92aWRlcihwcm92aWRlcik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKTtcbiAgICAgICAgc2lnbmVyUmVmLmN1cnJlbnQgPSBzaWduZXI7XG4gICAgICAgIHNldFNpZ25lcihzaWduZXIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB1cGRhdGUgcHJvdmlkZXIgYWZ0ZXIgY2hhaW4gY2hhbmdlOlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIGRpc2Nvbm5lY3Rpb25cbiAgY29uc3QgaGFuZGxlRGlzY29ubmVjdCA9IHVzZUNhbGxiYWNrKChlcnJvcjogeyBjb2RlOiBudW1iZXI7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJNZXRhTWFzayBkaXNjb25uZWN0ZWQ6XCIsIGVycm9yKTtcbiAgICBzZXRFcnJvcihgTWV0YU1hc2sgZGlzY29ubmVjdGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH0sIFtdKTtcblxuICAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgLy8gRWFybHkgcmV0dXJuIGlmIHRoZSBldmVudCBsaXN0ZW5lcnMgYXJlIGFscmVhZHkgYWRkZWRcbiAgICAgIGNvbnN0IGdldEFjY291bnRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFBhc3NpdmUgY2hlY2sgZm9yIGV4aXN0aW5nIGNvbm5lY3Rpb25cbiAgICAgICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2FjY291bnRzJyB9KTtcbiAgICAgICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBleGlzdGluZyBjb25uZWN0aW9uXCIsIGFjY291bnRzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBhY2NvdW50c1swXTtcbiAgICAgICAgICAgIGFjY291bnRSZWYuY3VycmVudCA9IGFjY291bnQ7XG4gICAgICAgICAgICBzZXRBY2NvdW50KGFjY291bnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHByb3ZpZGVyIGFuZCBzaWduZXIgdXNpbmcgRXRoZXJzLmpzIHY2IEFQSVxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLkJyb3dzZXJQcm92aWRlcih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICAgICAgcHJvdmlkZXJSZWYuY3VycmVudCA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXR3b3JrID0gYXdhaXQgcHJvdmlkZXIuZ2V0TmV0d29yaygpO1xuICAgICAgICAgICAgc2V0Q2hhaW5JZChOdW1iZXIobmV0d29yay5jaGFpbklkKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xuICAgICAgICAgICAgc2lnbmVyUmVmLmN1cnJlbnQgPSBzaWduZXI7XG4gICAgICAgICAgICBzZXRTaWduZXIoc2lnbmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIGV4aXN0aW5nIGFjY291bnRzOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGdldEFjY291bnRzKCk7XG4gICAgICBcbiAgICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnNcbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignYWNjb3VudHNDaGFuZ2VkJywgaGFuZGxlQWNjb3VudHNDaGFuZ2VkKTtcbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignY2hhaW5DaGFuZ2VkJywgaGFuZGxlQ2hhaW5DaGFuZ2VkKTtcbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignZGlzY29ubmVjdCcsIGhhbmRsZURpc2Nvbm5lY3QpO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCBsaXN0ZW5lcnNcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVMaXN0ZW5lcignYWNjb3VudHNDaGFuZ2VkJywgaGFuZGxlQWNjb3VudHNDaGFuZ2VkKTtcbiAgICAgICAgd2luZG93LmV0aGVyZXVtLnJlbW92ZUxpc3RlbmVyKCdjaGFpbkNoYW5nZWQnLCBoYW5kbGVDaGFpbkNoYW5nZWQpO1xuICAgICAgICB3aW5kb3cuZXRoZXJldW0ucmVtb3ZlTGlzdGVuZXIoJ2Rpc2Nvbm5lY3QnLCBoYW5kbGVEaXNjb25uZWN0KTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbaGFuZGxlQWNjb3VudHNDaGFuZ2VkLCBoYW5kbGVDaGFpbkNoYW5nZWQsIGhhbmRsZURpc2Nvbm5lY3RdKTtcblxuICAvLyBSZXR1cm4gc3RhYmxlIHJlZmVyZW5jZXMgdXNpbmcgdXNlQ2FsbGJhY2sgYW5kIHVzZU1lbW9cbiAgY29uc3QgbWVtb2l6ZWRQcm92aWRlclZhbHVlID0gdXNlTWVtbygoKSA9PiBwcm92aWRlciwgW3Byb3ZpZGVyXSk7XG4gIGNvbnN0IG1lbW9pemVkU2lnbmVyVmFsdWUgPSB1c2VNZW1vKCgpID0+IHNpZ25lciwgW3NpZ25lcl0pO1xuICBjb25zdCBtZW1vaXplZEFjY291bnRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gYWNjb3VudCwgW2FjY291bnRdKTtcbiAgY29uc3QgbWVtb2l6ZWRDaGFpbklkVmFsdWUgPSB1c2VNZW1vKCgpID0+IGNoYWluSWQsIFtjaGFpbklkXSk7XG4gIFxuICByZXR1cm4ge1xuICAgIHByb3ZpZGVyOiBtZW1vaXplZFByb3ZpZGVyVmFsdWUsXG4gICAgc2lnbmVyOiBtZW1vaXplZFNpZ25lclZhbHVlLFxuICAgIGFjY291bnQ6IG1lbW9pemVkQWNjb3VudFZhbHVlLFxuICAgIGNoYWluSWQ6IG1lbW9pemVkQ2hhaW5JZFZhbHVlLFxuICAgIGNvbm5lY3RXYWxsZXQsXG4gICAgaXNDb25uZWN0aW5nLFxuICAgIGlzQ29ubmVjdGVkOiAhIW1lbW9pemVkQWNjb3VudFZhbHVlLFxuICAgIGVycm9yXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUmVmIiwiZXRoZXJzIiwidXNlV2ViMyIsInByb3ZpZGVyIiwic2V0UHJvdmlkZXIiLCJzaWduZXIiLCJzZXRTaWduZXIiLCJhY2NvdW50Iiwic2V0QWNjb3VudCIsImNoYWluSWQiLCJzZXRDaGFpbklkIiwiaXNDb25uZWN0aW5nIiwic2V0SXNDb25uZWN0aW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImFjY291bnRSZWYiLCJwcm92aWRlclJlZiIsInNpZ25lclJlZiIsImxhc3RDb25uZWN0aW9uQXR0ZW1wdFJlZiIsImluaXRXZWIzIiwiY29uc29sZSIsImxvZyIsInN1Y2Nlc3MiLCJub3ciLCJEYXRlIiwiY3VycmVudCIsIndpbmRvdyIsImV0aGVyZXVtIiwiRXJyb3IiLCJCcm93c2VyUHJvdmlkZXIiLCJhY2NvdW50cyIsInJlcXVlc3QiLCJtZXRob2QiLCJuZXR3b3JrIiwiZ2V0TmV0d29yayIsIk51bWJlciIsImdldFNpZ25lciIsImRhdGEiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiY29ubmVjdFdhbGxldCIsImhhbmRsZUFjY291bnRzQ2hhbmdlZCIsImxlbmd0aCIsIm5ld1NpZ25lciIsImhhbmRsZUNoYWluQ2hhbmdlZCIsImNoYWluSWRIZXgiLCJuZXdDaGFpbklkIiwicGFyc2VJbnQiLCJoYW5kbGVEaXNjb25uZWN0IiwiZ2V0QWNjb3VudHMiLCJvbiIsInJlbW92ZUxpc3RlbmVyIiwibWVtb2l6ZWRQcm92aWRlclZhbHVlIiwibWVtb2l6ZWRTaWduZXJWYWx1ZSIsIm1lbW9pemVkQWNjb3VudFZhbHVlIiwibWVtb2l6ZWRDaGFpbklkVmFsdWUiLCJpc0Nvbm5lY3RlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./hooks/useWeb3.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%2Fdashboard.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%2Fdashboard.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./pages/_app.tsx\");\n/* harmony import */ var _pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/dashboard.tsx */ \"(pages-dir-node)/./pages/dashboard.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/dashboard\",\n        pathname: \"/dashboard\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_dashboard_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZkYXNoYm9hcmQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmRhc2hib2FyZC50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RjtBQUNoQztBQUNFO0FBQzFEO0FBQ3lEO0FBQ1Y7QUFDL0M7QUFDa0Q7QUFDbEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLGlEQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLGlEQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLGlEQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyxpREFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyxpREFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLGlEQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLGlEQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLGlEQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLGlEQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLGlEQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLGtHQUFnQjtBQUMvQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYSw4REFBVztBQUN4QixrQkFBa0Isb0VBQWdCO0FBQ2xDLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxpQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCAqIGFzIGRvY3VtZW50IGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2RvY3VtZW50XCI7XG5pbXBvcnQgKiBhcyBhcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9kYXNoYm9hcmQudHN4XCI7XG4vLyBSZS1leHBvcnQgdGhlIGNvbXBvbmVudCAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U2VydmVyU2lkZVByb3BzJyk7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgJ3JlcG9ydFdlYlZpdGFscycpO1xuLy8gUmUtZXhwb3J0IGxlZ2FjeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFNlcnZlclByb3BzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9kYXNoYm9hcmRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2Rhc2hib2FyZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgLy8gZGVmYXVsdCBleHBvcnQgbWlnaHQgbm90IGV4aXN0IHdoZW4gb3B0aW1pemVkIGZvciBkYXRhIG9ubHlcbiAgICAgICAgQXBwOiBhcHAuZGVmYXVsdCxcbiAgICAgICAgRG9jdW1lbnQ6IGRvY3VtZW50LmRlZmF1bHRcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%2Fdashboard.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"(pages-dir-node)/./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_hot_toast__WEBPACK_IMPORTED_MODULE_3__]);\nreact_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nfunction App({ Component, pageProps }) {\n    const [isOnline, setIsOnline] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"App.useEffect\": ()=>{\n            // Check initial online status\n            setIsOnline(typeof navigator !== 'undefined' ? navigator.onLine : true);\n            // Add event listeners for online/offline status\n            const handleOnline = {\n                \"App.useEffect.handleOnline\": ()=>{\n                    setIsOnline(true);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Подключение к сети восстановлено!');\n                }\n            }[\"App.useEffect.handleOnline\"];\n            const handleOffline = {\n                \"App.useEffect.handleOffline\": ()=>{\n                    setIsOnline(false);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Отсутствует подключение к интернету. Некоторые функции могут быть недоступны.');\n                }\n            }[\"App.useEffect.handleOffline\"];\n            window.addEventListener('online', handleOnline);\n            window.addEventListener('offline', handleOffline);\n            return ({\n                \"App.useEffect\": ()=>{\n                    window.removeEventListener('online', handleOnline);\n                    window.removeEventListener('offline', handleOffline);\n                }\n            })[\"App.useEffect\"];\n        }\n    }[\"App.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.Toaster, {\n                position: \"top-right\",\n                toastOptions: {\n                    duration: 6000,\n                    style: {\n                        borderRadius: '8px',\n                        background: '#333',\n                        color: '#fff'\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/_app.tsx\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, this),\n            !isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-0 left-0 right-0 bg-red-500 text-white text-center py-2 z-50\",\n                children: \"Вы не подключены к интернету. Работаем в оффлайн режиме.\"\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/_app.tsx\",\n                lineNumber: 47,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/_app.tsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL19hcHAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUVhO0FBQ0s7QUFFbEMsU0FBU0ksSUFBSSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBWTtJQUM1RCxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1AsK0NBQVFBLENBQUM7SUFFekNELGdEQUFTQTt5QkFBQztZQUNSLDhCQUE4QjtZQUM5QlEsWUFBWSxPQUFPQyxjQUFjLGNBQWNBLFVBQVVDLE1BQU0sR0FBRztZQUVsRSxnREFBZ0Q7WUFDaEQsTUFBTUM7OENBQWU7b0JBQ25CSCxZQUFZO29CQUNaTCxrREFBS0EsQ0FBQ1MsT0FBTyxDQUFDO2dCQUNoQjs7WUFFQSxNQUFNQzsrQ0FBZ0I7b0JBQ3BCTCxZQUFZO29CQUNaTCxrREFBS0EsQ0FBQ1csS0FBSyxDQUFDO2dCQUNkOztZQUVBQyxPQUFPQyxnQkFBZ0IsQ0FBQyxVQUFVTDtZQUNsQ0ksT0FBT0MsZ0JBQWdCLENBQUMsV0FBV0g7WUFFbkM7aUNBQU87b0JBQ0xFLE9BQU9FLG1CQUFtQixDQUFDLFVBQVVOO29CQUNyQ0ksT0FBT0UsbUJBQW1CLENBQUMsV0FBV0o7Z0JBQ3hDOztRQUNGO3dCQUFHLEVBQUU7SUFFTCxxQkFDRTs7MEJBQ0UsOERBQUNYLG9EQUFPQTtnQkFDTmdCLFVBQVM7Z0JBQ1RDLGNBQWM7b0JBQ1pDLFVBQVU7b0JBQ1ZDLE9BQU87d0JBQ0xDLGNBQWM7d0JBQ2RDLFlBQVk7d0JBQ1pDLE9BQU87b0JBQ1Q7Z0JBQ0Y7Ozs7OztZQUVELENBQUNqQiwwQkFDQSw4REFBQ2tCO2dCQUFJQyxXQUFVOzBCQUF5RTs7Ozs7OzBCQUkxRiw4REFBQ3JCO2dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7O0FBRzlCIiwic291cmNlcyI6WyIvVXNlcnMvYWxkaXlhcmJvbGVnZW5vdi90ZW5kZXIvZnJvbnRlbmQvcGFnZXMvX2FwcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnO1xuaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUb2FzdGVyLCB0b2FzdCB9IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIGNvbnN0IFtpc09ubGluZSwgc2V0SXNPbmxpbmVdID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDaGVjayBpbml0aWFsIG9ubGluZSBzdGF0dXNcbiAgICBzZXRJc09ubGluZSh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvci5vbkxpbmUgOiB0cnVlKTtcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIG9ubGluZS9vZmZsaW5lIHN0YXR1c1xuICAgIGNvbnN0IGhhbmRsZU9ubGluZSA9ICgpID0+IHtcbiAgICAgIHNldElzT25saW5lKHRydWUpO1xuICAgICAgdG9hc3Quc3VjY2Vzcygn0J/QvtC00LrQu9GO0YfQtdC90LjQtSDQuiDRgdC10YLQuCDQstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QviEnKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZU9mZmxpbmUgPSAoKSA9PiB7XG4gICAgICBzZXRJc09ubGluZShmYWxzZSk7XG4gICAgICB0b2FzdC5lcnJvcign0J7RgtGB0YPRgtGB0YLQstGD0LXRgiDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INC6INC40L3RgtC10YDQvdC10YLRgy4g0J3QtdC60L7RgtC+0YDRi9C1INGE0YPQvdC60YbQuNC4INC80L7Qs9GD0YIg0LHRi9GC0Ywg0L3QtdC00L7RgdGC0YPQv9C90YsuJyk7XG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGhhbmRsZU9mZmxpbmUpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBoYW5kbGVPbmxpbmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBoYW5kbGVPZmZsaW5lKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFRvYXN0ZXIgXG4gICAgICAgIHBvc2l0aW9uPVwidG9wLXJpZ2h0XCJcbiAgICAgICAgdG9hc3RPcHRpb25zPXt7XG4gICAgICAgICAgZHVyYXRpb246IDYwMDAsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsIFxuICAgICAgICAgICAgYmFja2dyb3VuZDogJyMzMzMnLCBcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICB7IWlzT25saW5lICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBiZy1yZWQtNTAwIHRleHQtd2hpdGUgdGV4dC1jZW50ZXIgcHktMiB6LTUwXCI+XG4gICAgICAgICAg0JLRiyDQvdC1INC/0L7QtNC60LvRjtGH0LXQvdGLINC6INC40L3RgtC10YDQvdC10YLRgy4g0KDQsNCx0L7RgtCw0LXQvCDQsiDQvtGE0YTQu9Cw0LnQvSDRgNC10LbQuNC80LUuXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICA8Lz5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVG9hc3RlciIsInRvYXN0IiwiQXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIiwiaXNPbmxpbmUiLCJzZXRJc09ubGluZSIsIm5hdmlnYXRvciIsIm9uTGluZSIsImhhbmRsZU9ubGluZSIsInN1Y2Nlc3MiLCJoYW5kbGVPZmZsaW5lIiwiZXJyb3IiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBvc2l0aW9uIiwidG9hc3RPcHRpb25zIiwiZHVyYXRpb24iLCJzdHlsZSIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJjb2xvciIsImRpdiIsImNsYXNzTmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/_app.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/dashboard.tsx":
/*!*****************************!*\
  !*** ./pages/dashboard.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Dashboard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(pages-dir-node)/./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useWeb3 */ \"(pages-dir-node)/./hooks/useWeb3.ts\");\n/* harmony import */ var _hooks_useTenderAPI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useTenderAPI */ \"(pages-dir-node)/./hooks/useTenderAPI.ts\");\n/* harmony import */ var _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../hooks/useContractTender */ \"(pages-dir-node)/./hooks/useContractTender.ts\");\n/* harmony import */ var _components_Navbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Navbar */ \"(pages-dir-node)/./components/Navbar.tsx\");\n/* harmony import */ var _components_TenderModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/TenderModal */ \"(pages-dir-node)/./components/TenderModal.tsx\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ethers */ \"ethers\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__, _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_5__, _components_Navbar__WEBPACK_IMPORTED_MODULE_6__, _components_TenderModal__WEBPACK_IMPORTED_MODULE_7__, ethers__WEBPACK_IMPORTED_MODULE_8__]);\n([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__, _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_5__, _components_Navbar__WEBPACK_IMPORTED_MODULE_6__, _components_TenderModal__WEBPACK_IMPORTED_MODULE_7__, ethers__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n// Helper functions\nconst extractNumberFromDescription = (description, prefix)=>{\n    const match = description.match(new RegExp(`${prefix}\\\\s*(\\\\d+)`));\n    return match ? parseInt(match[1], 10) : null;\n};\nconst extractStringFromDescription = (description, prefix)=>{\n    const match = description.match(new RegExp(`${prefix}\\\\s*([\\\\w]+)`));\n    return match ? match[1] : null;\n};\n// Объединяет тендеры из базы данных и блокчейна\nconst mergeTenders = (dbTenders, contractTenders)=>{\n    const mergedTenders = [\n        ...dbTenders\n    ].map((dbTender)=>{\n        // Проверяем, есть ли этот тендер в контракте (по ID)\n        const contractTender = contractTenders.find((ct)=>ct.id === dbTender.id);\n        if (contractTender) {\n            // Если есть в контракте, используем данные из контракта, но сохраняем некоторые поля из БД\n            return {\n                ...dbTender,\n                ...contractTender,\n                // Эти поля оставляем из БД, так как они могут быть более детальными или удобными для UI\n                title: contractTender.title || dbTender.title,\n                description: contractTender.description || dbTender.description,\n                // Явно указываем, что тендер из блокчейна, установив числовой ID\n                fromBlockchain: true\n            };\n        }\n        // Если нет в контракте, преобразуем формат для совместимости\n        return {\n            ...dbTender,\n            distance: extractNumberFromDescription(dbTender.description, 'Расстояние:') || 0,\n            weight: extractNumberFromDescription(dbTender.description, 'Вес:') || 0,\n            cargoType: extractStringFromDescription(dbTender.description, 'Тип груза:') || 'general',\n            urgencyDays: extractNumberFromDescription(dbTender.description, 'Срок доставки:') || 0,\n            creator: dbTender.creator?.walletAddress || '',\n            bidder: '',\n            expiresAt: new Date(Date.now() + 10 * 60 * 1000).toISOString(),\n            fromBlockchain: false // Явно указываем, что тендер НЕ из блокчейна\n        };\n    });\n    // Добавляем тендеры из контракта, которых нет в БД\n    contractTenders.forEach((contractTender)=>{\n        if (!dbTenders.some((dbTender)=>dbTender.id === contractTender.id)) {\n            // Transform contract tender to match DB tender format\n            mergedTenders.push({\n                ...contractTender,\n                creatorId: contractTender.creator,\n                updatedAt: contractTender.createdAt,\n                creator: {\n                    walletAddress: contractTender.creator\n                },\n                fromBlockchain: true // Явно указываем, что тендер из блокчейна\n            });\n        }\n    });\n    return mergedTenders;\n};\n// Generate mock tenders in case API/contract is unavailable\nconst getMockTenders = ()=>{\n    return [\n        {\n            id: 'mock-1',\n            title: 'Демо тендер #1',\n            description: 'Расстояние: 1000 км, Вес: 500 кг, Тип груза: perishable, Срок доставки: 3 дня',\n            budget: 1500,\n            deadline: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n            distance: 1000,\n            weight: 500,\n            cargoType: 'perishable',\n            urgencyDays: 3,\n            creator: '0x123456789abcdef',\n            bidder: '',\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n            fromBlockchain: false\n        },\n        {\n            id: 'mock-2',\n            title: 'Демо тендер #2',\n            description: 'Расстояние: 500 км, Вес: 1000 кг, Тип груза: general, Срок доставки: 5 дней',\n            budget: 2000,\n            deadline: new Date(Date.now() + 10 * 24 * 60 * 60 * 1000).toISOString(),\n            distance: 500,\n            weight: 1000,\n            cargoType: 'general',\n            urgencyDays: 5,\n            creator: '0x987654321fedcba',\n            bidder: '',\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            expiresAt: new Date(Date.now() + 48 * 60 * 60 * 1000).toISOString(),\n            fromBlockchain: false\n        }\n    ];\n};\nfunction Dashboard() {\n    const { account } = (0,_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__.useWeb3)();\n    const tenderAPI = (0,_hooks_useTenderAPI__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n    const contractTender = (0,_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n    // Track contract availability separately with a ref to ensure stable comparisons\n    const [isContractReady, setIsContractReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const contractReadyRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const lastContractCheckRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const [tenders, setTenders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const isLoadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [filterMode, setFilterMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');\n    const [timeLeftMap, setTimeLeftMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    const [hasAttemptedFetch, setHasAttemptedFetch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const hasAttemptedFetchRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [contractWarning, setContractWarning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [urgentTenders, setUrgentTenders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    const [directContractAttempted, setDirectContractAttempted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Модальное окно для деталей тендера\n    const [selectedTender, setSelectedTender] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Direct contract interaction attempt as a last resort\n    const tryDirectContractAccess = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Dashboard.useCallback[tryDirectContractAccess]\": async ()=>{\n            if (directContractAttempted) return false;\n            console.log(\"Attempting direct contract access as last resort\");\n            setDirectContractAttempted(true);\n            try {\n                if (true) {\n                    console.warn(\"No window.ethereum available for direct access\");\n                    return false;\n                }\n                const CONTRACT_ADDRESS = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\";\n                if (!CONTRACT_ADDRESS) {\n                    console.error(\"No contract address available\");\n                    return false;\n                }\n                // Try to create provider and connect directly to contract\n                const browserProvider = new ethers__WEBPACK_IMPORTED_MODULE_8__.ethers.BrowserProvider(window.ethereum);\n                const accounts = await browserProvider.send('eth_requestAccounts', []);\n                if (!accounts || accounts.length === 0) {\n                    console.warn(\"No accounts available\");\n                    return false;\n                }\n                const signer = await browserProvider.getSigner();\n                console.log(\"Direct access - got signer with address:\", await signer.getAddress());\n                // ABI for TenderChain contract\n                const abi = [\n                    \"function getActiveTenders() public view returns (uint256[] memory)\",\n                    \"function getTender(uint256 _id) public view returns (uint256 id, string title, string description, uint256 budget, uint256 deadline, uint256 distance, uint256 weight, string cargoType, uint256 urgencyDays, address creator, address bidder, uint8 status, uint256 createdAt, uint256 expiresAt)\"\n                ];\n                const directContract = new ethers__WEBPACK_IMPORTED_MODULE_8__.ethers.Contract(CONTRACT_ADDRESS, abi, signer);\n                // Try to get active tenders\n                console.log(\"Direct access - calling getActiveTenders\");\n                const activeTenderIds = await directContract.getActiveTenders();\n                console.log(\"Direct access - received tender IDs:\", activeTenderIds);\n                if (!activeTenderIds || activeTenderIds.length === 0) {\n                    console.log(\"Direct access - no active tenders found\");\n                    return true; // Consider this a success as we confirmed connection works\n                }\n                // Process each tender\n                const directTenders = await Promise.all(activeTenderIds.map({\n                    \"Dashboard.useCallback[tryDirectContractAccess]\": async (id)=>{\n                        try {\n                            const tenderData = await directContract.getTender(id);\n                            return {\n                                id: tenderData.id.toString(),\n                                title: tenderData.title,\n                                description: tenderData.description,\n                                budget: parseFloat(ethers__WEBPACK_IMPORTED_MODULE_8__.ethers.formatEther(tenderData.budget)),\n                                deadline: new Date(tenderData.deadline * 1000).toISOString(),\n                                distance: tenderData.distance,\n                                weight: tenderData.weight,\n                                cargoType: tenderData.cargoType,\n                                urgencyDays: tenderData.urgencyDays,\n                                creator: tenderData.creator,\n                                bidder: tenderData.bidder,\n                                status: [\n                                    'OPEN',\n                                    'CLOSED',\n                                    'AWARDED',\n                                    'COMPLETED',\n                                    'CANCELLED'\n                                ][tenderData.status],\n                                createdAt: new Date(tenderData.createdAt * 1000).toISOString(),\n                                expiresAt: new Date(tenderData.expiresAt * 1000).toISOString(),\n                                fromBlockchain: true\n                            };\n                        } catch (err) {\n                            console.error(`Error fetching tender ${id} directly:`, err);\n                            return null;\n                        }\n                    }\n                }[\"Dashboard.useCallback[tryDirectContractAccess]\"]));\n                // Filter out failed tenders\n                const validTenders = directTenders.filter({\n                    \"Dashboard.useCallback[tryDirectContractAccess].validTenders\": (tender)=>tender !== null\n                }[\"Dashboard.useCallback[tryDirectContractAccess].validTenders\"]);\n                console.log(\"Direct access - successfully loaded tenders:\", validTenders.length);\n                if (validTenders.length > 0) {\n                    setTenders(validTenders);\n                    setError(null);\n                    setContractWarning(\"Смарт-контракт доступен через прямое подключение. Используем данные напрямую из блокчейна.\");\n                    setIsLoading(false);\n                    isLoadingRef.current = false;\n                    return true;\n                }\n                return false;\n            } catch (error) {\n                console.error(\"Direct contract access failed:\", error);\n                return false;\n            }\n        }\n    }[\"Dashboard.useCallback[tryDirectContractAccess]\"], [\n        directContractAttempted\n    ]);\n    // Мемоизированная функция для объединения тендеров\n    const memoizedMergeTenders = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(mergeTenders, []);\n    // Мемоизированные ссылки на методы контракта\n    const getActiveTendersMethod = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Dashboard.useCallback[getActiveTendersMethod]\": ()=>{\n            return contractTender.getActiveTenders;\n        }\n    }[\"Dashboard.useCallback[getActiveTendersMethod]\"], [\n        contractTender.getActiveTenders\n    ]);\n    const isContractAvailableRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(contractTender.isContractAvailable);\n    // Обновляем ref для стабильного сравнения\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            isContractAvailableRef.current = contractTender.isContractAvailable;\n        }\n    }[\"Dashboard.useEffect\"], [\n        contractTender.isContractAvailable\n    ]);\n    // Force loading to be false after 10 seconds to prevent endless loading\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            const timer = setTimeout({\n                \"Dashboard.useEffect.timer\": ()=>{\n                    if (isLoading) {\n                        console.log(\"Dashboard: Forcing loading to stop after timeout\");\n                        // Try direct contract access as last resort before showing mocks\n                        tryDirectContractAccess().then({\n                            \"Dashboard.useEffect.timer\": (success)=>{\n                                if (!success) {\n                                    setIsLoading(false);\n                                    isLoadingRef.current = false;\n                                    // If we haven't loaded any tenders, set some mock ones\n                                    if (tenders.length === 0) {\n                                        console.log(\"No tenders loaded, setting mock tenders\");\n                                        setTenders(getMockTenders());\n                                        setContractWarning('Тайм-аут при загрузке данных. Показываем демо-тендеры.');\n                                    }\n                                }\n                            }\n                        }[\"Dashboard.useEffect.timer\"]);\n                    }\n                }\n            }[\"Dashboard.useEffect.timer\"], 8000);\n            return ({\n                \"Dashboard.useEffect\": ()=>clearTimeout(timer)\n            })[\"Dashboard.useEffect\"];\n        }\n    }[\"Dashboard.useEffect\"], [\n        isLoading,\n        tenders,\n        tryDirectContractAccess\n    ]);\n    // Update refs when states change to avoid stale closures\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            isLoadingRef.current = isLoading;\n        }\n    }[\"Dashboard.useEffect\"], [\n        isLoading\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            hasAttemptedFetchRef.current = hasAttemptedFetch;\n        }\n    }[\"Dashboard.useEffect\"], [\n        hasAttemptedFetch\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            contractReadyRef.current = isContractReady;\n        }\n    }[\"Dashboard.useEffect\"], [\n        isContractReady\n    ]);\n    // Функция для загрузки тендеров из API и смарт-контракта\n    const fetchTenders = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Dashboard.useCallback[fetchTenders]\": async (forceRefresh = false)=>{\n            if (isLoadingRef.current && !forceRefresh) {\n                console.log(\"Already loading tenders, skipping fetchTenders call\");\n                return;\n            }\n            console.log('Fetching tenders, force refresh:', forceRefresh);\n            setIsLoading(true);\n            isLoadingRef.current = true;\n            setError(null);\n            setContractWarning(null);\n            // Get current contract availability for consistent usage throughout function\n            const contractAvailable = isContractAvailableRef.current;\n            const getActiveTenders = getActiveTendersMethod();\n            let apiError = false;\n            let contractResponse = {\n                success: false,\n                data: undefined,\n                error: undefined\n            };\n            try {\n                // Check network connectivity first\n                if (typeof navigator !== 'undefined' && !navigator.onLine) {\n                    console.warn('Browser reports network is offline, using mock data');\n                    setContractWarning('Вы не подключены к интернету. Показываем локальные данные.');\n                    setTenders(getMockTenders());\n                    return;\n                }\n                // Пробуем получить тендеры из БД\n                console.log('Fetching tenders from API...');\n                let dbTenders = [];\n                try {\n                    const controller = new AbortController();\n                    const timeoutId = setTimeout({\n                        \"Dashboard.useCallback[fetchTenders].timeoutId\": ()=>controller.abort()\n                    }[\"Dashboard.useCallback[fetchTenders].timeoutId\"], 10000); // 10 seconds timeout\n                    // Use API without signal parameter\n                    const response = await tenderAPI.getTenders();\n                    clearTimeout(timeoutId);\n                    if (response.data) {\n                        dbTenders = response.data;\n                        console.log(`Loaded ${dbTenders.length} tenders from API`);\n                    } else {\n                        console.warn('API returned no tenders or error', response);\n                        apiError = true;\n                        if (response.error) {\n                            console.warn('API error:', response.error);\n                            if (response.error.includes('Failed to fetch') || response.error.includes('network') || response.error.includes('offline')) {\n                                setContractWarning('Проблема с подключением к серверу. Пробуем использовать локальные данные.');\n                            }\n                        }\n                    }\n                } catch (apiErr) {\n                    console.warn('Error fetching from API:', apiErr);\n                    apiError = true;\n                }\n                // Пробуем получить тендеры из смарт-контракта только если он доступен\n                let contractTenders = [];\n                if (contractAvailable && getActiveTenders) {\n                    console.log('Fetching tenders from smart contract...');\n                    try {\n                        contractResponse = await getActiveTenders();\n                        if (contractResponse.success && Array.isArray(contractResponse.data)) {\n                            contractTenders = contractResponse.data.filter(Boolean); // Filter out nulls\n                            console.log(`Loaded ${contractTenders.length} tenders from smart contract`);\n                        } else {\n                            console.warn('Contract returned no tenders or error', contractResponse);\n                        }\n                    } catch (contractErr) {\n                        console.error('Error fetching from contract:', contractErr);\n                    }\n                } else {\n                    console.log('Smart contract not available, skipping blockchain fetch');\n                }\n                // Объединяем тендеры из обоих источников\n                let allTenders = [];\n                if (dbTenders.length > 0 && contractTenders.length > 0) {\n                    // Если есть данные и из БД, и из контракта\n                    allTenders = memoizedMergeTenders(dbTenders, contractTenders);\n                } else if (dbTenders.length > 0) {\n                    // Если есть только данные из БД\n                    allTenders = dbTenders.map({\n                        \"Dashboard.useCallback[fetchTenders]\": (tender)=>({\n                                ...tender,\n                                distance: extractNumberFromDescription(tender.description, 'Расстояние:') || 0,\n                                weight: extractNumberFromDescription(tender.description, 'Вес:') || 0,\n                                cargoType: extractStringFromDescription(tender.description, 'Тип груза:') || 'general',\n                                urgencyDays: extractNumberFromDescription(tender.description, 'Срок доставки:') || 0,\n                                creator: tender.creator?.walletAddress || '',\n                                bidder: '',\n                                expiresAt: tender.expiresAt || new Date(Date.now() + 10 * 60 * 1000).toISOString(),\n                                fromBlockchain: false // Явно указываем, что тендер НЕ из блокчейна\n                            })\n                    }[\"Dashboard.useCallback[fetchTenders]\"]);\n                } else if (contractTenders.length > 0) {\n                    // Если есть только данные из контракта\n                    allTenders = contractTenders.map({\n                        \"Dashboard.useCallback[fetchTenders]\": (tender)=>({\n                                ...tender,\n                                fromBlockchain: true // Явно указываем, что тендер из блокчейна\n                            })\n                    }[\"Dashboard.useCallback[fetchTenders]\"]);\n                } else {\n                    // Если нет данных ни из БД, ни из контракта, используем демо-данные\n                    allTenders = getMockTenders();\n                    // Показываем предупреждение, если оно еще не установлено\n                    if (apiError && !contractAvailable) {\n                        setContractWarning('Не удалось получить данные ни из API, ни из смарт-контракта. Показываем демо-данные.');\n                    } else if (apiError) {\n                        setContractWarning('API недоступен. Показываем демо-тендеры.');\n                    } else if (!contractAvailable) {\n                        setContractWarning('Смарт-контракт недоступен. Показываем демо-тендеры.');\n                    } else {\n                        setContractWarning('Не удалось получить данные. Показываем демо-тендеры.');\n                    }\n                }\n                console.log('Loaded tenders:', {\n                    dbCount: dbTenders.length,\n                    contractCount: contractTenders.length,\n                    totalCount: allTenders.length\n                });\n                setTenders(allTenders);\n            } catch (error) {\n                console.error('Error fetching tenders:', error);\n                setError('Ошибка при загрузке тендеров');\n                // Показываем демо-данные в случае ошибки\n                setTenders(getMockTenders());\n            } finally{\n                console.log(\"Fetch tenders completed, setting loading to false\");\n                setIsLoading(false);\n                isLoadingRef.current = false;\n                setHasAttemptedFetch(true);\n                hasAttemptedFetchRef.current = true;\n            }\n        }\n    }[\"Dashboard.useCallback[fetchTenders]\"], [\n        tenderAPI,\n        getActiveTendersMethod,\n        memoizedMergeTenders,\n        extractNumberFromDescription,\n        extractStringFromDescription,\n        getMockTenders\n    ]);\n    // Update contract ready state when contract availability changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            const isAvailable = contractTender.isContractAvailable;\n            const now = Date.now();\n            // Debounce contract availability checks to prevent rapid switching\n            if (now - lastContractCheckRef.current < 5000) {\n                return;\n            }\n            lastContractCheckRef.current = now;\n            // Only log and update if the value actually changed\n            if (isAvailable !== isContractAvailableRef.current) {\n                console.log(\"Dashboard detected contract availability change:\", isAvailable);\n                console.log(\"Setting contract ready state to:\", isAvailable);\n                setIsContractReady(isAvailable);\n                isContractAvailableRef.current = isAvailable;\n                // If contract became available and we've already attempted a fetch, do another one\n                // Adding a delay to prevent rapid consecutive calls\n                if (isAvailable && hasAttemptedFetchRef.current && !isLoadingRef.current) {\n                    console.log(\"Contract became available, scheduling refresh\");\n                    const timerId = setTimeout({\n                        \"Dashboard.useEffect.timerId\": ()=>fetchTenders(true)\n                    }[\"Dashboard.useEffect.timerId\"], 1500);\n                    return ({\n                        \"Dashboard.useEffect\": ()=>clearTimeout(timerId)\n                    })[\"Dashboard.useEffect\"];\n                }\n            }\n        }\n    }[\"Dashboard.useEffect\"], [\n        contractTender.isContractAvailable,\n        fetchTenders\n    ]);\n    // Re-fetch when contract state changes, but with debouncing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            // Skip this effect if we haven't attempted a fetch yet or are currently loading\n            if (!hasAttemptedFetchRef.current || isLoadingRef.current) {\n                return;\n            }\n            // Use a ref to track if this effect has already run for the current state\n            const contractState = contractTender.isContractAvailable;\n            if (contractState === isContractAvailableRef.current) {\n                return;\n            }\n            // Update our ref for the next check\n            isContractAvailableRef.current = contractState;\n            // Add sufficient debounce to prevent hammering the blockchain\n            const refreshTimer = setTimeout({\n                \"Dashboard.useEffect.refreshTimer\": ()=>{\n                    console.log('Contract state changed, refreshing data after delay');\n                    fetchTenders(true);\n                }\n            }[\"Dashboard.useEffect.refreshTimer\"], 2000);\n            return ({\n                \"Dashboard.useEffect\": ()=>{\n                    clearTimeout(refreshTimer);\n                }\n            })[\"Dashboard.useEffect\"];\n        }\n    }[\"Dashboard.useEffect\"], [\n        contractTender.isContractAvailable,\n        fetchTenders\n    ]);\n    // Initial data load after component mount - with improved debouncing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            // Use a ref to track if this effect has already run\n            if (hasAttemptedFetchRef.current) {\n                return;\n            }\n            let isComponentMounted = true;\n            console.log(\"Dashboard mounted, scheduling initial fetch\");\n            // Ensure we always do the initial fetch after a brief delay\n            const timer = setTimeout({\n                \"Dashboard.useEffect.timer\": ()=>{\n                    if (!isComponentMounted) return;\n                    // Mark that we've attempted a fetch to prevent duplicate calls\n                    setHasAttemptedFetch(true);\n                    hasAttemptedFetchRef.current = true;\n                    console.log('Initial fetch timer triggered');\n                    // Update local tracking based on contract's current state\n                    const contractAvailable = contractTender.isContractAvailable;\n                    setIsContractReady(contractAvailable);\n                    contractReadyRef.current = contractAvailable;\n                    isContractAvailableRef.current = contractAvailable;\n                    try {\n                        fetchTenders(true);\n                    } catch (error) {\n                        console.error(\"Error during initial data fetch:\", error);\n                        // Fall back to mock data in case of error\n                        setTenders(getMockTenders());\n                        setContractWarning('Возникла ошибка при загрузке данных. Показываем демо-тендеры.');\n                    }\n                }\n            }[\"Dashboard.useEffect.timer\"], 1000);\n            return ({\n                \"Dashboard.useEffect\": ()=>{\n                    // Clean up timers and mark component as unmounted\n                    clearTimeout(timer);\n                    isComponentMounted = false;\n                }\n            })[\"Dashboard.useEffect\"];\n        }\n    }[\"Dashboard.useEffect\"], [\n        fetchTenders,\n        contractTender.isContractAvailable,\n        getMockTenders\n    ]);\n    // Обновление таймеров\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Dashboard.useEffect\": ()=>{\n            // Функция для обновления таймеров всех тендеров\n            const updateTimers = {\n                \"Dashboard.useEffect.updateTimers\": ()=>{\n                    if (!tenders.length) return;\n                    const now = Date.now();\n                    const newMap = new Map();\n                    const urgentMap = new Map();\n                    tenders.forEach({\n                        \"Dashboard.useEffect.updateTimers\": (tender)=>{\n                            if (tender.expiresAt) {\n                                const expiresAt = new Date(tender.expiresAt).getTime();\n                                const diffSeconds = Math.floor((expiresAt - now) / 1000);\n                                if (diffSeconds > 0) {\n                                    newMap.set(tender.id, diffSeconds);\n                                    // Отмечаем как срочный, если осталось менее 5 минут\n                                    urgentMap.set(tender.id, diffSeconds < 300);\n                                } else {\n                                    newMap.set(tender.id, 'Истек');\n                                    urgentMap.set(tender.id, false);\n                                }\n                            }\n                        }\n                    }[\"Dashboard.useEffect.updateTimers\"]);\n                    setTimeLeftMap(newMap);\n                    setUrgentTenders(urgentMap);\n                }\n            }[\"Dashboard.useEffect.updateTimers\"];\n            // Запускаем таймер для обновления каждую секунду\n            updateTimers(); // Первый запуск\n            const timer = setInterval(updateTimers, 1000);\n            return ({\n                \"Dashboard.useEffect\": ()=>clearInterval(timer)\n            })[\"Dashboard.useEffect\"];\n        }\n    }[\"Dashboard.useEffect\"], [\n        tenders\n    ]);\n    // Получаем отфильтрованные тендеры\n    const filteredTenders = tenders.filter((tender)=>{\n        if (filterMode === 'all') return true;\n        // Make sure account exists before comparing\n        if (!account) return false;\n        const creatorAddress = typeof tender.creator === 'string' ? tender.creator.toLowerCase() : tender.creator?.walletAddress?.toLowerCase?.();\n        if (filterMode === 'my' && creatorAddress) {\n            return creatorAddress === account.toLowerCase();\n        }\n        if (filterMode === 'available') {\n            return creatorAddress !== account.toLowerCase() && tender.status === 'OPEN' && (!tender.expiresAt || new Date(tender.expiresAt) > new Date());\n        }\n        return false;\n    });\n    // Функция для отображения деталей тендера\n    const showTenderDetails = (tender)=>{\n        // Подготовка данных тендера для отображения в модальном окне\n        const tenderDetails = {\n            id: tender.id,\n            title: tender.title,\n            description: tender.description,\n            budget: tender.budget,\n            deadline: tender.deadline,\n            status: tender.status,\n            createdAt: tender.createdAt,\n            expiresAt: tender.expiresAt,\n            distance: tender.distance,\n            weight: tender.weight,\n            cargoType: tender.cargoType,\n            urgencyDays: tender.urgencyDays,\n            creator: tender.creator?.walletAddress || tender.creator,\n            timeLeft: timeLeftMap.get(tender.id)?.toString() || '',\n            fromBlockchain: tender.fromBlockchain\n        };\n        setSelectedTender(tenderDetails);\n        setIsModalOpen(true);\n    };\n    // Компонент для отображения тендера в интерфейсе\n    const renderTender = (tender)=>{\n        // Определяем классы для статуса тендера\n        const statusClasses = tender.status === 'OPEN' ? 'bg-green-100 text-green-800' : tender.status === 'AWARDED' ? 'bg-blue-100 text-blue-800' : tender.status === 'COMPLETED' ? 'bg-purple-100 text-purple-800' : tender.status === 'CANCELLED' ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-800';\n        // Определяем текст статуса\n        const statusText = tender.status === 'OPEN' ? 'Открыт' : tender.status === 'AWARDED' ? 'Присужден' : tender.status === 'COMPLETED' ? 'Завершен' : tender.status === 'CANCELLED' ? 'Отменен' : 'Закрыт';\n        // Добавляем кнопку быстрого просмотра\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-md p-4 mb-4 hover:shadow-lg transition-shadow\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-start mb-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-xl font-semibold\",\n                            children: tender.title\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 678,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `text-xs font-medium px-2.5 py-0.5 rounded ${statusClasses}`,\n                            children: statusText\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 679,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 677,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-700 mb-3\",\n                    children: tender.description.length > 100 ? `${tender.description.substring(0, 100)}...` : tender.description\n                }, void 0, false, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 684,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-2 gap-4 mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Бюджет:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 692,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"font-bold text-green-600\",\n                                    children: [\n                                        \"$\",\n                                        tender.budget\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 693,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 691,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Расстояние:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 696,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"font-medium\",\n                                    children: [\n                                        tender.distance || 'Не указано',\n                                        \" км\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 697,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 695,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Вес груза:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 700,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"font-medium\",\n                                    children: [\n                                        tender.weight || 'Не указано',\n                                        \" кг\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 701,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 699,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Срок доставки:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 704,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"font-medium\",\n                                    children: [\n                                        tender.urgencyDays || 'Не указано',\n                                        \" дней\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 705,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 703,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 690,\n                    columnNumber: 9\n                }, this),\n                tender.status === 'OPEN' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4 bg-yellow-50 border border-yellow-200 rounded-md p-2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-yellow-800 text-sm\",\n                        children: [\n                            \"Осталось: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-bold\",\n                                children: timeLeftMap.get(tender.id) || 'Н/Д'\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 712,\n                                columnNumber: 25\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 711,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 710,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs text-gray-500\",\n                            children: [\n                                \"Создатель: \",\n                                tender.creator?.walletAddress?.slice(0, 6) || tender.creator?.slice(0, 6),\n                                \"...\",\n                                tender.creator?.walletAddress?.slice(-4) || tender.creator?.slice(-4)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 718,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex space-x-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>showTenderDetails(tender),\n                                    className: \"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\",\n                                    children: \"Подробнее\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 724,\n                                    columnNumber: 13\n                                }, this),\n                                tender.status === 'OPEN' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>showTenderDetails(tender),\n                                    className: \"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors\",\n                                    children: \"Участвовать\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                    lineNumber: 732,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 723,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 717,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, tender.id, true, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n            lineNumber: 676,\n            columnNumber: 7\n        }, this);\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-100\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Navbar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 748,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto px-4 py-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-center items-center h-64\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                            lineNumber: 751,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 750,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 749,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n            lineNumber: 747,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-100\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Navbar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 761,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto px-4 py-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",\n                        role: \"alert\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"font-bold\",\n                                children: \"Ошибка!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 764,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"block sm:inline\",\n                                children: [\n                                    \" \",\n                                    error\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 765,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"font-bold\",\n                                        children: \"Возможные решения:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 767,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"list-disc pl-5 mt-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Убедитесь, что API-сервер запущен и доступен\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                lineNumber: 769,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Проверьте сетевое соединение\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                lineNumber: 770,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Убедитесь, что URL API указан верно в .env файле\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                lineNumber: 771,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"Попробуйте перезагрузить страницу\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                lineNumber: 772,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 768,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 766,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 763,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                    lineNumber: 762,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n            lineNumber: 760,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-100\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Navbar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                lineNumber: 783,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto px-4 py-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-6\",\n                        children: \"Доступные тендеры\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 785,\n                        columnNumber: 9\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 788,\n                        columnNumber: 11\n                    }, this),\n                    contractWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4\",\n                        children: contractWarning\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 794,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-100 border border-gray-400 text-gray-700 px-4 py-3 rounded mb-4 text-xs\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-bold\",\n                                children: \"Отладочная информация:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 801,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Адрес контракта: \",\n                                    \"0x5FbDB2315678afecb367f032d93F642f64180aa3\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 802,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Кошелек подключен: \",\n                                    account ? 'Да' : 'Нет'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 803,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Доступность контракта: \",\n                                    contractTender.isContractAvailable ? 'Доступен' : 'Недоступен'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 804,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Статус контракта: \",\n                                    contractTender.contractStatus\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 805,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Ошибка контракта: \",\n                                    contractTender.error || 'Нет'\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 806,\n                                columnNumber: 11\n                            }, this),\n                            contractTender.contractErrorDetails && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \"Детали ошибки: \",\n                                    contractTender.contractErrorDetails\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 808,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>contractTender.forceContractInitialization(),\n                                        className: \"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none\",\n                                        children: \"Переподключиться к контракту\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 811,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>window.location.reload(),\n                                        className: \"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 focus:outline-none\",\n                                        children: \"Обновить страницу\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 817,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 810,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 800,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col md:flex-row justify-between items-center mb-8 gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-3xl font-bold text-gray-900\",\n                                        children: \"Тендеры\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 828,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>fetchTenders(true),\n                                        className: \"ml-3 p-2 rounded-full hover:bg-gray-200 transition-colors\",\n                                        title: \"Обновить\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5 text-gray-600\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: \"2\",\n                                                d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                lineNumber: 835,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                            lineNumber: 834,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 829,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 827,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex space-x-2 items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-white rounded-lg shadow-sm overflow-hidden\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex divide-x\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setFilterMode('all'),\n                                                    className: `px-4 py-2 ${filterMode === 'all' ? 'bg-blue-500 text-white' : 'bg-white text-gray-700'}`,\n                                                    children: \"Все\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                    lineNumber: 843,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setFilterMode('my'),\n                                                    className: `px-4 py-2 ${filterMode === 'my' ? 'bg-blue-500 text-white' : 'bg-white text-gray-700'}`,\n                                                    children: \"Мои\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                    lineNumber: 849,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>setFilterMode('available'),\n                                                    className: `px-4 py-2 ${filterMode === 'available' ? 'bg-blue-500 text-white' : 'bg-white text-gray-700'}`,\n                                                    children: \"Доступные\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                                    lineNumber: 855,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                            lineNumber: 842,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 841,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/tender/create\",\n                                        className: \"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors\",\n                                        children: \"Создать тендер\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                        lineNumber: 864,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 840,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 826,\n                        columnNumber: 9\n                    }, this),\n                    filteredTenders.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-12\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-500 text-lg\",\n                                children: filterMode === 'all' ? 'Нет активных тендеров' : filterMode === 'my' ? 'У вас нет созданных тендеров' : 'Нет доступных тендеров'\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 875,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                href: \"/tender/create\",\n                                className: \"text-blue-500 hover:text-blue-600 mt-4 inline-block\",\n                                children: \"Создать новый тендер\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                                lineNumber: 880,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 874,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: filteredTenders.map(renderTender)\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                        lineNumber: 888,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                lineNumber: 784,\n                columnNumber: 7\n            }, this),\n            selectedTender && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_TenderModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                tender: selectedTender,\n                isOpen: isModalOpen,\n                onClose: ()=>setIsModalOpen(false),\n                onBidSubmitted: ()=>fetchTenders(true)\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n                lineNumber: 896,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/dashboard.tsx\",\n        lineNumber: 782,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SztnQ0FDTDVCLFdBQVU7MENBQ1g7Ozs7Ozs7Ozs7OzZDQUtILDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FDWlgsZ0JBQWdCbEosR0FBRyxDQUFDeUo7Ozs7Ozs7Ozs7OztZQU0xQmhHLGdDQUNDLDhEQUFDdEUsK0RBQVdBO2dCQUNWNEcsUUFBUXRDO2dCQUNSaUksUUFBUS9IO2dCQUNSZ0ksU0FBUyxJQUFNL0gsZUFBZTtnQkFDOUJnSSxnQkFBZ0IsSUFBTWxGLGFBQWE7Ozs7Ozs7Ozs7OztBQUs3QyIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZGl5YXJib2xlZ2Vub3YvdGVuZGVyL2Zyb250ZW5kL3BhZ2VzL2Rhc2hib2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgeyB1c2VXZWIzIH0gZnJvbSAnLi4vaG9va3MvdXNlV2ViMyc7XG5pbXBvcnQgdXNlVGVuZGVyQVBJLCB7IFRlbmRlciB9IGZyb20gJy4uL2hvb2tzL3VzZVRlbmRlckFQSSc7XG5pbXBvcnQgdXNlQ29udHJhY3RUZW5kZXIsIHsgQ29udHJhY3RUZW5kZXIgfSBmcm9tICcuLi9ob29rcy91c2VDb250cmFjdFRlbmRlcic7XG5pbXBvcnQgVGVuZGVyQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL1RlbmRlckNhcmQnO1xuaW1wb3J0IE5hdmJhciBmcm9tICcuLi9jb21wb25lbnRzL05hdmJhcic7XG5pbXBvcnQgVGVuZGVyTW9kYWwsIHsgVGVuZGVyRGV0YWlscyB9IGZyb20gJy4uL2NvbXBvbmVudHMvVGVuZGVyTW9kYWwnO1xuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJztcblxuLy8gSGVscGVyIGZ1bmN0aW9uc1xuY29uc3QgZXh0cmFjdE51bWJlckZyb21EZXNjcmlwdGlvbiA9IChkZXNjcmlwdGlvbjogc3RyaW5nLCBwcmVmaXg6IHN0cmluZyk6IG51bWJlciB8IG51bGwgPT4ge1xuICBjb25zdCBtYXRjaCA9IGRlc2NyaXB0aW9uLm1hdGNoKG5ldyBSZWdFeHAoYCR7cHJlZml4fVxcXFxzKihcXFxcZCspYCkpO1xuICByZXR1cm4gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSwgMTApIDogbnVsbDtcbn07XG5cbmNvbnN0IGV4dHJhY3RTdHJpbmdGcm9tRGVzY3JpcHRpb24gPSAoZGVzY3JpcHRpb246IHN0cmluZywgcHJlZml4OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBkZXNjcmlwdGlvbi5tYXRjaChuZXcgUmVnRXhwKGAke3ByZWZpeH1cXFxccyooW1xcXFx3XSspYCkpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7XG59O1xuXG4vLyBFeHRlbmRlZCBUZW5kZXIgdHlwZSB0aGF0IGluY2x1ZGVzIGJsb2NrY2hhaW4tc3BlY2lmaWMgZmllbGRzXG5pbnRlcmZhY2UgRXh0ZW5kZWRUZW5kZXIgZXh0ZW5kcyBUZW5kZXIge1xuICBkaXN0YW5jZT86IG51bWJlcjtcbiAgd2VpZ2h0PzogbnVtYmVyO1xuICBjYXJnb1R5cGU/OiBzdHJpbmc7XG4gIHVyZ2VuY3lEYXlzPzogbnVtYmVyO1xuICBjcmVhdG9yPzogYW55O1xuICBiaWRkZXI/OiBzdHJpbmc7XG4gIGV4cGlyZXNBdD86IHN0cmluZztcbiAgZnJvbUJsb2NrY2hhaW4/OiBib29sZWFuO1xufVxuXG4vLyBEZWZpbmUgQ29udHJhY3RSZXNwb25zZSBpbnRlcmZhY2UgbG9jYWxseVxuaW50ZXJmYWNlIENvbnRyYWN0UmVzcG9uc2U8VD4ge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBlcnJvcj86IHN0cmluZztcbiAgZGF0YT86IFQ7XG4gIGhhc2g/OiBzdHJpbmc7XG59XG5cbi8vINCe0LHRitC10LTQuNC90Y/QtdGCINGC0LXQvdC00LXRgNGLINC40Lcg0LHQsNC30Ysg0LTQsNC90L3Ri9GFINC4INCx0LvQvtC60YfQtdC50L3QsFxuY29uc3QgbWVyZ2VUZW5kZXJzID0gKGRiVGVuZGVyczogYW55W10sIGNvbnRyYWN0VGVuZGVyczogYW55W10pOiBhbnlbXSA9PiB7XG4gIGNvbnN0IG1lcmdlZFRlbmRlcnMgPSBbLi4uZGJUZW5kZXJzXS5tYXAoZGJUZW5kZXIgPT4ge1xuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0LXRgdGC0Ywg0LvQuCDRjdGC0L7RgiDRgtC10L3QtNC10YAg0LIg0LrQvtC90YLRgNCw0LrRgtC1ICjQv9C+IElEKVxuICAgIGNvbnN0IGNvbnRyYWN0VGVuZGVyID0gY29udHJhY3RUZW5kZXJzLmZpbmQoY3QgPT4gY3QuaWQgPT09IGRiVGVuZGVyLmlkKTtcbiAgICBcbiAgICBpZiAoY29udHJhY3RUZW5kZXIpIHtcbiAgICAgIC8vINCV0YHQu9C4INC10YHRgtGMINCyINC60L7QvdGC0YDQsNC60YLQtSwg0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0LTQsNC90L3Ri9C1INC40Lcg0LrQvtC90YLRgNCw0LrRgtCwLCDQvdC+INGB0L7RhdGA0LDQvdGP0LXQvCDQvdC10LrQvtGC0L7RgNGL0LUg0L/QvtC70Y8g0LjQtyDQkdCUXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kYlRlbmRlcixcbiAgICAgICAgLi4uY29udHJhY3RUZW5kZXIsXG4gICAgICAgIC8vINCt0YLQuCDQv9C+0LvRjyDQvtGB0YLQsNCy0LvRj9C10Lwg0LjQtyDQkdCULCDRgtCw0Log0LrQsNC6INC+0L3QuCDQvNC+0LPRg9GCINCx0YvRgtGMINCx0L7Qu9C10LUg0LTQtdGC0LDQu9GM0L3Ri9C80Lgg0LjQu9C4INGD0LTQvtCx0L3Ri9C80Lgg0LTQu9GPIFVJXG4gICAgICAgIHRpdGxlOiBjb250cmFjdFRlbmRlci50aXRsZSB8fCBkYlRlbmRlci50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGNvbnRyYWN0VGVuZGVyLmRlc2NyaXB0aW9uIHx8IGRiVGVuZGVyLmRlc2NyaXB0aW9uLFxuICAgICAgICAvLyDQr9Cy0L3QviDRg9C60LDQt9GL0LLQsNC10LwsINGH0YLQviDRgtC10L3QtNC10YAg0LjQtyDQsdC70L7QutGH0LXQudC90LAsINGD0YHRgtCw0L3QvtCy0LjQsiDRh9C40YHQu9C+0LLQvtC5IElEXG4gICAgICAgIGZyb21CbG9ja2NoYWluOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyDQldGB0LvQuCDQvdC10YIg0LIg0LrQvtC90YLRgNCw0LrRgtC1LCDQv9GA0LXQvtCx0YDQsNC30YPQtdC8INGE0L7RgNC80LDRgiDQtNC70Y8g0YHQvtCy0LzQtdGB0YLQuNC80L7RgdGC0LhcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZGJUZW5kZXIsXG4gICAgICBkaXN0YW5jZTogZXh0cmFjdE51bWJlckZyb21EZXNjcmlwdGlvbihkYlRlbmRlci5kZXNjcmlwdGlvbiwgJ9Cg0LDRgdGB0YLQvtGP0L3QuNC1OicpIHx8IDAsXG4gICAgICB3ZWlnaHQ6IGV4dHJhY3ROdW1iZXJGcm9tRGVzY3JpcHRpb24oZGJUZW5kZXIuZGVzY3JpcHRpb24sICfQktC10YE6JykgfHwgMCxcbiAgICAgIGNhcmdvVHlwZTogZXh0cmFjdFN0cmluZ0Zyb21EZXNjcmlwdGlvbihkYlRlbmRlci5kZXNjcmlwdGlvbiwgJ9Ci0LjQvyDQs9GA0YPQt9CwOicpIHx8ICdnZW5lcmFsJyxcbiAgICAgIHVyZ2VuY3lEYXlzOiBleHRyYWN0TnVtYmVyRnJvbURlc2NyaXB0aW9uKGRiVGVuZGVyLmRlc2NyaXB0aW9uLCAn0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuDonKSB8fCAwLFxuICAgICAgY3JlYXRvcjogZGJUZW5kZXIuY3JlYXRvcj8ud2FsbGV0QWRkcmVzcyB8fCAnJyxcbiAgICAgIGJpZGRlcjogJycsXG4gICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyAxMCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSwgLy8g0J/QviDRg9C80L7Qu9GH0LDQvdC40Y4gMTAg0LzQuNC90YPRglxuICAgICAgZnJvbUJsb2NrY2hhaW46IGZhbHNlIC8vINCv0LLQvdC+INGD0LrQsNC30YvQstCw0LXQvCwg0YfRgtC+INGC0LXQvdC00LXRgCDQndCVINC40Lcg0LHQu9C+0LrRh9C10LnQvdCwXG4gICAgfTtcbiAgfSk7XG4gIFxuICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0YLQtdC90LTQtdGA0Ysg0LjQtyDQutC+0L3RgtGA0LDQutGC0LAsINC60L7RgtC+0YDRi9GFINC90LXRgiDQsiDQkdCUXG4gIGNvbnRyYWN0VGVuZGVycy5mb3JFYWNoKGNvbnRyYWN0VGVuZGVyID0+IHtcbiAgICBpZiAoIWRiVGVuZGVycy5zb21lKGRiVGVuZGVyID0+IGRiVGVuZGVyLmlkID09PSBjb250cmFjdFRlbmRlci5pZCkpIHtcbiAgICAgIC8vIFRyYW5zZm9ybSBjb250cmFjdCB0ZW5kZXIgdG8gbWF0Y2ggREIgdGVuZGVyIGZvcm1hdFxuICAgICAgbWVyZ2VkVGVuZGVycy5wdXNoKHtcbiAgICAgICAgLi4uY29udHJhY3RUZW5kZXIsXG4gICAgICAgIGNyZWF0b3JJZDogY29udHJhY3RUZW5kZXIuY3JlYXRvcixcbiAgICAgICAgdXBkYXRlZEF0OiBjb250cmFjdFRlbmRlci5jcmVhdGVkQXQsIC8vIFVzZSBjcmVhdGVkQXQgYXMgdXBkYXRlZEF0IHNpbmNlIGNvbnRyYWN0IGRvZXNuJ3QgaGF2ZSB1cGRhdGVkQXRcbiAgICAgICAgY3JlYXRvcjoge1xuICAgICAgICAgIHdhbGxldEFkZHJlc3M6IGNvbnRyYWN0VGVuZGVyLmNyZWF0b3JcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbUJsb2NrY2hhaW46IHRydWUgLy8g0K/QstC90L4g0YPQutCw0LfRi9Cy0LDQtdC8LCDRh9GC0L4g0YLQtdC90LTQtdGAINC40Lcg0LHQu9C+0LrRh9C10LnQvdCwXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBcbiAgcmV0dXJuIG1lcmdlZFRlbmRlcnM7XG59O1xuXG4vLyBHZW5lcmF0ZSBtb2NrIHRlbmRlcnMgaW4gY2FzZSBBUEkvY29udHJhY3QgaXMgdW5hdmFpbGFibGVcbmNvbnN0IGdldE1vY2tUZW5kZXJzID0gKCk6IGFueVtdID0+IHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBpZDogJ21vY2stMScsXG4gICAgICB0aXRsZTogJ9CU0LXQvNC+INGC0LXQvdC00LXRgCAjMScsXG4gICAgICBkZXNjcmlwdGlvbjogJ9Cg0LDRgdGB0YLQvtGP0L3QuNC1OiAxMDAwINC60LwsINCS0LXRgTogNTAwINC60LMsINCi0LjQvyDQs9GA0YPQt9CwOiBwZXJpc2hhYmxlLCDQodGA0L7QuiDQtNC+0YHRgtCw0LLQutC4OiAzINC00L3RjycsXG4gICAgICBidWRnZXQ6IDE1MDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgZGlzdGFuY2U6IDEwMDAsXG4gICAgICB3ZWlnaHQ6IDUwMCxcbiAgICAgIGNhcmdvVHlwZTogJ3BlcmlzaGFibGUnLFxuICAgICAgdXJnZW5jeURheXM6IDMsXG4gICAgICBjcmVhdG9yOiAnMHgxMjM0NTY3ODlhYmNkZWYnLFxuICAgICAgYmlkZGVyOiAnJyxcbiAgICAgIHN0YXR1czogJ09QRU4nLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMiAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLCAvLyAyNCBob3VycyBpbnN0ZWFkIG9mIDEwIG1pbnV0ZXNcbiAgICAgIGZyb21CbG9ja2NoYWluOiBmYWxzZVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdtb2NrLTInLFxuICAgICAgdGl0bGU6ICfQlNC10LzQviDRgtC10L3QtNC10YAgIzInLFxuICAgICAgZGVzY3JpcHRpb246ICfQoNCw0YHRgdGC0L7Rj9C90LjQtTogNTAwINC60LwsINCS0LXRgTogMTAwMCDQutCzLCDQotC40L8g0LPRgNGD0LfQsDogZ2VuZXJhbCwg0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuDogNSDQtNC90LXQuScsXG4gICAgICBidWRnZXQ6IDIwMDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDEwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGRpc3RhbmNlOiA1MDAsXG4gICAgICB3ZWlnaHQ6IDEwMDAsXG4gICAgICBjYXJnb1R5cGU6ICdnZW5lcmFsJyxcbiAgICAgIHVyZ2VuY3lEYXlzOiA1LFxuICAgICAgY3JlYXRvcjogJzB4OTg3NjU0MzIxZmVkY2JhJyxcbiAgICAgIGJpZGRlcjogJycsXG4gICAgICBzdGF0dXM6ICdPUEVOJyxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgNDggKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSwgLy8gNDggaG91cnMgaW5zdGVhZCBvZiAxMCBtaW51dGVzXG4gICAgICBmcm9tQmxvY2tjaGFpbjogZmFsc2VcbiAgICB9XG4gIF07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEYXNoYm9hcmQoKSB7XG4gIGNvbnN0IHsgYWNjb3VudCB9ID0gdXNlV2ViMygpO1xuICBjb25zdCB0ZW5kZXJBUEkgPSB1c2VUZW5kZXJBUEkoKTtcbiAgY29uc3QgY29udHJhY3RUZW5kZXIgPSB1c2VDb250cmFjdFRlbmRlcigpO1xuICBcbiAgLy8gVHJhY2sgY29udHJhY3QgYXZhaWxhYmlsaXR5IHNlcGFyYXRlbHkgd2l0aCBhIHJlZiB0byBlbnN1cmUgc3RhYmxlIGNvbXBhcmlzb25zXG4gIGNvbnN0IFtpc0NvbnRyYWN0UmVhZHksIHNldElzQ29udHJhY3RSZWFkeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGNvbnRyYWN0UmVhZHlSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBsYXN0Q29udHJhY3RDaGVja1JlZiA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBcbiAgY29uc3QgW3RlbmRlcnMsIHNldFRlbmRlcnNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBpc0xvYWRpbmdSZWYgPSB1c2VSZWYodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmaWx0ZXJNb2RlLCBzZXRGaWx0ZXJNb2RlXSA9IHVzZVN0YXRlPCdhbGwnIHwgJ215JyB8ICdhdmFpbGFibGUnPignYWxsJyk7XG4gIGNvbnN0IFt0aW1lTGVmdE1hcCwgc2V0VGltZUxlZnRNYXBdID0gdXNlU3RhdGU8TWFwPHN0cmluZywgbnVtYmVyIHwgc3RyaW5nPj4obmV3IE1hcCgpKTtcbiAgY29uc3QgW2hhc0F0dGVtcHRlZEZldGNoLCBzZXRIYXNBdHRlbXB0ZWRGZXRjaF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGhhc0F0dGVtcHRlZEZldGNoUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgW2NvbnRyYWN0V2FybmluZywgc2V0Q29udHJhY3RXYXJuaW5nXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdXJnZW50VGVuZGVycywgc2V0VXJnZW50VGVuZGVyc10gPSB1c2VTdGF0ZTxNYXA8c3RyaW5nLCBib29sZWFuPj4obmV3IE1hcCgpKTtcbiAgY29uc3QgW2RpcmVjdENvbnRyYWN0QXR0ZW1wdGVkLCBzZXREaXJlY3RDb250cmFjdEF0dGVtcHRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0LTQu9GPINC00LXRgtCw0LvQtdC5INGC0LXQvdC00LXRgNCwXG4gIGNvbnN0IFtzZWxlY3RlZFRlbmRlciwgc2V0U2VsZWN0ZWRUZW5kZXJdID0gdXNlU3RhdGU8VGVuZGVyRGV0YWlscyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNNb2RhbE9wZW4sIHNldElzTW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIERpcmVjdCBjb250cmFjdCBpbnRlcmFjdGlvbiBhdHRlbXB0IGFzIGEgbGFzdCByZXNvcnRcbiAgY29uc3QgdHJ5RGlyZWN0Q29udHJhY3RBY2Nlc3MgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKGRpcmVjdENvbnRyYWN0QXR0ZW1wdGVkKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIGRpcmVjdCBjb250cmFjdCBhY2Nlc3MgYXMgbGFzdCByZXNvcnRcIik7XG4gICAgc2V0RGlyZWN0Q29udHJhY3RBdHRlbXB0ZWQodHJ1ZSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIk5vIHdpbmRvdy5ldGhlcmV1bSBhdmFpbGFibGUgZm9yIGRpcmVjdCBhY2Nlc3NcIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgQ09OVFJBQ1RfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0NPTlRSQUNUX0FERFJFU1M7XG4gICAgICBpZiAoIUNPTlRSQUNUX0FERFJFU1MpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGNvbnRyYWN0IGFkZHJlc3MgYXZhaWxhYmxlXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFRyeSB0byBjcmVhdGUgcHJvdmlkZXIgYW5kIGNvbm5lY3QgZGlyZWN0bHkgdG8gY29udHJhY3RcbiAgICAgIGNvbnN0IGJyb3dzZXJQcm92aWRlciA9IG5ldyBldGhlcnMuQnJvd3NlclByb3ZpZGVyKHdpbmRvdy5ldGhlcmV1bSk7XG4gICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IGJyb3dzZXJQcm92aWRlci5zZW5kKCdldGhfcmVxdWVzdEFjY291bnRzJywgW10pO1xuICAgICAgXG4gICAgICBpZiAoIWFjY291bnRzIHx8IGFjY291bnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJObyBhY2NvdW50cyBhdmFpbGFibGVcIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgYnJvd3NlclByb3ZpZGVyLmdldFNpZ25lcigpO1xuICAgICAgY29uc29sZS5sb2coXCJEaXJlY3QgYWNjZXNzIC0gZ290IHNpZ25lciB3aXRoIGFkZHJlc3M6XCIsIGF3YWl0IHNpZ25lci5nZXRBZGRyZXNzKCkpO1xuICAgICAgXG4gICAgICAvLyBBQkkgZm9yIFRlbmRlckNoYWluIGNvbnRyYWN0XG4gICAgICBjb25zdCBhYmkgPSBbXG4gICAgICAgIFwiZnVuY3Rpb24gZ2V0QWN0aXZlVGVuZGVycygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTZbXSBtZW1vcnkpXCIsXG4gICAgICAgIFwiZnVuY3Rpb24gZ2V0VGVuZGVyKHVpbnQyNTYgX2lkKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2IGlkLCBzdHJpbmcgdGl0bGUsIHN0cmluZyBkZXNjcmlwdGlvbiwgdWludDI1NiBidWRnZXQsIHVpbnQyNTYgZGVhZGxpbmUsIHVpbnQyNTYgZGlzdGFuY2UsIHVpbnQyNTYgd2VpZ2h0LCBzdHJpbmcgY2FyZ29UeXBlLCB1aW50MjU2IHVyZ2VuY3lEYXlzLCBhZGRyZXNzIGNyZWF0b3IsIGFkZHJlc3MgYmlkZGVyLCB1aW50OCBzdGF0dXMsIHVpbnQyNTYgY3JlYXRlZEF0LCB1aW50MjU2IGV4cGlyZXNBdClcIlxuICAgICAgXTtcbiAgICAgIFxuICAgICAgY29uc3QgZGlyZWN0Q29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KENPTlRSQUNUX0FERFJFU1MsIGFiaSwgc2lnbmVyKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGdldCBhY3RpdmUgdGVuZGVyc1xuICAgICAgY29uc29sZS5sb2coXCJEaXJlY3QgYWNjZXNzIC0gY2FsbGluZyBnZXRBY3RpdmVUZW5kZXJzXCIpO1xuICAgICAgY29uc3QgYWN0aXZlVGVuZGVySWRzID0gYXdhaXQgZGlyZWN0Q29udHJhY3QuZ2V0QWN0aXZlVGVuZGVycygpO1xuICAgICAgY29uc29sZS5sb2coXCJEaXJlY3QgYWNjZXNzIC0gcmVjZWl2ZWQgdGVuZGVyIElEczpcIiwgYWN0aXZlVGVuZGVySWRzKTtcbiAgICAgIFxuICAgICAgaWYgKCFhY3RpdmVUZW5kZXJJZHMgfHwgYWN0aXZlVGVuZGVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpcmVjdCBhY2Nlc3MgLSBubyBhY3RpdmUgdGVuZGVycyBmb3VuZFwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnNpZGVyIHRoaXMgYSBzdWNjZXNzIGFzIHdlIGNvbmZpcm1lZCBjb25uZWN0aW9uIHdvcmtzXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgZWFjaCB0ZW5kZXJcbiAgICAgIGNvbnN0IGRpcmVjdFRlbmRlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgYWN0aXZlVGVuZGVySWRzLm1hcChhc3luYyAoaWQ6IGFueSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJEYXRhID0gYXdhaXQgZGlyZWN0Q29udHJhY3QuZ2V0VGVuZGVyKGlkKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkOiB0ZW5kZXJEYXRhLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgIHRpdGxlOiB0ZW5kZXJEYXRhLnRpdGxlLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGVuZGVyRGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgYnVkZ2V0OiBwYXJzZUZsb2F0KGV0aGVycy5mb3JtYXRFdGhlcih0ZW5kZXJEYXRhLmJ1ZGdldCkpLFxuICAgICAgICAgICAgICBkZWFkbGluZTogbmV3IERhdGUodGVuZGVyRGF0YS5kZWFkbGluZSAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIGRpc3RhbmNlOiB0ZW5kZXJEYXRhLmRpc3RhbmNlLFxuICAgICAgICAgICAgICB3ZWlnaHQ6IHRlbmRlckRhdGEud2VpZ2h0LFxuICAgICAgICAgICAgICBjYXJnb1R5cGU6IHRlbmRlckRhdGEuY2FyZ29UeXBlLFxuICAgICAgICAgICAgICB1cmdlbmN5RGF5czogdGVuZGVyRGF0YS51cmdlbmN5RGF5cyxcbiAgICAgICAgICAgICAgY3JlYXRvcjogdGVuZGVyRGF0YS5jcmVhdG9yLFxuICAgICAgICAgICAgICBiaWRkZXI6IHRlbmRlckRhdGEuYmlkZGVyLFxuICAgICAgICAgICAgICBzdGF0dXM6IFsnT1BFTicsICdDTE9TRUQnLCAnQVdBUkRFRCcsICdDT01QTEVURUQnLCAnQ0FOQ0VMTEVEJ11bdGVuZGVyRGF0YS5zdGF0dXNdLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKHRlbmRlckRhdGEuY3JlYXRlZEF0ICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZSh0ZW5kZXJEYXRhLmV4cGlyZXNBdCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIGZyb21CbG9ja2NoYWluOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgdGVuZGVyICR7aWR9IGRpcmVjdGx5OmAsIGVycik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBGaWx0ZXIgb3V0IGZhaWxlZCB0ZW5kZXJzXG4gICAgICBjb25zdCB2YWxpZFRlbmRlcnMgPSBkaXJlY3RUZW5kZXJzLmZpbHRlcih0ZW5kZXIgPT4gdGVuZGVyICE9PSBudWxsKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiRGlyZWN0IGFjY2VzcyAtIHN1Y2Nlc3NmdWxseSBsb2FkZWQgdGVuZGVyczpcIiwgdmFsaWRUZW5kZXJzLmxlbmd0aCk7XG4gICAgICBcbiAgICAgIGlmICh2YWxpZFRlbmRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRUZW5kZXJzKHZhbGlkVGVuZGVycyk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICBzZXRDb250cmFjdFdhcm5pbmcoXCLQodC80LDRgNGCLdC60L7QvdGC0YDQsNC60YIg0LTQvtGB0YLRg9C/0LXQvSDRh9C10YDQtdC3INC/0YDRj9C80L7QtSDQv9C+0LTQutC70Y7Rh9C10L3QuNC1LiDQmNGB0L/QvtC70YzQt9GD0LXQvCDQtNCw0L3QvdGL0LUg0L3QsNC/0YDRj9C80YPRjiDQuNC3INCx0LvQvtC60YfQtdC50L3QsC5cIik7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGlzTG9hZGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRGlyZWN0IGNvbnRyYWN0IGFjY2VzcyBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIFtkaXJlY3RDb250cmFjdEF0dGVtcHRlZF0pO1xuICBcbiAgLy8g0JzQtdC80L7QuNC30LjRgNC+0LLQsNC90L3QsNGPINGE0YPQvdC60YbQuNGPINC00LvRjyDQvtCx0YrQtdC00LjQvdC10L3QuNGPINGC0LXQvdC00LXRgNC+0LJcbiAgY29uc3QgbWVtb2l6ZWRNZXJnZVRlbmRlcnMgPSB1c2VDYWxsYmFjayhtZXJnZVRlbmRlcnMsIFtdKTtcbiAgXG4gIC8vINCc0LXQvNC+0LjQt9C40YDQvtCy0LDQvdC90YvQtSDRgdGB0YvQu9C60Lgg0L3QsCDQvNC10YLQvtC00Ysg0LrQvtC90YLRgNCw0LrRgtCwXG4gIGNvbnN0IGdldEFjdGl2ZVRlbmRlcnNNZXRob2QgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbnRyYWN0VGVuZGVyLmdldEFjdGl2ZVRlbmRlcnM7XG4gIH0sIFtjb250cmFjdFRlbmRlci5nZXRBY3RpdmVUZW5kZXJzXSk7XG4gIFxuICBjb25zdCBpc0NvbnRyYWN0QXZhaWxhYmxlUmVmID0gdXNlUmVmKGNvbnRyYWN0VGVuZGVyLmlzQ29udHJhY3RBdmFpbGFibGUpO1xuICBcbiAgLy8g0J7QsdC90L7QstC70Y/QtdC8IHJlZiDQtNC70Y8g0YHRgtCw0LHQuNC70YzQvdC+0LPQviDRgdGA0LDQstC90LXQvdC40Y9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc0NvbnRyYWN0QXZhaWxhYmxlUmVmLmN1cnJlbnQgPSBjb250cmFjdFRlbmRlci5pc0NvbnRyYWN0QXZhaWxhYmxlO1xuICB9LCBbY29udHJhY3RUZW5kZXIuaXNDb250cmFjdEF2YWlsYWJsZV0pO1xuICBcbiAgLy8gRm9yY2UgbG9hZGluZyB0byBiZSBmYWxzZSBhZnRlciAxMCBzZWNvbmRzIHRvIHByZXZlbnQgZW5kbGVzcyBsb2FkaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJEYXNoYm9hcmQ6IEZvcmNpbmcgbG9hZGluZyB0byBzdG9wIGFmdGVyIHRpbWVvdXRcIik7XG4gICAgICAgIFxuICAgICAgICAvLyBUcnkgZGlyZWN0IGNvbnRyYWN0IGFjY2VzcyBhcyBsYXN0IHJlc29ydCBiZWZvcmUgc2hvd2luZyBtb2Nrc1xuICAgICAgICB0cnlEaXJlY3RDb250cmFjdEFjY2VzcygpLnRoZW4oc3VjY2VzcyA9PiB7XG4gICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgaXNMb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCBsb2FkZWQgYW55IHRlbmRlcnMsIHNldCBzb21lIG1vY2sgb25lc1xuICAgICAgICAgICAgaWYgKHRlbmRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gdGVuZGVycyBsb2FkZWQsIHNldHRpbmcgbW9jayB0ZW5kZXJzXCIpO1xuICAgICAgICAgICAgICBzZXRUZW5kZXJzKGdldE1vY2tUZW5kZXJzKCkpO1xuICAgICAgICAgICAgICBzZXRDb250cmFjdFdhcm5pbmcoJ9Ci0LDQudC8LdCw0YPRgiDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDQtNCw0L3QvdGL0YUuINCf0L7QutCw0LfRi9Cy0LDQtdC8INC00LXQvNC+LdGC0LXQvdC00LXRgNGLLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgODAwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gIH0sIFtpc0xvYWRpbmcsIHRlbmRlcnMsIHRyeURpcmVjdENvbnRyYWN0QWNjZXNzXSk7XG4gIFxuICAvLyBVcGRhdGUgcmVmcyB3aGVuIHN0YXRlcyBjaGFuZ2UgdG8gYXZvaWQgc3RhbGUgY2xvc3VyZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc0xvYWRpbmdSZWYuY3VycmVudCA9IGlzTG9hZGluZztcbiAgfSwgW2lzTG9hZGluZ10pO1xuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBoYXNBdHRlbXB0ZWRGZXRjaFJlZi5jdXJyZW50ID0gaGFzQXR0ZW1wdGVkRmV0Y2g7XG4gIH0sIFtoYXNBdHRlbXB0ZWRGZXRjaF0pO1xuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb250cmFjdFJlYWR5UmVmLmN1cnJlbnQgPSBpc0NvbnRyYWN0UmVhZHk7XG4gIH0sIFtpc0NvbnRyYWN0UmVhZHldKTtcbiAgXG4gIC8vINCk0YPQvdC60YbQuNGPINC00LvRjyDQt9Cw0LPRgNGD0LfQutC4INGC0LXQvdC00LXRgNC+0LIg0LjQtyBBUEkg0Lgg0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0LBcbiAgY29uc3QgZmV0Y2hUZW5kZXJzID0gdXNlQ2FsbGJhY2soYXN5bmMgKGZvcmNlUmVmcmVzaCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGlzTG9hZGluZ1JlZi5jdXJyZW50ICYmICFmb3JjZVJlZnJlc2gpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBsb2FkaW5nIHRlbmRlcnMsIHNraXBwaW5nIGZldGNoVGVuZGVycyBjYWxsXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgdGVuZGVycywgZm9yY2UgcmVmcmVzaDonLCBmb3JjZVJlZnJlc2gpO1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICBpc0xvYWRpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0Q29udHJhY3RXYXJuaW5nKG51bGwpO1xuICAgIFxuICAgIC8vIEdldCBjdXJyZW50IGNvbnRyYWN0IGF2YWlsYWJpbGl0eSBmb3IgY29uc2lzdGVudCB1c2FnZSB0aHJvdWdob3V0IGZ1bmN0aW9uXG4gICAgY29uc3QgY29udHJhY3RBdmFpbGFibGUgPSBpc0NvbnRyYWN0QXZhaWxhYmxlUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgZ2V0QWN0aXZlVGVuZGVycyA9IGdldEFjdGl2ZVRlbmRlcnNNZXRob2QoKTtcbiAgICBcbiAgICBsZXQgYXBpRXJyb3IgPSBmYWxzZTtcbiAgICBsZXQgY29udHJhY3RSZXNwb25zZTogQ29udHJhY3RSZXNwb25zZTxDb250cmFjdFRlbmRlcltdPiA9IHsgXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICBlcnJvcjogdW5kZWZpbmVkIFxuICAgIH07XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIG5ldHdvcmsgY29ubmVjdGl2aXR5IGZpcnN0XG4gICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgIW5hdmlnYXRvci5vbkxpbmUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdCcm93c2VyIHJlcG9ydHMgbmV0d29yayBpcyBvZmZsaW5lLCB1c2luZyBtb2NrIGRhdGEnKTtcbiAgICAgICAgc2V0Q29udHJhY3RXYXJuaW5nKCfQktGLINC90LUg0L/QvtC00LrQu9GO0YfQtdC90Ysg0Log0LjQvdGC0LXRgNC90LXRgtGDLiDQn9C+0LrQsNC30YvQstCw0LXQvCDQu9C+0LrQsNC70YzQvdGL0LUg0LTQsNC90L3Ri9C1LicpO1xuICAgICAgICBzZXRUZW5kZXJzKGdldE1vY2tUZW5kZXJzKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCf0YDQvtCx0YPQtdC8INC/0L7Qu9GD0YfQuNGC0Ywg0YLQtdC90LTQtdGA0Ysg0LjQtyDQkdCUXG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgdGVuZGVycyBmcm9tIEFQSS4uLicpO1xuICAgICAgbGV0IGRiVGVuZGVyczogRXh0ZW5kZWRUZW5kZXJbXSA9IFtdO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMTAwMDApOyAvLyAxMCBzZWNvbmRzIHRpbWVvdXRcbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBBUEkgd2l0aG91dCBzaWduYWwgcGFyYW1ldGVyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGVuZGVyQVBJLmdldFRlbmRlcnMoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIGRiVGVuZGVycyA9IHJlc3BvbnNlLmRhdGEgYXMgRXh0ZW5kZWRUZW5kZXJbXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgTG9hZGVkICR7ZGJUZW5kZXJzLmxlbmd0aH0gdGVuZGVycyBmcm9tIEFQSWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignQVBJIHJldHVybmVkIG5vIHRlbmRlcnMgb3IgZXJyb3InLCByZXNwb25zZSk7XG4gICAgICAgICAgYXBpRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBUEkgZXJyb3I6JywgcmVzcG9uc2UuZXJyb3IpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSB8fCBcbiAgICAgICAgICAgICAgICByZXNwb25zZS5lcnJvci5pbmNsdWRlcygnbmV0d29yaycpIHx8IFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmVycm9yLmluY2x1ZGVzKCdvZmZsaW5lJykpIHtcbiAgICAgICAgICAgICAgc2V0Q29udHJhY3RXYXJuaW5nKCfQn9GA0L7QsdC70LXQvNCwINGBINC/0L7QtNC60LvRjtGH0LXQvdC40LXQvCDQuiDRgdC10YDQstC10YDRgy4g0J/RgNC+0LHRg9C10Lwg0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC70L7QutCw0LvRjNC90YvQtSDQtNCw0L3QvdGL0LUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChhcGlFcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBmZXRjaGluZyBmcm9tIEFQSTonLCBhcGlFcnIpO1xuICAgICAgICBhcGlFcnJvciA9IHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCf0YDQvtCx0YPQtdC8INC/0L7Qu9GD0YfQuNGC0Ywg0YLQtdC90LTQtdGA0Ysg0LjQtyDRgdC80LDRgNGCLdC60L7QvdGC0YDQsNC60YLQsCDRgtC+0LvRjNC60L4g0LXRgdC70Lgg0L7QvSDQtNC+0YHRgtGD0L/QtdC9XG4gICAgICBsZXQgY29udHJhY3RUZW5kZXJzOiBDb250cmFjdFRlbmRlcltdID0gW107XG4gICAgICBcbiAgICAgIGlmIChjb250cmFjdEF2YWlsYWJsZSAmJiBnZXRBY3RpdmVUZW5kZXJzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyB0ZW5kZXJzIGZyb20gc21hcnQgY29udHJhY3QuLi4nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb250cmFjdFJlc3BvbnNlID0gYXdhaXQgZ2V0QWN0aXZlVGVuZGVycygpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjb250cmFjdFJlc3BvbnNlLnN1Y2Nlc3MgJiYgQXJyYXkuaXNBcnJheShjb250cmFjdFJlc3BvbnNlLmRhdGEpKSB7XG4gICAgICAgICAgICBjb250cmFjdFRlbmRlcnMgPSBjb250cmFjdFJlc3BvbnNlLmRhdGEuZmlsdGVyKEJvb2xlYW4pIGFzIENvbnRyYWN0VGVuZGVyW107IC8vIEZpbHRlciBvdXQgbnVsbHNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMb2FkZWQgJHtjb250cmFjdFRlbmRlcnMubGVuZ3RofSB0ZW5kZXJzIGZyb20gc21hcnQgY29udHJhY3RgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb250cmFjdCByZXR1cm5lZCBubyB0ZW5kZXJzIG9yIGVycm9yJywgY29udHJhY3RSZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChjb250cmFjdEVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGZyb20gY29udHJhY3Q6JywgY29udHJhY3RFcnIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnU21hcnQgY29udHJhY3Qgbm90IGF2YWlsYWJsZSwgc2tpcHBpbmcgYmxvY2tjaGFpbiBmZXRjaCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQntCx0YrQtdC00LjQvdGP0LXQvCDRgtC10L3QtNC10YDRiyDQuNC3INC+0LHQvtC40YUg0LjRgdGC0L7Rh9C90LjQutC+0LJcbiAgICAgIGxldCBhbGxUZW5kZXJzOiBhbnlbXSA9IFtdO1xuICAgICAgXG4gICAgICBpZiAoZGJUZW5kZXJzLmxlbmd0aCA+IDAgJiYgY29udHJhY3RUZW5kZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8g0JXRgdC70Lgg0LXRgdGC0Ywg0LTQsNC90L3Ri9C1INC4INC40Lcg0JHQlCwg0Lgg0LjQtyDQutC+0L3RgtGA0LDQutGC0LBcbiAgICAgICAgYWxsVGVuZGVycyA9IG1lbW9pemVkTWVyZ2VUZW5kZXJzKGRiVGVuZGVycywgY29udHJhY3RUZW5kZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAoZGJUZW5kZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8g0JXRgdC70Lgg0LXRgdGC0Ywg0YLQvtC70YzQutC+INC00LDQvdC90YvQtSDQuNC3INCR0JRcbiAgICAgICAgYWxsVGVuZGVycyA9IGRiVGVuZGVycy5tYXAodGVuZGVyID0+ICh7XG4gICAgICAgICAgLi4udGVuZGVyLFxuICAgICAgICAgIGRpc3RhbmNlOiBleHRyYWN0TnVtYmVyRnJvbURlc2NyaXB0aW9uKHRlbmRlci5kZXNjcmlwdGlvbiwgJ9Cg0LDRgdGB0YLQvtGP0L3QuNC1OicpIHx8IDAsXG4gICAgICAgICAgd2VpZ2h0OiBleHRyYWN0TnVtYmVyRnJvbURlc2NyaXB0aW9uKHRlbmRlci5kZXNjcmlwdGlvbiwgJ9CS0LXRgTonKSB8fCAwLFxuICAgICAgICAgIGNhcmdvVHlwZTogZXh0cmFjdFN0cmluZ0Zyb21EZXNjcmlwdGlvbih0ZW5kZXIuZGVzY3JpcHRpb24sICfQotC40L8g0LPRgNGD0LfQsDonKSB8fCAnZ2VuZXJhbCcsXG4gICAgICAgICAgdXJnZW5jeURheXM6IGV4dHJhY3ROdW1iZXJGcm9tRGVzY3JpcHRpb24odGVuZGVyLmRlc2NyaXB0aW9uLCAn0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuDonKSB8fCAwLFxuICAgICAgICAgIGNyZWF0b3I6IHRlbmRlci5jcmVhdG9yPy53YWxsZXRBZGRyZXNzIHx8ICcnLFxuICAgICAgICAgIGJpZGRlcjogJycsXG4gICAgICAgICAgZXhwaXJlc0F0OiB0ZW5kZXIuZXhwaXJlc0F0IHx8IG5ldyBEYXRlKERhdGUubm93KCkgKyAxMCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBmcm9tQmxvY2tjaGFpbjogZmFsc2UgLy8g0K/QstC90L4g0YPQutCw0LfRi9Cy0LDQtdC8LCDRh9GC0L4g0YLQtdC90LTQtdGAINCd0JUg0LjQtyDQsdC70L7QutGH0LXQudC90LBcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmIChjb250cmFjdFRlbmRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyDQldGB0LvQuCDQtdGB0YLRjCDRgtC+0LvRjNC60L4g0LTQsNC90L3Ri9C1INC40Lcg0LrQvtC90YLRgNCw0LrRgtCwXG4gICAgICAgIGFsbFRlbmRlcnMgPSBjb250cmFjdFRlbmRlcnMubWFwKHRlbmRlciA9PiAoe1xuICAgICAgICAgIC4uLnRlbmRlcixcbiAgICAgICAgICBmcm9tQmxvY2tjaGFpbjogdHJ1ZSAvLyDQr9Cy0L3QviDRg9C60LDQt9GL0LLQsNC10LwsINGH0YLQviDRgtC10L3QtNC10YAg0LjQtyDQsdC70L7QutGH0LXQudC90LBcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g0JXRgdC70Lgg0L3QtdGCINC00LDQvdC90YvRhSDQvdC4INC40Lcg0JHQlCwg0L3QuCDQuNC3INC60L7QvdGC0YDQsNC60YLQsCwg0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0LTQtdC80L4t0LTQsNC90L3Ri9C1XG4gICAgICAgIGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICBcbiAgICAgICAgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0L/RgNC10LTRg9C/0YDQtdC20LTQtdC90LjQtSwg0LXRgdC70Lgg0L7QvdC+INC10YnQtSDQvdC1INGD0YHRgtCw0L3QvtCy0LvQtdC90L5cbiAgICAgICAgaWYgKGFwaUVycm9yICYmICFjb250cmFjdEF2YWlsYWJsZSkge1xuICAgICAgICAgIHNldENvbnRyYWN0V2FybmluZygn0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINC00LDQvdC90YvQtSDQvdC4INC40LcgQVBJLCDQvdC4INC40Lcg0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGC0LAuINCf0L7QutCw0LfRi9Cy0LDQtdC8INC00LXQvNC+LdC00LDQvdC90YvQtS4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChhcGlFcnJvcikge1xuICAgICAgICAgIHNldENvbnRyYWN0V2FybmluZygnQVBJINC90LXQtNC+0YHRgtGD0L/QtdC9LiDQn9C+0LrQsNC30YvQstCw0LXQvCDQtNC10LzQvi3RgtC10L3QtNC10YDRiy4nKTtcbiAgICAgICAgfSBlbHNlIGlmICghY29udHJhY3RBdmFpbGFibGUpIHtcbiAgICAgICAgICBzZXRDb250cmFjdFdhcm5pbmcoJ9Ch0LzQsNGA0YIt0LrQvtC90YLRgNCw0LrRgiDQvdC10LTQvtGB0YLRg9C/0LXQvS4g0J/QvtC60LDQt9GL0LLQsNC10Lwg0LTQtdC80L4t0YLQtdC90LTQtdGA0YsuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0Q29udHJhY3RXYXJuaW5nKCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0LTQsNC90L3Ri9C1LiDQn9C+0LrQsNC30YvQstCw0LXQvCDQtNC10LzQvi3RgtC10L3QtNC10YDRiy4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnTG9hZGVkIHRlbmRlcnM6JywgeyBcbiAgICAgICAgZGJDb3VudDogZGJUZW5kZXJzLmxlbmd0aCwgXG4gICAgICAgIGNvbnRyYWN0Q291bnQ6IGNvbnRyYWN0VGVuZGVycy5sZW5ndGgsIFxuICAgICAgICB0b3RhbENvdW50OiBhbGxUZW5kZXJzLmxlbmd0aCBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBzZXRUZW5kZXJzKGFsbFRlbmRlcnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0ZW5kZXJzOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YLQtdC90LTQtdGA0L7QsicpO1xuICAgICAgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0LTQtdC80L4t0LTQsNC90L3Ri9C1INCyINGB0LvRg9GH0LDQtSDQvtGI0LjQsdC60LhcbiAgICAgIHNldFRlbmRlcnMoZ2V0TW9ja1RlbmRlcnMoKSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRmV0Y2ggdGVuZGVycyBjb21wbGV0ZWQsIHNldHRpbmcgbG9hZGluZyB0byBmYWxzZVwiKTtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICBpc0xvYWRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgc2V0SGFzQXR0ZW1wdGVkRmV0Y2godHJ1ZSk7XG4gICAgICBoYXNBdHRlbXB0ZWRGZXRjaFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtcbiAgICB0ZW5kZXJBUEksIFxuICAgIGdldEFjdGl2ZVRlbmRlcnNNZXRob2QsIFxuICAgIG1lbW9pemVkTWVyZ2VUZW5kZXJzLCBcbiAgICBleHRyYWN0TnVtYmVyRnJvbURlc2NyaXB0aW9uLCBcbiAgICBleHRyYWN0U3RyaW5nRnJvbURlc2NyaXB0aW9uLFxuICAgIGdldE1vY2tUZW5kZXJzXG4gIF0pO1xuICBcbiAgLy8gVXBkYXRlIGNvbnRyYWN0IHJlYWR5IHN0YXRlIHdoZW4gY29udHJhY3QgYXZhaWxhYmlsaXR5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpc0F2YWlsYWJsZSA9IGNvbnRyYWN0VGVuZGVyLmlzQ29udHJhY3RBdmFpbGFibGU7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICAvLyBEZWJvdW5jZSBjb250cmFjdCBhdmFpbGFiaWxpdHkgY2hlY2tzIHRvIHByZXZlbnQgcmFwaWQgc3dpdGNoaW5nXG4gICAgaWYgKG5vdyAtIGxhc3RDb250cmFjdENoZWNrUmVmLmN1cnJlbnQgPCA1MDAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGxhc3RDb250cmFjdENoZWNrUmVmLmN1cnJlbnQgPSBub3c7XG4gICAgXG4gICAgLy8gT25seSBsb2cgYW5kIHVwZGF0ZSBpZiB0aGUgdmFsdWUgYWN0dWFsbHkgY2hhbmdlZFxuICAgIGlmIChpc0F2YWlsYWJsZSAhPT0gaXNDb250cmFjdEF2YWlsYWJsZVJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRhc2hib2FyZCBkZXRlY3RlZCBjb250cmFjdCBhdmFpbGFiaWxpdHkgY2hhbmdlOlwiLCBpc0F2YWlsYWJsZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiU2V0dGluZyBjb250cmFjdCByZWFkeSBzdGF0ZSB0bzpcIiwgaXNBdmFpbGFibGUpO1xuICAgICAgc2V0SXNDb250cmFjdFJlYWR5KGlzQXZhaWxhYmxlKTtcbiAgICAgIGlzQ29udHJhY3RBdmFpbGFibGVSZWYuY3VycmVudCA9IGlzQXZhaWxhYmxlO1xuICAgICAgXG4gICAgICAvLyBJZiBjb250cmFjdCBiZWNhbWUgYXZhaWxhYmxlIGFuZCB3ZSd2ZSBhbHJlYWR5IGF0dGVtcHRlZCBhIGZldGNoLCBkbyBhbm90aGVyIG9uZVxuICAgICAgLy8gQWRkaW5nIGEgZGVsYXkgdG8gcHJldmVudCByYXBpZCBjb25zZWN1dGl2ZSBjYWxsc1xuICAgICAgaWYgKGlzQXZhaWxhYmxlICYmIGhhc0F0dGVtcHRlZEZldGNoUmVmLmN1cnJlbnQgJiYgIWlzTG9hZGluZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29udHJhY3QgYmVjYW1lIGF2YWlsYWJsZSwgc2NoZWR1bGluZyByZWZyZXNoXCIpO1xuICAgICAgICBjb25zdCB0aW1lcklkID0gc2V0VGltZW91dCgoKSA9PiBmZXRjaFRlbmRlcnModHJ1ZSksIDE1MDApO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2NvbnRyYWN0VGVuZGVyLmlzQ29udHJhY3RBdmFpbGFibGUsIGZldGNoVGVuZGVyc10pO1xuICBcbiAgLy8gUmUtZmV0Y2ggd2hlbiBjb250cmFjdCBzdGF0ZSBjaGFuZ2VzLCBidXQgd2l0aCBkZWJvdW5jaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU2tpcCB0aGlzIGVmZmVjdCBpZiB3ZSBoYXZlbid0IGF0dGVtcHRlZCBhIGZldGNoIHlldCBvciBhcmUgY3VycmVudGx5IGxvYWRpbmdcbiAgICBpZiAoIWhhc0F0dGVtcHRlZEZldGNoUmVmLmN1cnJlbnQgfHwgaXNMb2FkaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVXNlIGEgcmVmIHRvIHRyYWNrIGlmIHRoaXMgZWZmZWN0IGhhcyBhbHJlYWR5IHJ1biBmb3IgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICBjb25zdCBjb250cmFjdFN0YXRlID0gY29udHJhY3RUZW5kZXIuaXNDb250cmFjdEF2YWlsYWJsZTtcbiAgICBpZiAoY29udHJhY3RTdGF0ZSA9PT0gaXNDb250cmFjdEF2YWlsYWJsZVJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSBvdXIgcmVmIGZvciB0aGUgbmV4dCBjaGVja1xuICAgIGlzQ29udHJhY3RBdmFpbGFibGVSZWYuY3VycmVudCA9IGNvbnRyYWN0U3RhdGU7XG4gICAgXG4gICAgLy8gQWRkIHN1ZmZpY2llbnQgZGVib3VuY2UgdG8gcHJldmVudCBoYW1tZXJpbmcgdGhlIGJsb2NrY2hhaW5cbiAgICBjb25zdCByZWZyZXNoVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdDb250cmFjdCBzdGF0ZSBjaGFuZ2VkLCByZWZyZXNoaW5nIGRhdGEgYWZ0ZXIgZGVsYXknKTtcbiAgICAgIGZldGNoVGVuZGVycyh0cnVlKTtcbiAgICB9LCAyMDAwKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHJlZnJlc2hUaW1lcik7XG4gICAgfTtcbiAgfSwgW2NvbnRyYWN0VGVuZGVyLmlzQ29udHJhY3RBdmFpbGFibGUsIGZldGNoVGVuZGVyc10pO1xuICBcbiAgLy8gSW5pdGlhbCBkYXRhIGxvYWQgYWZ0ZXIgY29tcG9uZW50IG1vdW50IC0gd2l0aCBpbXByb3ZlZCBkZWJvdW5jaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gVXNlIGEgcmVmIHRvIHRyYWNrIGlmIHRoaXMgZWZmZWN0IGhhcyBhbHJlYWR5IHJ1blxuICAgIGlmIChoYXNBdHRlbXB0ZWRGZXRjaFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGxldCBpc0NvbXBvbmVudE1vdW50ZWQgPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKFwiRGFzaGJvYXJkIG1vdW50ZWQsIHNjaGVkdWxpbmcgaW5pdGlhbCBmZXRjaFwiKTtcbiAgICBcbiAgICAvLyBFbnN1cmUgd2UgYWx3YXlzIGRvIHRoZSBpbml0aWFsIGZldGNoIGFmdGVyIGEgYnJpZWYgZGVsYXlcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFpc0NvbXBvbmVudE1vdW50ZWQpIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gTWFyayB0aGF0IHdlJ3ZlIGF0dGVtcHRlZCBhIGZldGNoIHRvIHByZXZlbnQgZHVwbGljYXRlIGNhbGxzXG4gICAgICBzZXRIYXNBdHRlbXB0ZWRGZXRjaCh0cnVlKTtcbiAgICAgIGhhc0F0dGVtcHRlZEZldGNoUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnSW5pdGlhbCBmZXRjaCB0aW1lciB0cmlnZ2VyZWQnKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHRyYWNraW5nIGJhc2VkIG9uIGNvbnRyYWN0J3MgY3VycmVudCBzdGF0ZVxuICAgICAgY29uc3QgY29udHJhY3RBdmFpbGFibGUgPSBjb250cmFjdFRlbmRlci5pc0NvbnRyYWN0QXZhaWxhYmxlO1xuICAgICAgc2V0SXNDb250cmFjdFJlYWR5KGNvbnRyYWN0QXZhaWxhYmxlKTtcbiAgICAgIGNvbnRyYWN0UmVhZHlSZWYuY3VycmVudCA9IGNvbnRyYWN0QXZhaWxhYmxlO1xuICAgICAgaXNDb250cmFjdEF2YWlsYWJsZVJlZi5jdXJyZW50ID0gY29udHJhY3RBdmFpbGFibGU7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGZldGNoVGVuZGVycyh0cnVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgaW5pdGlhbCBkYXRhIGZldGNoOlwiLCBlcnJvcik7XG4gICAgICAgIC8vIEZhbGwgYmFjayB0byBtb2NrIGRhdGEgaW4gY2FzZSBvZiBlcnJvclxuICAgICAgICBzZXRUZW5kZXJzKGdldE1vY2tUZW5kZXJzKCkpO1xuICAgICAgICBzZXRDb250cmFjdFdhcm5pbmcoJ9CS0L7Qt9C90LjQutC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC00LDQvdC90YvRhS4g0J/QvtC60LDQt9GL0LLQsNC10Lwg0LTQtdC80L4t0YLQtdC90LTQtdGA0YsuJyk7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIENsZWFuIHVwIHRpbWVycyBhbmQgbWFyayBjb21wb25lbnQgYXMgdW5tb3VudGVkXG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgaXNDb21wb25lbnRNb3VudGVkID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW2ZldGNoVGVuZGVycywgY29udHJhY3RUZW5kZXIuaXNDb250cmFjdEF2YWlsYWJsZSwgZ2V0TW9ja1RlbmRlcnNdKTtcbiAgXG4gIC8vINCe0LHQvdC+0LLQu9C10L3QuNC1INGC0LDQudC80LXRgNC+0LJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L7QsdC90L7QstC70LXQvdC40Y8g0YLQsNC50LzQtdGA0L7QsiDQstGB0LXRhSDRgtC10L3QtNC10YDQvtCyXG4gICAgY29uc3QgdXBkYXRlVGltZXJzID0gKCkgPT4ge1xuICAgICAgaWYgKCF0ZW5kZXJzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgbmV3TWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlciB8IHN0cmluZz4oKTtcbiAgICAgIGNvbnN0IHVyZ2VudE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBib29sZWFuPigpO1xuICAgICAgXG4gICAgICB0ZW5kZXJzLmZvckVhY2godGVuZGVyID0+IHtcbiAgICAgICAgaWYgKHRlbmRlci5leHBpcmVzQXQpIHtcbiAgICAgICAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSh0ZW5kZXIuZXhwaXJlc0F0KS5nZXRUaW1lKCk7XG4gICAgICAgICAgY29uc3QgZGlmZlNlY29uZHMgPSBNYXRoLmZsb29yKChleHBpcmVzQXQgLSBub3cpIC8gMTAwMCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRpZmZTZWNvbmRzID4gMCkge1xuICAgICAgICAgICAgbmV3TWFwLnNldCh0ZW5kZXIuaWQsIGRpZmZTZWNvbmRzKTtcbiAgICAgICAgICAgIC8vINCe0YLQvNC10YfQsNC10Lwg0LrQsNC6INGB0YDQvtGH0L3Ri9C5LCDQtdGB0LvQuCDQvtGB0YLQsNC70L7RgdGMINC80LXQvdC10LUgNSDQvNC40L3Rg9GCXG4gICAgICAgICAgICB1cmdlbnRNYXAuc2V0KHRlbmRlci5pZCwgZGlmZlNlY29uZHMgPCAzMDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdNYXAuc2V0KHRlbmRlci5pZCwgJ9CY0YHRgtC10LonKTtcbiAgICAgICAgICAgIHVyZ2VudE1hcC5zZXQodGVuZGVyLmlkLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgc2V0VGltZUxlZnRNYXAobmV3TWFwKTtcbiAgICAgIHNldFVyZ2VudFRlbmRlcnModXJnZW50TWFwKTtcbiAgICB9O1xuXG4gICAgLy8g0JfQsNC/0YPRgdC60LDQtdC8INGC0LDQudC80LXRgCDQtNC70Y8g0L7QsdC90L7QstC70LXQvdC40Y8g0LrQsNC20LTRg9GOINGB0LXQutGD0L3QtNGDXG4gICAgdXBkYXRlVGltZXJzKCk7IC8vINCf0LXRgNCy0YvQuSDQt9Cw0L/Rg9GB0LpcbiAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKHVwZGF0ZVRpbWVycywgMTAwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICB9LCBbdGVuZGVyc10pO1xuXG4gIC8vINCf0L7Qu9GD0YfQsNC10Lwg0L7RgtGE0LjQu9GM0YLRgNC+0LLQsNC90L3Ri9C1INGC0LXQvdC00LXRgNGLXG4gIGNvbnN0IGZpbHRlcmVkVGVuZGVycyA9IHRlbmRlcnMuZmlsdGVyKHRlbmRlciA9PiB7XG4gICAgaWYgKGZpbHRlck1vZGUgPT09ICdhbGwnKSByZXR1cm4gdHJ1ZTtcbiAgICBcbiAgICAvLyBNYWtlIHN1cmUgYWNjb3VudCBleGlzdHMgYmVmb3JlIGNvbXBhcmluZ1xuICAgIGlmICghYWNjb3VudCkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGNvbnN0IGNyZWF0b3JBZGRyZXNzID0gdHlwZW9mIHRlbmRlci5jcmVhdG9yID09PSAnc3RyaW5nJyBcbiAgICAgID8gdGVuZGVyLmNyZWF0b3IudG9Mb3dlckNhc2UoKSBcbiAgICAgIDogdGVuZGVyLmNyZWF0b3I/LndhbGxldEFkZHJlc3M/LnRvTG93ZXJDYXNlPy4oKTtcbiAgICBcbiAgICBpZiAoZmlsdGVyTW9kZSA9PT0gJ215JyAmJiBjcmVhdG9yQWRkcmVzcykge1xuICAgICAgcmV0dXJuIGNyZWF0b3JBZGRyZXNzID09PSBhY2NvdW50LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChmaWx0ZXJNb2RlID09PSAnYXZhaWxhYmxlJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRvckFkZHJlc3MgIT09IGFjY291bnQudG9Mb3dlckNhc2UoKSAmJiBcbiAgICAgICAgdGVuZGVyLnN0YXR1cyA9PT0gJ09QRU4nICYmXG4gICAgICAgICghdGVuZGVyLmV4cGlyZXNBdCB8fCBuZXcgRGF0ZSh0ZW5kZXIuZXhwaXJlc0F0KSA+IG5ldyBEYXRlKCkpXG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIC8vINCk0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINC00LXRgtCw0LvQtdC5INGC0LXQvdC00LXRgNCwXG4gIGNvbnN0IHNob3dUZW5kZXJEZXRhaWxzID0gKHRlbmRlcjogYW55KSA9PiB7XG4gICAgLy8g0J/QvtC00LPQvtGC0L7QstC60LAg0LTQsNC90L3Ri9GFINGC0LXQvdC00LXRgNCwINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINCyINC80L7QtNCw0LvRjNC90L7QvCDQvtC60L3QtVxuICAgIGNvbnN0IHRlbmRlckRldGFpbHM6IFRlbmRlckRldGFpbHMgPSB7XG4gICAgICBpZDogdGVuZGVyLmlkLFxuICAgICAgdGl0bGU6IHRlbmRlci50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uOiB0ZW5kZXIuZGVzY3JpcHRpb24sXG4gICAgICBidWRnZXQ6IHRlbmRlci5idWRnZXQsXG4gICAgICBkZWFkbGluZTogdGVuZGVyLmRlYWRsaW5lLFxuICAgICAgc3RhdHVzOiB0ZW5kZXIuc3RhdHVzLFxuICAgICAgY3JlYXRlZEF0OiB0ZW5kZXIuY3JlYXRlZEF0LFxuICAgICAgZXhwaXJlc0F0OiB0ZW5kZXIuZXhwaXJlc0F0LFxuICAgICAgZGlzdGFuY2U6IHRlbmRlci5kaXN0YW5jZSxcbiAgICAgIHdlaWdodDogdGVuZGVyLndlaWdodCxcbiAgICAgIGNhcmdvVHlwZTogdGVuZGVyLmNhcmdvVHlwZSxcbiAgICAgIHVyZ2VuY3lEYXlzOiB0ZW5kZXIudXJnZW5jeURheXMsXG4gICAgICBjcmVhdG9yOiB0ZW5kZXIuY3JlYXRvcj8ud2FsbGV0QWRkcmVzcyB8fCB0ZW5kZXIuY3JlYXRvcixcbiAgICAgIHRpbWVMZWZ0OiB0aW1lTGVmdE1hcC5nZXQodGVuZGVyLmlkKT8udG9TdHJpbmcoKSB8fCAnJyxcbiAgICAgIGZyb21CbG9ja2NoYWluOiB0ZW5kZXIuZnJvbUJsb2NrY2hhaW5cbiAgICB9O1xuICAgIFxuICAgIHNldFNlbGVjdGVkVGVuZGVyKHRlbmRlckRldGFpbHMpO1xuICAgIHNldElzTW9kYWxPcGVuKHRydWUpO1xuICB9O1xuXG4gIC8vINCa0L7QvNC/0L7QvdC10L3RgiDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDRgtC10L3QtNC10YDQsCDQsiDQuNC90YLQtdGA0YTQtdC50YHQtVxuICBjb25zdCByZW5kZXJUZW5kZXIgPSAodGVuZGVyOiBhbnkpID0+IHtcbiAgICAvLyDQntC/0YDQtdC00LXQu9GP0LXQvCDQutC70LDRgdGB0Ysg0LTQu9GPINGB0YLQsNGC0YPRgdCwINGC0LXQvdC00LXRgNCwXG4gICAgY29uc3Qgc3RhdHVzQ2xhc3NlcyA9IFxuICAgICAgdGVuZGVyLnN0YXR1cyA9PT0gJ09QRU4nID8gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCcgOiBcbiAgICAgIHRlbmRlci5zdGF0dXMgPT09ICdBV0FSREVEJyA/ICdiZy1ibHVlLTEwMCB0ZXh0LWJsdWUtODAwJyA6IFxuICAgICAgdGVuZGVyLnN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcgPyAnYmctcHVycGxlLTEwMCB0ZXh0LXB1cnBsZS04MDAnIDogXG4gICAgICB0ZW5kZXIuc3RhdHVzID09PSAnQ0FOQ0VMTEVEJyA/ICdiZy1yZWQtMTAwIHRleHQtcmVkLTgwMCcgOiBcbiAgICAgICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktODAwJztcbiAgICBcbiAgICAvLyDQntC/0YDQtdC00LXQu9GP0LXQvCDRgtC10LrRgdGCINGB0YLQsNGC0YPRgdCwXG4gICAgY29uc3Qgc3RhdHVzVGV4dCA9IFxuICAgICAgdGVuZGVyLnN0YXR1cyA9PT0gJ09QRU4nID8gJ9Ce0YLQutGA0YvRgicgOiBcbiAgICAgIHRlbmRlci5zdGF0dXMgPT09ICdBV0FSREVEJyA/ICfQn9GA0LjRgdGD0LbQtNC10L0nIDogXG4gICAgICB0ZW5kZXIuc3RhdHVzID09PSAnQ09NUExFVEVEJyA/ICfQl9Cw0LLQtdGA0YjQtdC9JyA6IFxuICAgICAgdGVuZGVyLnN0YXR1cyA9PT0gJ0NBTkNFTExFRCcgPyAn0J7RgtC80LXQvdC10L0nIDogJ9CX0LDQutGA0YvRgic7XG5cbiAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LrQvdC+0L/QutGDINCx0YvRgdGC0YDQvtCz0L4g0L/RgNC+0YHQvNC+0YLRgNCwXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYga2V5PXt0ZW5kZXIuaWR9IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LW1kIHAtNCBtYi00IGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLXNoYWRvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLXN0YXJ0IG1iLTJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+e3RlbmRlci50aXRsZX08L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC14cyBmb250LW1lZGl1bSBweC0yLjUgcHktMC41IHJvdW5kZWQgJHtzdGF0dXNDbGFzc2VzfWB9PlxuICAgICAgICAgICAge3N0YXR1c1RleHR9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMCBtYi0zXCI+XG4gICAgICAgICAge3RlbmRlci5kZXNjcmlwdGlvbi5sZW5ndGggPiAxMDAgXG4gICAgICAgICAgICA/IGAke3RlbmRlci5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgMTAwKX0uLi5gIFxuICAgICAgICAgICAgOiB0ZW5kZXIuZGVzY3JpcHRpb259XG4gICAgICAgIDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNCBtYi00XCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPtCR0Y7QtNC20LXRgjo8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1ncmVlbi02MDBcIj4ke3RlbmRlci5idWRnZXR9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj7QoNCw0YHRgdGC0L7Rj9C90LjQtTo8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0ZW5kZXIuZGlzdGFuY2UgfHwgJ9Cd0LUg0YPQutCw0LfQsNC90L4nfSDQutC8PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj7QktC10YEg0LPRgNGD0LfQsDo8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0ZW5kZXIud2VpZ2h0IHx8ICfQndC1INGD0LrQsNC30LDQvdC+J30g0LrQszwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuDo8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0ZW5kZXIudXJnZW5jeURheXMgfHwgJ9Cd0LUg0YPQutCw0LfQsNC90L4nfSDQtNC90LXQuTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7dGVuZGVyLnN0YXR1cyA9PT0gJ09QRU4nICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgYmcteWVsbG93LTUwIGJvcmRlciBib3JkZXIteWVsbG93LTIwMCByb3VuZGVkLW1kIHAtMlwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctODAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAg0J7RgdGC0LDQu9C+0YHRjDogPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e3RpbWVMZWZ0TWFwLmdldCh0ZW5kZXIuaWQpIHx8ICfQnS/QlCd9PC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAg0KHQvtC30LTQsNGC0LXQu9GMOiB7dGVuZGVyLmNyZWF0b3I/LndhbGxldEFkZHJlc3M/LnNsaWNlKDAsIDYpIHx8IHRlbmRlci5jcmVhdG9yPy5zbGljZSgwLCA2KX0uLi5cbiAgICAgICAgICAgIHt0ZW5kZXIuY3JlYXRvcj8ud2FsbGV0QWRkcmVzcz8uc2xpY2UoLTQpIHx8IHRlbmRlci5jcmVhdG9yPy5zbGljZSgtNCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzaG93VGVuZGVyRGV0YWlscyh0ZW5kZXIpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg0J/QvtC00YDQvtCx0L3QtdC1XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge3RlbmRlci5zdGF0dXMgPT09ICdPUEVOJyAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2hvd1RlbmRlckRldGFpbHModGVuZGVyKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmVlbi02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg0KPRh9Cw0YHRgtCy0L7QstCw0YLRjFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktMTAwXCI+XG4gICAgICAgIDxOYXZiYXIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGgtNjRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDBcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktMTAwXCI+XG4gICAgICAgIDxOYXZiYXIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC0xMDAgYm9yZGVyIGJvcmRlci1yZWQtNDAwIHRleHQtcmVkLTcwMCBweC00IHB5LTMgcm91bmRlZCByZWxhdGl2ZVwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJmb250LWJvbGRcIj7QntGI0LjQsdC60LAhPC9zdHJvbmc+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJibG9jayBzbTppbmxpbmVcIj4ge2Vycm9yfTwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPtCS0L7Qt9C80L7QttC90YvQtSDRgNC10YjQtdC90LjRjzo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgcGwtNSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgPGxpPtCj0LHQtdC00LjRgtC10YHRjCwg0YfRgtC+IEFQSS3RgdC10YDQstC10YAg0LfQsNC/0YPRidC10L0g0Lgg0LTQvtGB0YLRg9C/0LXQvTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPtCf0YDQvtCy0LXRgNGM0YLQtSDRgdC10YLQtdCy0L7QtSDRgdC+0LXQtNC40L3QtdC90LjQtTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPtCj0LHQtdC00LjRgtC10YHRjCwg0YfRgtC+IFVSTCBBUEkg0YPQutCw0LfQsNC9INCy0LXRgNC90L4g0LIgLmVudiDRhNCw0LnQu9C1PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+0J/QvtC/0YDQvtCx0YPQudGC0LUg0L/QtdGA0LXQt9Cw0LPRgNGD0LfQuNGC0Ywg0YHRgtGA0LDQvdC40YbRgzwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTEwMFwiPlxuICAgICAgPE5hdmJhciAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LThcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02XCI+0JTQvtGB0YLRg9C/0L3Ri9C1INGC0LXQvdC00LXRgNGLPC9oMT5cbiAgICAgICAgXG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtMTAwIGJvcmRlciBib3JkZXItcmVkLTQwMCB0ZXh0LXJlZC03MDAgcHgtNCBweS0zIHJvdW5kZWQgbWItNFwiPlxuICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAge2NvbnRyYWN0V2FybmluZyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy15ZWxsb3ctMTAwIGJvcmRlciBib3JkZXIteWVsbG93LTQwMCB0ZXh0LXllbGxvdy03MDAgcHgtNCBweS0zIHJvdW5kZWQgbWItNFwiPlxuICAgICAgICAgICAge2NvbnRyYWN0V2FybmluZ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiDQntGC0LvQsNC00L7Rh9C90LDRjyDQuNC90YTQvtGA0LzQsNGG0LjRjyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCBib3JkZXIgYm9yZGVyLWdyYXktNDAwIHRleHQtZ3JheS03MDAgcHgtNCBweS0zIHJvdW5kZWQgbWItNCB0ZXh0LXhzXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPtCe0YLQu9Cw0LTQvtGH0L3QsNGPINC40L3RhNC+0YDQvNCw0YbQuNGPOjwvaDM+XG4gICAgICAgICAgPHA+0JDQtNGA0LXRgSDQutC+0L3RgtGA0LDQutGC0LA6IHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTfTwvcD5cbiAgICAgICAgICA8cD7QmtC+0YjQtdC70LXQuiDQv9C+0LTQutC70Y7Rh9C10L06IHthY2NvdW50ID8gJ9CU0LAnIDogJ9Cd0LXRgid9PC9wPlxuICAgICAgICAgIDxwPtCU0L7RgdGC0YPQv9C90L7RgdGC0Ywg0LrQvtC90YLRgNCw0LrRgtCwOiB7Y29udHJhY3RUZW5kZXIuaXNDb250cmFjdEF2YWlsYWJsZSA/ICfQlNC+0YHRgtGD0L/QtdC9JyA6ICfQndC10LTQvtGB0YLRg9C/0LXQvSd9PC9wPlxuICAgICAgICAgIDxwPtCh0YLQsNGC0YPRgSDQutC+0L3RgtGA0LDQutGC0LA6IHtjb250cmFjdFRlbmRlci5jb250cmFjdFN0YXR1c308L3A+XG4gICAgICAgICAgPHA+0J7RiNC40LHQutCwINC60L7QvdGC0YDQsNC60YLQsDoge2NvbnRyYWN0VGVuZGVyLmVycm9yIHx8ICfQndC10YInfTwvcD5cbiAgICAgICAgICB7Y29udHJhY3RUZW5kZXIuY29udHJhY3RFcnJvckRldGFpbHMgJiYgKFxuICAgICAgICAgICAgPHA+0JTQtdGC0LDQu9C4INC+0YjQuNCx0LrQuDoge2NvbnRyYWN0VGVuZGVyLmNvbnRyYWN0RXJyb3JEZXRhaWxzfTwvcD5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjb250cmFjdFRlbmRlci5mb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb24oKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNjAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgINCf0LXRgNC10L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INC60L7QvdGC0YDQsNC60YLRg1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEgYmctZ3JheS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWdyYXktNjAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgINCe0LHQvdC+0LLQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItOCBnYXAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPtCi0LXQvdC00LXRgNGLPC9oMT5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZldGNoVGVuZGVycyh0cnVlKX0gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTMgcC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ncmF5LTIwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgIHRpdGxlPVwi0J7QsdC90L7QstC40YLRjFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyYXktNjAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD1cIjJcIiBkPVwiTTQgNHY1aC41ODJtMTUuMzU2IDJBOC4wMDEgOC4wMDEgMCAwMDQuNTgyIDltMCAwSDltMTEgMTF2LTVoLS41ODFtMCAwYTguMDAzIDguMDAzIDAgMDEtMTUuMzU3LTJtMTUuMzU3IDJIMTVcIj48L3BhdGg+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1zbSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGRpdmlkZS14XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RmlsdGVyTW9kZSgnYWxsJyl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgJHtmaWx0ZXJNb2RlID09PSAnYWxsJyA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy13aGl0ZSB0ZXh0LWdyYXktNzAwJ31gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgINCS0YHQtVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZpbHRlck1vZGUoJ215Jyl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgJHtmaWx0ZXJNb2RlID09PSAnbXknID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUnIDogJ2JnLXdoaXRlIHRleHQtZ3JheS03MDAnfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg0JzQvtC4XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZpbHRlck1vZGUoJ2F2YWlsYWJsZScpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0yICR7ZmlsdGVyTW9kZSA9PT0gJ2F2YWlsYWJsZScgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZScgOiAnYmctd2hpdGUgdGV4dC1ncmF5LTcwMCd9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICDQlNC+0YHRgtGD0L/QvdGL0LVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgaHJlZj1cIi90ZW5kZXIvY3JlYXRlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHB5LTIgcHgtNCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg0KHQvtC30LTQsNGC0Ywg0YLQtdC90LTQtdGAXG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtmaWx0ZXJlZFRlbmRlcnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMTJcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1sZ1wiPlxuICAgICAgICAgICAgICB7ZmlsdGVyTW9kZSA9PT0gJ2FsbCcgPyAn0J3QtdGCINCw0LrRgtC40LLQvdGL0YUg0YLQtdC90LTQtdGA0L7QsicgOiBcbiAgICAgICAgICAgICAgIGZpbHRlck1vZGUgPT09ICdteScgPyAn0KMg0LLQsNGBINC90LXRgiDRgdC+0LfQtNCw0L3QvdGL0YUg0YLQtdC90LTQtdGA0L7QsicgOiBcbiAgICAgICAgICAgICAgICfQndC10YIg0LTQvtGB0YLRg9C/0L3Ri9GFINGC0LXQvdC00LXRgNC+0LInfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgaHJlZj1cIi90ZW5kZXIvY3JlYXRlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTUwMCBob3Zlcjp0ZXh0LWJsdWUtNjAwIG10LTQgaW5saW5lLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg0KHQvtC30LTQsNGC0Ywg0L3QvtCy0YvQuSDRgtC10L3QtNC10YBcbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAge2ZpbHRlcmVkVGVuZGVycy5tYXAocmVuZGVyVGVuZGVyKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7Lyog0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC00LvRjyDQv9GA0L7RgdC80L7RgtGA0LAg0LTQtdGC0LDQu9C10Lkg0YLQtdC90LTQtdGA0LAgKi99XG4gICAgICB7c2VsZWN0ZWRUZW5kZXIgJiYgKFxuICAgICAgICA8VGVuZGVyTW9kYWxcbiAgICAgICAgICB0ZW5kZXI9e3NlbGVjdGVkVGVuZGVyfVxuICAgICAgICAgIGlzT3Blbj17aXNNb2RhbE9wZW59XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNNb2RhbE9wZW4oZmFsc2UpfVxuICAgICAgICAgIG9uQmlkU3VibWl0dGVkPXsoKSA9PiBmZXRjaFRlbmRlcnModHJ1ZSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwiTGluayIsInVzZVdlYjMiLCJ1c2VUZW5kZXJBUEkiLCJ1c2VDb250cmFjdFRlbmRlciIsIk5hdmJhciIsIlRlbmRlck1vZGFsIiwiZXRoZXJzIiwiZXh0cmFjdE51bWJlckZyb21EZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwicHJlZml4IiwibWF0Y2giLCJSZWdFeHAiLCJwYXJzZUludCIsImV4dHJhY3RTdHJpbmdGcm9tRGVzY3JpcHRpb24iLCJtZXJnZVRlbmRlcnMiLCJkYlRlbmRlcnMiLCJjb250cmFjdFRlbmRlcnMiLCJtZXJnZWRUZW5kZXJzIiwibWFwIiwiZGJUZW5kZXIiLCJjb250cmFjdFRlbmRlciIsImZpbmQiLCJjdCIsImlkIiwidGl0bGUiLCJmcm9tQmxvY2tjaGFpbiIsImRpc3RhbmNlIiwid2VpZ2h0IiwiY2FyZ29UeXBlIiwidXJnZW5jeURheXMiLCJjcmVhdG9yIiwid2FsbGV0QWRkcmVzcyIsImJpZGRlciIsImV4cGlyZXNBdCIsIkRhdGUiLCJub3ciLCJ0b0lTT1N0cmluZyIsImZvckVhY2giLCJzb21lIiwicHVzaCIsImNyZWF0b3JJZCIsInVwZGF0ZWRBdCIsImNyZWF0ZWRBdCIsImdldE1vY2tUZW5kZXJzIiwiYnVkZ2V0IiwiZGVhZGxpbmUiLCJzdGF0dXMiLCJEYXNoYm9hcmQiLCJhY2NvdW50IiwidGVuZGVyQVBJIiwiaXNDb250cmFjdFJlYWR5Iiwic2V0SXNDb250cmFjdFJlYWR5IiwiY29udHJhY3RSZWFkeVJlZiIsImxhc3RDb250cmFjdENoZWNrUmVmIiwidGVuZGVycyIsInNldFRlbmRlcnMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJpc0xvYWRpbmdSZWYiLCJlcnJvciIsInNldEVycm9yIiwiZmlsdGVyTW9kZSIsInNldEZpbHRlck1vZGUiLCJ0aW1lTGVmdE1hcCIsInNldFRpbWVMZWZ0TWFwIiwiTWFwIiwiaGFzQXR0ZW1wdGVkRmV0Y2giLCJzZXRIYXNBdHRlbXB0ZWRGZXRjaCIsImhhc0F0dGVtcHRlZEZldGNoUmVmIiwiY29udHJhY3RXYXJuaW5nIiwic2V0Q29udHJhY3RXYXJuaW5nIiwidXJnZW50VGVuZGVycyIsInNldFVyZ2VudFRlbmRlcnMiLCJkaXJlY3RDb250cmFjdEF0dGVtcHRlZCIsInNldERpcmVjdENvbnRyYWN0QXR0ZW1wdGVkIiwic2VsZWN0ZWRUZW5kZXIiLCJzZXRTZWxlY3RlZFRlbmRlciIsImlzTW9kYWxPcGVuIiwic2V0SXNNb2RhbE9wZW4iLCJ0cnlEaXJlY3RDb250cmFjdEFjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJ3aW5kb3ciLCJldGhlcmV1bSIsIndhcm4iLCJDT05UUkFDVF9BRERSRVNTIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0NPTlRSQUNUX0FERFJFU1MiLCJicm93c2VyUHJvdmlkZXIiLCJCcm93c2VyUHJvdmlkZXIiLCJhY2NvdW50cyIsInNlbmQiLCJsZW5ndGgiLCJzaWduZXIiLCJnZXRTaWduZXIiLCJnZXRBZGRyZXNzIiwiYWJpIiwiZGlyZWN0Q29udHJhY3QiLCJDb250cmFjdCIsImFjdGl2ZVRlbmRlcklkcyIsImdldEFjdGl2ZVRlbmRlcnMiLCJkaXJlY3RUZW5kZXJzIiwiUHJvbWlzZSIsImFsbCIsInRlbmRlckRhdGEiLCJnZXRUZW5kZXIiLCJ0b1N0cmluZyIsInBhcnNlRmxvYXQiLCJmb3JtYXRFdGhlciIsImVyciIsInZhbGlkVGVuZGVycyIsImZpbHRlciIsInRlbmRlciIsImN1cnJlbnQiLCJtZW1vaXplZE1lcmdlVGVuZGVycyIsImdldEFjdGl2ZVRlbmRlcnNNZXRob2QiLCJpc0NvbnRyYWN0QXZhaWxhYmxlUmVmIiwiaXNDb250cmFjdEF2YWlsYWJsZSIsInRpbWVyIiwic2V0VGltZW91dCIsInRoZW4iLCJzdWNjZXNzIiwiY2xlYXJUaW1lb3V0IiwiZmV0Y2hUZW5kZXJzIiwiZm9yY2VSZWZyZXNoIiwiY29udHJhY3RBdmFpbGFibGUiLCJhcGlFcnJvciIsImNvbnRyYWN0UmVzcG9uc2UiLCJkYXRhIiwidW5kZWZpbmVkIiwibmF2aWdhdG9yIiwib25MaW5lIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsImFib3J0IiwicmVzcG9uc2UiLCJnZXRUZW5kZXJzIiwiaW5jbHVkZXMiLCJhcGlFcnIiLCJBcnJheSIsImlzQXJyYXkiLCJCb29sZWFuIiwiY29udHJhY3RFcnIiLCJhbGxUZW5kZXJzIiwiZGJDb3VudCIsImNvbnRyYWN0Q291bnQiLCJ0b3RhbENvdW50IiwiaXNBdmFpbGFibGUiLCJ0aW1lcklkIiwiY29udHJhY3RTdGF0ZSIsInJlZnJlc2hUaW1lciIsImlzQ29tcG9uZW50TW91bnRlZCIsInVwZGF0ZVRpbWVycyIsIm5ld01hcCIsInVyZ2VudE1hcCIsImdldFRpbWUiLCJkaWZmU2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsInNldCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImZpbHRlcmVkVGVuZGVycyIsImNyZWF0b3JBZGRyZXNzIiwidG9Mb3dlckNhc2UiLCJzaG93VGVuZGVyRGV0YWlscyIsInRlbmRlckRldGFpbHMiLCJ0aW1lTGVmdCIsImdldCIsInJlbmRlclRlbmRlciIsInN0YXR1c0NsYXNzZXMiLCJzdGF0dXNUZXh0IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJwIiwic3Vic3RyaW5nIiwic3BhbiIsInNsaWNlIiwiYnV0dG9uIiwib25DbGljayIsInJvbGUiLCJzdHJvbmciLCJ1bCIsImxpIiwiaDEiLCJjb250cmFjdFN0YXR1cyIsImNvbnRyYWN0RXJyb3JEZXRhaWxzIiwiZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uIiwibG9jYXRpb24iLCJyZWxvYWQiLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInhtbG5zIiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsImhyZWYiLCJpc09wZW4iLCJvbkNsb3NlIiwib25CaWRTdWJtaXR0ZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/dashboard.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "ethers":
/*!*************************!*\
  !*** external "ethers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = import("ethers");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-hot-toast":
/*!**********************************!*\
  !*** external "react-hot-toast" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("react-hot-toast");;

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%2Fdashboard.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();