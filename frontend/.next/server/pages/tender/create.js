/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/tender/create";
exports.ids = ["pages/tender/create"];
exports.modules = {

/***/ "(pages-dir-node)/./abi/TenderChain.json":
/*!******************************!*\
  !*** ./abi/TenderChain.json ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"TenderChain","sourceName":"contracts/TenderChain.sol","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"TenderCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"bidder","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"TenderCompleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"string","name":"title","type":"string"},{"indexed":false,"internalType":"uint256","name":"budget","type":"uint256"},{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":false,"internalType":"uint256","name":"expiresAt","type":"uint256"}],"name":"TenderCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":true,"internalType":"address","name":"bidder","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"TenderTaken","type":"event"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"cancelTender","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"completeTender","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_title","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_budget","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"uint256","name":"_distance","type":"uint256"},{"internalType":"uint256","name":"_weight","type":"uint256"},{"internalType":"string","name":"_cargoType","type":"string"},{"internalType":"uint256","name":"_urgencyDays","type":"uint256"},{"internalType":"uint256","name":"_expirationMinutes","type":"uint256"}],"name":"createTender","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getActiveTenders","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getTender","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"budget","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"distance","type":"uint256"},{"internalType":"uint256","name":"weight","type":"uint256"},{"internalType":"string","name":"cargoType","type":"string"},{"internalType":"uint256","name":"urgencyDays","type":"uint256"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"enum TenderChain.TenderStatus","name":"status","type":"uint8"},{"internalType":"uint256","name":"createdAt","type":"uint256"},{"internalType":"uint256","name":"expiresAt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"takeTender","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tenderCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tenders","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"budget","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"distance","type":"uint256"},{"internalType":"uint256","name":"weight","type":"uint256"},{"internalType":"string","name":"cargoType","type":"string"},{"internalType":"uint256","name":"urgencyDays","type":"uint256"},{"internalType":"address","name":"creator","type":"address"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"enum TenderChain.TenderStatus","name":"status","type":"uint8"},{"internalType":"uint256","name":"createdAt","type":"uint256"},{"internalType":"uint256","name":"expiresAt","type":"uint256"}],"stateMutability":"view","type":"function"}],"bytecode":"0x60808060405234610016576110e8908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c80630585c25e14610d655780631f05877614610d475780632ac6c78514610ba45780633a74e07014610a8b578063465e1def146109e857806357577b83146108cd578063659abb55146107605763666b5f371461007457600080fd5b3461075b5761012036600319011261075b5760043567ffffffffffffffff811161075b576100a6903690600401610ff0565b60243567ffffffffffffffff811161075b576100c6903690600401610ff0565b9060c43567ffffffffffffffff811161075b576100e7903690600401610ff0565b90610104359080511561072257604435156106dd57426064351115610698576001549261011384611047565b600155603c830292808404603c149015171561068257824201421161068257604051946101c0860186811067ffffffffffffffff8211176104cc5760405284865282602087015260408601526044356060860152606435608086015260843560a086015260a43560c086015260e085015260e4356101008501523361012085015260006101408501526000610160850152426101808501528142016101a0850152826000526000602052604060002084518155602085015180519067ffffffffffffffff82116104cc5781906101ec6001850154610eee565b601f811161062f575b50602090601f83116001146105bd576000926105b2575b50508160011b916000199060031b1c19161760018201555b604085015180519067ffffffffffffffff82116104cc57819061024a6002850154610eee565b601f811161055f575b50602090601f83116001146104ed576000926104e2575b50508160011b916000199060031b1c19161760028201555b606085015160038201556080850151600482015560a0850151600582015560c0850151600682015560e085015180519067ffffffffffffffff82116104cc5781906102d06007850154610eee565b601f8111610479575b50602090601f831160011461040c57600092610401575b50508160011b916000199060031b1c19161760078201555b61010085015160088201556101208501516009820180546001600160a01b0319166001600160a01b03928316179055610140860151600a830180546101608901519195909490939092169060058110156103eb5760209888967f3dbf6374bde9016468d4624c62c547cf43ae524b88d2ea7e255480407db3758c96600c946101a09460ff60a01b9060a01b16916affffffffffffffffffffff60a81b1617179055610180810151600b85015501519101556103ce60405191606083526060830190610e13565b9360443587830152420160408201528033940390a3604051908152f35b634e487b7160e01b600052602160045260246000fd5b0151905038806102f0565b600785016000908152602081209350601f198516905b8181106104615750908460019594939210610448575b505050811b016007820155610308565b015160001960f88460031b161c19169055388080610438565b92936020600181928786015181550195019301610422565b909150600784016000526020600020601f840160051c8101602085106104c5575b90849392915b601f830160051c820181106104b65750506102d9565b600081558594506001016104a0565b508061049a565b634e487b7160e01b600052604160045260246000fd5b01519050388061026a565b9250600284016000526020600020906000935b601f1984168510610544576001945083601f1981161061052b575b505050811b016002820155610282565b015160001960f88460031b161c1916905538808061051b565b81810151835560209485019460019093019290910190610500565b909150600284016000526020600020601f840160051c8101602085106105ab575b90849392915b601f830160051c8201811061059c575050610253565b60008155859450600101610586565b5080610580565b01519050388061020c565b9250600184016000526020600020906000935b601f1984168510610614576001945083601f198116106105fb575b505050811b016001820155610224565b015160001960f88460031b161c191690553880806105eb565b818101518355602094850194600190930192909101906105d0565b909150600184016000526020600020601f840160051c81016020851061067b575b90849392915b601f830160051c8201811061066c5750506101f5565b60008155859450600101610656565b5080610650565b634e487b7160e01b600052601160045260246000fd5b60405162461bcd60e51b815260206004820152601e60248201527f446561646c696e65206d75737420626520696e207468652066757475726500006044820152606490fd5b60405162461bcd60e51b815260206004820152601d60248201527f427564676574206d7573742062652067726561746572207468616e20300000006044820152606490fd5b60405162461bcd60e51b8152602060048201526011602482015270151a5d1b19481a5cc81c995c5d5a5c9959607a1b6044820152606490fd5b600080fd5b3461075b5760208060031936011261075b5760043560008181528083526040902060098101546001600160a01b031661079a811515611056565b331461088857600a81019081549060ff8260a01c1660058110156103eb5761084e57600c0154421015610814576001600160a81b0319163360ff60a01b19811691909117600160a11b1790915560405142815290927f2d219e8fc54d0eaeb33a8ba01ccc277da4ac9011e9dd7e7b4a80a0258edc0a9b91a3005b60405162461bcd60e51b815260048101859052601260248201527115195b99195c881a185cc8195e1c1a5c995960721b6044820152606490fd5b60405162461bcd60e51b81526004810186905260126024820152712a32b73232b91034b9903737ba1037b832b760711b6044820152606490fd5b60405162461bcd60e51b815260048101849052601b60248201527f43616e6e6f742074616b6520796f7572206f776e2074656e64657200000000006044820152606490fd5b3461075b57602036600319011261075b576004356000818152602081905260409020600a018054336001600160a01b038216036109995760ff8160a01c1660058110156103eb5760020361095b5760ff60a01b1916600360a01b1790556040514281523391907fc17b163892115f1fb664bffa8733edbcb472908a5b8a8858085c2687729b982a90602090a3005b60405162461bcd60e51b815260206004820152601660248201527515195b99195c881b5d5cdd08189948185dd85c99195960521b6044820152606490fd5b60405162461bcd60e51b815260206004820152602160248201527f4f6e6c792061737369676e6564206269646465722063616e20636f6d706c65746044820152606560f81b6064820152608490fd5b3461075b57602036600319011261075b57600435600052600060205260406000208054610a87610a1a60018401610f4a565b92610a2760028201610f4a565b90600381015460048201546005830154906006840154610a4960078601610f4a565b60088601549160018060a01b03948560098901541694600a89015497600c600b8b01549a01549a6040519e8f9e8f9a60ff8d60a01c169c169a610e53565b0390f35b3461075b57602036600319011261075b57600435600081815260208190526040902060098101546001600160a01b03163303610b5f57600a01805460ff8160a01c1660058110156103eb57610b1a5760ff60a01b1916600160a21b1790556040514281523391907f121260d8e5a90e25b8efcafc18268061d5e0ba4b7b58b6a9db4a60048e3582bb90602090a3005b60405162461bcd60e51b815260206004820152601c60248201527f43616e206f6e6c792063616e63656c206f70656e2074656e64657273000000006044820152606490fd5b60405162461bcd60e51b815260206004820152601760248201527f4f6e6c792063726561746f722063616e2063616e63656c0000000000000000006044820152606490fd5b3461075b57600036600319011261075b57600180546000805b828110610cdb575082610be8610bd28361109a565b92610be06040519485610f28565b80845261109a565b6020838101949091601f19013686376000805b828210610c3d5750505060405192818401908285525180915260408401949160005b828110610c2a5785870386f35b8351875295810195928101928401610c1d565b816000979597969496526000865260ff600a6040600020015460a01c16600590818110156103eb571580610cc2575b610c88575b5090610c7c90611047565b90959395949294610bfb565b8451821015610cac57818388610c7c94610ca6941b88010152611047565b90610c71565b634e487b7160e01b600052603260045260246000fd5b508260005260008752600c604060002001544210610c6c565b8060005260206000815260ff600a6040600020015460a01c1660058110156103eb57159081610d2e575b50610d19575b610d1490611047565b610bbd565b90610d26610d1491611047565b919050610d0b565b6000915082825252600c60406000200154421085610d05565b3461075b57600036600319011261075b576020600154604051908152f35b3461075b57602036600319011261075b576004356000526000602052604060002060018060a01b03610a878160098401541691610da3831515611056565b835492600385015494600481015492600582015492600683015492600881015490600a81015494600b82015496600c83015498610de260018501610f4a565b9c610dfb6007610df460028801610f4a565b9601610f4a565b946040519e8f9e8f9a60ff8d60a01c169c169a610e53565b919082519283825260005b848110610e3f575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610e1e565b9a97949192989e9d9c9998610e80610eb098959794610e8e938e528d6101c0908160208201520190610e13565b8c810360408e015290610e13565b9460608b015260808a015260a089015260c088015286820360e0880152610e13565b6101008501989098526001600160a01b039182166101208501521661014083015260058310156103eb576101a0926101608301526101808201520152565b90600182811c92168015610f1e575b6020831014610f0857565b634e487b7160e01b600052602260045260246000fd5b91607f1691610efd565b90601f8019910116810190811067ffffffffffffffff8211176104cc57604052565b9060405191826000825492610f5e84610eee565b908184526001948581169081600014610fcd5750600114610f8a575b5050610f8892500383610f28565b565b9093915060005260209081600020936000915b818310610fb5575050610f8893508201013880610f7a565b85548884018501529485019487945091830191610f9d565b915050610f8894506020925060ff191682840152151560051b8201013880610f7a565b81601f8201121561075b5780359067ffffffffffffffff82116104cc5760405192611025601f8401601f191660200185610f28565b8284526020838301011161075b57816000926020809301838601378301015290565b60001981146106825760010190565b1561105d57565b60405162461bcd60e51b815260206004820152601560248201527415195b99195c88191bd95cc81b9bdd08195e1a5cdd605a1b6044820152606490fd5b67ffffffffffffffff81116104cc5760051b6020019056fea264697066735822122032122b3ece22ffba9be8c5860bedcbc5384e2eb2b5372af268acdb52e59070c664736f6c63430008140033","deployedBytecode":"0x6080604052600436101561001257600080fd5b60003560e01c80630585c25e14610d655780631f05877614610d475780632ac6c78514610ba45780633a74e07014610a8b578063465e1def146109e857806357577b83146108cd578063659abb55146107605763666b5f371461007457600080fd5b3461075b5761012036600319011261075b5760043567ffffffffffffffff811161075b576100a6903690600401610ff0565b60243567ffffffffffffffff811161075b576100c6903690600401610ff0565b9060c43567ffffffffffffffff811161075b576100e7903690600401610ff0565b90610104359080511561072257604435156106dd57426064351115610698576001549261011384611047565b600155603c830292808404603c149015171561068257824201421161068257604051946101c0860186811067ffffffffffffffff8211176104cc5760405284865282602087015260408601526044356060860152606435608086015260843560a086015260a43560c086015260e085015260e4356101008501523361012085015260006101408501526000610160850152426101808501528142016101a0850152826000526000602052604060002084518155602085015180519067ffffffffffffffff82116104cc5781906101ec6001850154610eee565b601f811161062f575b50602090601f83116001146105bd576000926105b2575b50508160011b916000199060031b1c19161760018201555b604085015180519067ffffffffffffffff82116104cc57819061024a6002850154610eee565b601f811161055f575b50602090601f83116001146104ed576000926104e2575b50508160011b916000199060031b1c19161760028201555b606085015160038201556080850151600482015560a0850151600582015560c0850151600682015560e085015180519067ffffffffffffffff82116104cc5781906102d06007850154610eee565b601f8111610479575b50602090601f831160011461040c57600092610401575b50508160011b916000199060031b1c19161760078201555b61010085015160088201556101208501516009820180546001600160a01b0319166001600160a01b03928316179055610140860151600a830180546101608901519195909490939092169060058110156103eb5760209888967f3dbf6374bde9016468d4624c62c547cf43ae524b88d2ea7e255480407db3758c96600c946101a09460ff60a01b9060a01b16916affffffffffffffffffffff60a81b1617179055610180810151600b85015501519101556103ce60405191606083526060830190610e13565b9360443587830152420160408201528033940390a3604051908152f35b634e487b7160e01b600052602160045260246000fd5b0151905038806102f0565b600785016000908152602081209350601f198516905b8181106104615750908460019594939210610448575b505050811b016007820155610308565b015160001960f88460031b161c19169055388080610438565b92936020600181928786015181550195019301610422565b909150600784016000526020600020601f840160051c8101602085106104c5575b90849392915b601f830160051c820181106104b65750506102d9565b600081558594506001016104a0565b508061049a565b634e487b7160e01b600052604160045260246000fd5b01519050388061026a565b9250600284016000526020600020906000935b601f1984168510610544576001945083601f1981161061052b575b505050811b016002820155610282565b015160001960f88460031b161c1916905538808061051b565b81810151835560209485019460019093019290910190610500565b909150600284016000526020600020601f840160051c8101602085106105ab575b90849392915b601f830160051c8201811061059c575050610253565b60008155859450600101610586565b5080610580565b01519050388061020c565b9250600184016000526020600020906000935b601f1984168510610614576001945083601f198116106105fb575b505050811b016001820155610224565b015160001960f88460031b161c191690553880806105eb565b818101518355602094850194600190930192909101906105d0565b909150600184016000526020600020601f840160051c81016020851061067b575b90849392915b601f830160051c8201811061066c5750506101f5565b60008155859450600101610656565b5080610650565b634e487b7160e01b600052601160045260246000fd5b60405162461bcd60e51b815260206004820152601e60248201527f446561646c696e65206d75737420626520696e207468652066757475726500006044820152606490fd5b60405162461bcd60e51b815260206004820152601d60248201527f427564676574206d7573742062652067726561746572207468616e20300000006044820152606490fd5b60405162461bcd60e51b8152602060048201526011602482015270151a5d1b19481a5cc81c995c5d5a5c9959607a1b6044820152606490fd5b600080fd5b3461075b5760208060031936011261075b5760043560008181528083526040902060098101546001600160a01b031661079a811515611056565b331461088857600a81019081549060ff8260a01c1660058110156103eb5761084e57600c0154421015610814576001600160a81b0319163360ff60a01b19811691909117600160a11b1790915560405142815290927f2d219e8fc54d0eaeb33a8ba01ccc277da4ac9011e9dd7e7b4a80a0258edc0a9b91a3005b60405162461bcd60e51b815260048101859052601260248201527115195b99195c881a185cc8195e1c1a5c995960721b6044820152606490fd5b60405162461bcd60e51b81526004810186905260126024820152712a32b73232b91034b9903737ba1037b832b760711b6044820152606490fd5b60405162461bcd60e51b815260048101849052601b60248201527f43616e6e6f742074616b6520796f7572206f776e2074656e64657200000000006044820152606490fd5b3461075b57602036600319011261075b576004356000818152602081905260409020600a018054336001600160a01b038216036109995760ff8160a01c1660058110156103eb5760020361095b5760ff60a01b1916600360a01b1790556040514281523391907fc17b163892115f1fb664bffa8733edbcb472908a5b8a8858085c2687729b982a90602090a3005b60405162461bcd60e51b815260206004820152601660248201527515195b99195c881b5d5cdd08189948185dd85c99195960521b6044820152606490fd5b60405162461bcd60e51b815260206004820152602160248201527f4f6e6c792061737369676e6564206269646465722063616e20636f6d706c65746044820152606560f81b6064820152608490fd5b3461075b57602036600319011261075b57600435600052600060205260406000208054610a87610a1a60018401610f4a565b92610a2760028201610f4a565b90600381015460048201546005830154906006840154610a4960078601610f4a565b60088601549160018060a01b03948560098901541694600a89015497600c600b8b01549a01549a6040519e8f9e8f9a60ff8d60a01c169c169a610e53565b0390f35b3461075b57602036600319011261075b57600435600081815260208190526040902060098101546001600160a01b03163303610b5f57600a01805460ff8160a01c1660058110156103eb57610b1a5760ff60a01b1916600160a21b1790556040514281523391907f121260d8e5a90e25b8efcafc18268061d5e0ba4b7b58b6a9db4a60048e3582bb90602090a3005b60405162461bcd60e51b815260206004820152601c60248201527f43616e206f6e6c792063616e63656c206f70656e2074656e64657273000000006044820152606490fd5b60405162461bcd60e51b815260206004820152601760248201527f4f6e6c792063726561746f722063616e2063616e63656c0000000000000000006044820152606490fd5b3461075b57600036600319011261075b57600180546000805b828110610cdb575082610be8610bd28361109a565b92610be06040519485610f28565b80845261109a565b6020838101949091601f19013686376000805b828210610c3d5750505060405192818401908285525180915260408401949160005b828110610c2a5785870386f35b8351875295810195928101928401610c1d565b816000979597969496526000865260ff600a6040600020015460a01c16600590818110156103eb571580610cc2575b610c88575b5090610c7c90611047565b90959395949294610bfb565b8451821015610cac57818388610c7c94610ca6941b88010152611047565b90610c71565b634e487b7160e01b600052603260045260246000fd5b508260005260008752600c604060002001544210610c6c565b8060005260206000815260ff600a6040600020015460a01c1660058110156103eb57159081610d2e575b50610d19575b610d1490611047565b610bbd565b90610d26610d1491611047565b919050610d0b565b6000915082825252600c60406000200154421085610d05565b3461075b57600036600319011261075b576020600154604051908152f35b3461075b57602036600319011261075b576004356000526000602052604060002060018060a01b03610a878160098401541691610da3831515611056565b835492600385015494600481015492600582015492600683015492600881015490600a81015494600b82015496600c83015498610de260018501610f4a565b9c610dfb6007610df460028801610f4a565b9601610f4a565b946040519e8f9e8f9a60ff8d60a01c169c169a610e53565b919082519283825260005b848110610e3f575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610e1e565b9a97949192989e9d9c9998610e80610eb098959794610e8e938e528d6101c0908160208201520190610e13565b8c810360408e015290610e13565b9460608b015260808a015260a089015260c088015286820360e0880152610e13565b6101008501989098526001600160a01b039182166101208501521661014083015260058310156103eb576101a0926101608301526101808201520152565b90600182811c92168015610f1e575b6020831014610f0857565b634e487b7160e01b600052602260045260246000fd5b91607f1691610efd565b90601f8019910116810190811067ffffffffffffffff8211176104cc57604052565b9060405191826000825492610f5e84610eee565b908184526001948581169081600014610fcd5750600114610f8a575b5050610f8892500383610f28565b565b9093915060005260209081600020936000915b818310610fb5575050610f8893508201013880610f7a565b85548884018501529485019487945091830191610f9d565b915050610f8894506020925060ff191682840152151560051b8201013880610f7a565b81601f8201121561075b5780359067ffffffffffffffff82116104cc5760405192611025601f8401601f191660200185610f28565b8284526020838301011161075b57816000926020809301838601378301015290565b60001981146106825760010190565b1561105d57565b60405162461bcd60e51b815260206004820152601560248201527415195b99195c88191bd95cc81b9bdd08195e1a5cdd605a1b6044820152606490fd5b67ffffffffffffffff81116104cc5760051b6020019056fea264697066735822122032122b3ece22ffba9be8c5860bedcbc5384e2eb2b5372af268acdb52e59070c664736f6c63430008140033","linkReferences":{},"deployedLinkReferences":{}}');

/***/ }),

/***/ "(pages-dir-node)/./components/Navbar.tsx":
/*!*******************************!*\
  !*** ./components/Navbar.tsx ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Navbar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(pages-dir-node)/./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useWeb3 */ \"(pages-dir-node)/./hooks/useWeb3.ts\");\n/* harmony import */ var _NetworkSelector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NetworkSelector */ \"(pages-dir-node)/./components/NetworkSelector.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__, _NetworkSelector__WEBPACK_IMPORTED_MODULE_3__]);\n([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__, _NetworkSelector__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction Navbar() {\n    const { account, connectWallet, isConnecting } = (0,_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_2__.useWeb3)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n        className: \"bg-white shadow-lg\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between h-16\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 flex items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                    href: \"/\",\n                                    className: \"text-xl font-bold text-gray-800\",\n                                    children: \"TenderChain\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                    lineNumber: 14,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 13,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"hidden sm:ml-6 sm:flex sm:space-x-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                        href: \"/\",\n                                        className: \"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 border-b-2 border-transparent hover:border-gray-300\",\n                                        children: \"Главная\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                        lineNumber: 19,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                        href: \"/dashboard\",\n                                        className: \"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 border-b-2 border-transparent hover:border-gray-300\",\n                                        children: \"Кабинет\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                        lineNumber: 25,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 18,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                        lineNumber: 12,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_NetworkSelector__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 34,\n                                columnNumber: 13\n                            }, this),\n                            account ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm font-medium text-gray-900 bg-gray-100 rounded-full px-4 py-2\",\n                                children: [\n                                    account.substring(0, 6),\n                                    \"...\",\n                                    account.substring(account.length - 4)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 36,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: connectWallet,\n                                disabled: isConnecting,\n                                className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-300\",\n                                children: isConnecting ? \"Подключение...\" : \"Подключить кошелек\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n                lineNumber: 11,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/Navbar.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvTmF2YmFyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE2QjtBQUNjO0FBQ0s7QUFFakMsU0FBU0c7SUFDdEIsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGFBQWEsRUFBRUMsWUFBWSxFQUFFLEdBQUdMLHVEQUFPQTtJQUV4RCxxQkFDRSw4REFBQ007UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0M7WUFBSUQsV0FBVTtzQkFDYiw0RUFBQ0M7Z0JBQUlELFdBQVU7O2tDQUNiLDhEQUFDQzt3QkFBSUQsV0FBVTs7MENBQ2IsOERBQUNDO2dDQUFJRCxXQUFVOzBDQUNiLDRFQUFDUixrREFBSUE7b0NBQUNVLE1BQUs7b0NBQUlGLFdBQVU7OENBQWtDOzs7Ozs7Ozs7OzswQ0FJN0QsOERBQUNDO2dDQUFJRCxXQUFVOztrREFDYiw4REFBQ1Isa0RBQUlBO3dDQUNIVSxNQUFLO3dDQUNMRixXQUFVO2tEQUNYOzs7Ozs7a0RBR0QsOERBQUNSLGtEQUFJQTt3Q0FDSFUsTUFBSzt3Q0FDTEYsV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQUtMLDhEQUFDQzt3QkFBSUQsV0FBVTs7MENBQ2IsOERBQUNOLHdEQUFlQTs7Ozs7NEJBQ2ZFLHdCQUNDLDhEQUFDSztnQ0FBSUQsV0FBVTs7b0NBQ1pKLFFBQVFPLFNBQVMsQ0FBQyxHQUFHO29DQUFHO29DQUFJUCxRQUFRTyxTQUFTLENBQUNQLFFBQVFRLE1BQU0sR0FBRzs7Ozs7O3FEQUdsRSw4REFBQ0M7Z0NBQ0NDLFNBQVNUO2dDQUNUVSxVQUFVVDtnQ0FDVkUsV0FBVTswQ0FFVEYsZUFBZSxtQkFBbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGRpeWFyYm9sZWdlbm92L3RlbmRlci9mcm9udGVuZC9jb21wb25lbnRzL05hdmJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCB7IHVzZVdlYjMgfSBmcm9tICcuLi9ob29rcy91c2VXZWIzJztcbmltcG9ydCBOZXR3b3JrU2VsZWN0b3IgZnJvbSAnLi9OZXR3b3JrU2VsZWN0b3InO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBOYXZiYXIoKSB7XG4gIGNvbnN0IHsgYWNjb3VudCwgY29ubmVjdFdhbGxldCwgaXNDb25uZWN0aW5nIH0gPSB1c2VXZWIzKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8bmF2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1sZ1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGgtMTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL1wiIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICBUZW5kZXJDaGFpblxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuIHNtOm1sLTYgc206ZmxleCBzbTpzcGFjZS14LThcIj5cbiAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICBocmVmPVwiL1wiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTEgcHQtMSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgYm9yZGVyLWItMiBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgINCT0LvQsNCy0L3QsNGPXG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICBocmVmPVwiL2Rhc2hib2FyZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTEgcHQtMSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgYm9yZGVyLWItMiBib3JkZXItdHJhbnNwYXJlbnQgaG92ZXI6Ym9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgINCa0LDQsdC40L3QtdGCXG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICA8TmV0d29ya1NlbGVjdG9yIC8+XG4gICAgICAgICAgICB7YWNjb3VudCA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgYmctZ3JheS0xMDAgcm91bmRlZC1mdWxsIHB4LTQgcHktMlwiPlxuICAgICAgICAgICAgICAgIHthY2NvdW50LnN1YnN0cmluZygwLCA2KX0uLi57YWNjb3VudC5zdWJzdHJpbmcoYWNjb3VudC5sZW5ndGggLSA0KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17Y29ubmVjdFdhbGxldH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDb25uZWN0aW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBweC00IHB5LTIgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtbWQgdGV4dC13aGl0ZSBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy1ibHVlLTUwMCBkaXNhYmxlZDpiZy1ibHVlLTMwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNDb25uZWN0aW5nID8gXCLQn9C+0LTQutC70Y7Rh9C10L3QuNC1Li4uXCIgOiBcItCf0L7QtNC60LvRjtGH0LjRgtGMINC60L7RiNC10LvQtdC6XCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L25hdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiTGluayIsInVzZVdlYjMiLCJOZXR3b3JrU2VsZWN0b3IiLCJOYXZiYXIiLCJhY2NvdW50IiwiY29ubmVjdFdhbGxldCIsImlzQ29ubmVjdGluZyIsIm5hdiIsImNsYXNzTmFtZSIsImRpdiIsImhyZWYiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/Navbar.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./components/NetworkSelector.tsx":
/*!****************************************!*\
  !*** ./components/NetworkSelector.tsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NetworkSelector)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useContractTender */ \"(pages-dir-node)/./hooks/useContractTender.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__, react_hot_toast__WEBPACK_IMPORTED_MODULE_3__]);\n([_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__, react_hot_toast__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction NetworkSelector() {\n    const { addHardhatNetworkToMetaMask, forceContractInitialization, isContractAvailable, contractStatus } = (0,_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n    const [isAdding, setIsAdding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleAddHardhatNetwork = async ()=>{\n        setIsAdding(true);\n        try {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.loading('Добавление сети Hardhat...', {\n                id: 'add-hardhat'\n            });\n            const success = await addHardhatNetworkToMetaMask();\n            if (success) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Сеть Hardhat успешно добавлена!', {\n                    id: 'add-hardhat'\n                });\n                // Try to reconnect to contract\n                const contractInitialized = await forceContractInitialization();\n                if (contractInitialized) {\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Подключение к контракту успешно!', {\n                        id: 'contract-init'\n                    });\n                } else {\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Не удалось подключиться к контракту', {\n                        id: 'contract-init'\n                    });\n                }\n            } else {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Не удалось добавить сеть Hardhat', {\n                    id: 'add-hardhat'\n                });\n            }\n        } catch (error) {\n            console.error('Error adding Hardhat network:', error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Ошибка при добавлении сети Hardhat', {\n                id: 'add-hardhat'\n            });\n        } finally{\n            setIsAdding(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: handleAddHardhatNetwork,\n            disabled: isAdding || isContractAvailable,\n            className: `flex items-center px-3 py-1.5 text-xs font-medium rounded-md ${isContractAvailable ? 'text-green-800 bg-green-100' : 'text-yellow-800 bg-yellow-100 hover:bg-yellow-200'} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50`,\n            children: isContractAvailable ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"h-2 w-2 rounded-full bg-green-500 mr-1.5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                        lineNumber: 48,\n                        columnNumber: 13\n                    }, this),\n                    \"Контракт доступен\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                lineNumber: 47,\n                columnNumber: 11\n            }, this) : isAdding ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-yellow-800\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                className: \"opacity-25\",\n                                cx: \"12\",\n                                cy: \"12\",\n                                r: \"10\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                                lineNumber: 54,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                className: \"opacity-75\",\n                                fill: \"currentColor\",\n                                d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                                lineNumber: 55,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 13\n                    }, this),\n                    \"Подключение...\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                lineNumber: 52,\n                columnNumber: 11\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"flex items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"h-2 w-2 rounded-full bg-yellow-500 mr-1.5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                        lineNumber: 61,\n                        columnNumber: 13\n                    }, this),\n                    \"Подключить к Hardhat\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n                lineNumber: 60,\n                columnNumber: 11\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n            lineNumber: 37,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/NetworkSelector.tsx\",\n        lineNumber: 36,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvTmV0d29ya1NlbGVjdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFpQztBQUMwQjtBQUNuQjtBQUV6QixTQUFTRztJQUN0QixNQUFNLEVBQUVDLDJCQUEyQixFQUFFQywyQkFBMkIsRUFBRUMsbUJBQW1CLEVBQUVDLGNBQWMsRUFBRSxHQUFHTixvRUFBaUJBO0lBQzNILE1BQU0sQ0FBQ08sVUFBVUMsWUFBWSxHQUFHVCwrQ0FBUUEsQ0FBQztJQUV6QyxNQUFNVSwwQkFBMEI7UUFDOUJELFlBQVk7UUFDWixJQUFJO1lBQ0ZQLGtEQUFLQSxDQUFDUyxPQUFPLENBQUMsOEJBQThCO2dCQUFFQyxJQUFJO1lBQWM7WUFDaEUsTUFBTUMsVUFBVSxNQUFNVDtZQUV0QixJQUFJUyxTQUFTO2dCQUNYWCxrREFBS0EsQ0FBQ1csT0FBTyxDQUFDLG1DQUFtQztvQkFBRUQsSUFBSTtnQkFBYztnQkFDckUsK0JBQStCO2dCQUMvQixNQUFNRSxzQkFBc0IsTUFBTVQ7Z0JBQ2xDLElBQUlTLHFCQUFxQjtvQkFDdkJaLGtEQUFLQSxDQUFDVyxPQUFPLENBQUMsb0NBQW9DO3dCQUFFRCxJQUFJO29CQUFnQjtnQkFDMUUsT0FBTztvQkFDTFYsa0RBQUtBLENBQUNhLEtBQUssQ0FBQyx1Q0FBdUM7d0JBQUVILElBQUk7b0JBQWdCO2dCQUMzRTtZQUNGLE9BQU87Z0JBQ0xWLGtEQUFLQSxDQUFDYSxLQUFLLENBQUMsb0NBQW9DO29CQUFFSCxJQUFJO2dCQUFjO1lBQ3RFO1FBQ0YsRUFBRSxPQUFPRyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DYixrREFBS0EsQ0FBQ2EsS0FBSyxDQUFDLHNDQUFzQztnQkFBRUgsSUFBSTtZQUFjO1FBQ3hFLFNBQVU7WUFDUkgsWUFBWTtRQUNkO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ1E7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0M7WUFDQ0MsU0FBU1Y7WUFDVFcsVUFBVWIsWUFBWUY7WUFDdEJZLFdBQVcsQ0FBQyw2REFBNkQsRUFDdkVaLHNCQUNJLGdDQUNBLG9EQUNMLDhGQUE4RixDQUFDO3NCQUUvRkEsb0NBQ0MsOERBQUNnQjtnQkFBS0osV0FBVTs7a0NBQ2QsOERBQUNJO3dCQUFLSixXQUFVOzs7Ozs7b0JBQWtEOzs7Ozs7dUJBR2xFVix5QkFDRiw4REFBQ2M7Z0JBQUtKLFdBQVU7O2tDQUNkLDhEQUFDSzt3QkFBSUwsV0FBVTt3QkFBa0RNLE9BQU07d0JBQTZCQyxNQUFLO3dCQUFPQyxTQUFROzswQ0FDdEgsOERBQUNDO2dDQUFPVCxXQUFVO2dDQUFhVSxJQUFHO2dDQUFLQyxJQUFHO2dDQUFLQyxHQUFFO2dDQUFLQyxRQUFPO2dDQUFlQyxhQUFZOzs7Ozs7MENBQ3hGLDhEQUFDQztnQ0FBS2YsV0FBVTtnQ0FBYU8sTUFBSztnQ0FBZVMsR0FBRTs7Ozs7Ozs7Ozs7O29CQUMvQzs7Ozs7O3FDQUlSLDhEQUFDWjtnQkFBS0osV0FBVTs7a0NBQ2QsOERBQUNJO3dCQUFLSixXQUFVOzs7Ozs7b0JBQW1EOzs7Ozs7Ozs7Ozs7Ozs7OztBQU8vRSIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZGl5YXJib2xlZ2Vub3YvdGVuZGVyL2Zyb250ZW5kL2NvbXBvbmVudHMvTmV0d29ya1NlbGVjdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VDb250cmFjdFRlbmRlciBmcm9tICcuLi9ob29rcy91c2VDb250cmFjdFRlbmRlcic7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE5ldHdvcmtTZWxlY3RvcigpIHtcbiAgY29uc3QgeyBhZGRIYXJkaGF0TmV0d29ya1RvTWV0YU1hc2ssIGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbiwgaXNDb250cmFjdEF2YWlsYWJsZSwgY29udHJhY3RTdGF0dXMgfSA9IHVzZUNvbnRyYWN0VGVuZGVyKCk7XG4gIGNvbnN0IFtpc0FkZGluZywgc2V0SXNBZGRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGhhbmRsZUFkZEhhcmRoYXROZXR3b3JrID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzQWRkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICB0b2FzdC5sb2FkaW5nKCfQlNC+0LHQsNCy0LvQtdC90LjQtSDRgdC10YLQuCBIYXJkaGF0Li4uJywgeyBpZDogJ2FkZC1oYXJkaGF0JyB9KTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBhZGRIYXJkaGF0TmV0d29ya1RvTWV0YU1hc2soKTtcbiAgICAgIFxuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgdG9hc3Quc3VjY2Vzcygn0KHQtdGC0YwgSGFyZGhhdCDRg9GB0L/QtdGI0L3QviDQtNC+0LHQsNCy0LvQtdC90LAhJywgeyBpZDogJ2FkZC1oYXJkaGF0JyB9KTtcbiAgICAgICAgLy8gVHJ5IHRvIHJlY29ubmVjdCB0byBjb250cmFjdFxuICAgICAgICBjb25zdCBjb250cmFjdEluaXRpYWxpemVkID0gYXdhaXQgZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uKCk7XG4gICAgICAgIGlmIChjb250cmFjdEluaXRpYWxpemVkKSB7XG4gICAgICAgICAgdG9hc3Quc3VjY2Vzcygn0J/QvtC00LrQu9GO0YfQtdC90LjQtSDQuiDQutC+0L3RgtGA0LDQutGC0YMg0YPRgdC/0LXRiNC90L4hJywgeyBpZDogJ2NvbnRyYWN0LWluaXQnIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvYXN0LmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyDQuiDQutC+0L3RgtGA0LDQutGC0YMnLCB7IGlkOiAnY29udHJhY3QtaW5pdCcgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmVycm9yKCfQndC1INGD0LTQsNC70L7RgdGMINC00L7QsdCw0LLQuNGC0Ywg0YHQtdGC0YwgSGFyZGhhdCcsIHsgaWQ6ICdhZGQtaGFyZGhhdCcgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBIYXJkaGF0IG5ldHdvcms6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0YHQtdGC0LggSGFyZGhhdCcsIHsgaWQ6ICdhZGQtaGFyZGhhdCcgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzQWRkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRIYXJkaGF0TmV0d29ya31cbiAgICAgICAgZGlzYWJsZWQ9e2lzQWRkaW5nIHx8IGlzQ29udHJhY3RBdmFpbGFibGV9XG4gICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIHB4LTMgcHktMS41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1tZCAke1xuICAgICAgICAgIGlzQ29udHJhY3RBdmFpbGFibGUgXG4gICAgICAgICAgICA/ICd0ZXh0LWdyZWVuLTgwMCBiZy1ncmVlbi0xMDAnIFxuICAgICAgICAgICAgOiAndGV4dC15ZWxsb3ctODAwIGJnLXllbGxvdy0xMDAgaG92ZXI6YmcteWVsbG93LTIwMCdcbiAgICAgICAgfSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jdXM6cmluZy15ZWxsb3ctNTAwIGRpc2FibGVkOm9wYWNpdHktNTBgfVxuICAgICAgPlxuICAgICAgICB7aXNDb250cmFjdEF2YWlsYWJsZSA/IChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaC0yIHctMiByb3VuZGVkLWZ1bGwgYmctZ3JlZW4tNTAwIG1yLTEuNVwiPjwvc3Bhbj5cbiAgICAgICAgICAgINCa0L7QvdGC0YDQsNC60YIg0LTQvtGB0YLRg9C/0LXQvVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKSA6IGlzQWRkaW5nID8gKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiAtbWwtMSBtci0yIGgtNCB3LTQgdGV4dC15ZWxsb3ctODAwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgINCf0L7QtNC60LvRjtGH0LXQvdC40LUuLi5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImgtMiB3LTIgcm91bmRlZC1mdWxsIGJnLXllbGxvdy01MDAgbXItMS41XCI+PC9zcGFuPlxuICAgICAgICAgICAg0J/QvtC00LrQu9GO0YfQuNGC0Ywg0LogSGFyZGhhdFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDb250cmFjdFRlbmRlciIsInRvYXN0IiwiTmV0d29ya1NlbGVjdG9yIiwiYWRkSGFyZGhhdE5ldHdvcmtUb01ldGFNYXNrIiwiZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uIiwiaXNDb250cmFjdEF2YWlsYWJsZSIsImNvbnRyYWN0U3RhdHVzIiwiaXNBZGRpbmciLCJzZXRJc0FkZGluZyIsImhhbmRsZUFkZEhhcmRoYXROZXR3b3JrIiwibG9hZGluZyIsImlkIiwic3VjY2VzcyIsImNvbnRyYWN0SW5pdGlhbGl6ZWQiLCJlcnJvciIsImNvbnNvbGUiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzcGFuIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJwYXRoIiwiZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/NetworkSelector.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./components/PricePredictor.tsx":
/*!***************************************!*\
  !*** ./components/PricePredictor.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PricePredictor)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction PricePredictor({ distance, weight, cargoType, urgencyDays }) {\n    const [prediction, setPrediction] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handlePredict = async ()=>{\n        if (!distance || !weight) {\n            setError('Пожалуйста, укажите расстояние и вес');\n            return;\n        }\n        setLoading(true);\n        setError(null);\n        try {\n            const response = await fetch('http://localhost:8000/predict', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    distance_km: parseFloat(distance),\n                    weight_kg: parseFloat(weight),\n                    cargo_type: cargoType,\n                    urgency_days: parseFloat(urgencyDays)\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.detail || 'Ошибка при получении прогноза');\n            }\n            const data = await response.json();\n            setPrediction(data.predicted_price.toString());\n        } catch (err) {\n            setError(err instanceof Error ? err.message : 'Неизвестная ошибка');\n            console.error(\"Prediction error:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"predictor-container\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                children: \"Предсказание цены\"\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/PricePredictor.tsx\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: handlePredict,\n                disabled: loading,\n                className: \"predict-button\",\n                children: loading ? 'Загрузка...' : 'Рассчитать цену'\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/PricePredictor.tsx\",\n                lineNumber: 59,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"error-message\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/PricePredictor.tsx\",\n                lineNumber: 68,\n                columnNumber: 9\n            }, this),\n            prediction && !error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"prediction-result\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                        children: \"Предсказанная цена:\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/PricePredictor.tsx\",\n                        lineNumber: 73,\n                        columnNumber: 11\n                    }, this),\n                    \" $\",\n                    prediction\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/PricePredictor.tsx\",\n                lineNumber: 72,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/components/PricePredictor.tsx\",\n        lineNumber: 57,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvUHJpY2VQcmVkaWN0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpQztBQVNsQixTQUFTQyxlQUFlLEVBQ3JDQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsU0FBUyxFQUNUQyxXQUFXLEVBQ1M7SUFDcEIsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdQLCtDQUFRQSxDQUFnQjtJQUM1RCxNQUFNLENBQUNRLFNBQVNDLFdBQVcsR0FBR1QsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDVSxPQUFPQyxTQUFTLEdBQUdYLCtDQUFRQSxDQUFnQjtJQUVsRCxNQUFNWSxnQkFBZ0I7UUFDcEIsSUFBSSxDQUFDVixZQUFZLENBQUNDLFFBQVE7WUFDeEJRLFNBQVM7WUFDVDtRQUNGO1FBRUFGLFdBQVc7UUFDWEUsU0FBUztRQUVULElBQUk7WUFDRixNQUFNRSxXQUFXLE1BQU1DLE1BQU0saUNBQWlDO2dCQUM1REMsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUNuQkMsYUFBYUMsV0FBV25CO29CQUN4Qm9CLFdBQVdELFdBQVdsQjtvQkFDdEJvQixZQUFZbkI7b0JBQ1pvQixjQUFjSCxXQUFXaEI7Z0JBQzNCO1lBQ0Y7WUFFQSxJQUFJLENBQUNRLFNBQVNZLEVBQUUsRUFBRTtnQkFDaEIsTUFBTUMsWUFBWSxNQUFNYixTQUFTYyxJQUFJO2dCQUNyQyxNQUFNLElBQUlDLE1BQU1GLFVBQVVHLE1BQU0sSUFBSTtZQUN0QztZQUVBLE1BQU1DLE9BQU8sTUFBTWpCLFNBQVNjLElBQUk7WUFDaENwQixjQUFjdUIsS0FBS0MsZUFBZSxDQUFDQyxRQUFRO1FBQzdDLEVBQUUsT0FBT0MsS0FBSztZQUNadEIsU0FBU3NCLGVBQWVMLFFBQVFLLElBQUlDLE9BQU8sR0FBRztZQUM5Q0MsUUFBUXpCLEtBQUssQ0FBQyxxQkFBcUJ1QjtRQUNyQyxTQUFVO1lBQ1J4QixXQUFXO1FBQ2I7SUFDRjtJQUVBLHFCQUNFLDhEQUFDMkI7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNDOzBCQUFHOzs7Ozs7MEJBQ0osOERBQUNDO2dCQUNDQyxTQUFTNUI7Z0JBQ1Q2QixVQUFVakM7Z0JBQ1Y2QixXQUFVOzBCQUVUN0IsVUFBVSxnQkFBZ0I7Ozs7OztZQUc1QkUsdUJBQ0MsOERBQUMwQjtnQkFBSUMsV0FBVTswQkFBaUIzQjs7Ozs7O1lBR2pDSixjQUFjLENBQUNJLHVCQUNkLDhEQUFDMEI7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDSztrQ0FBTzs7Ozs7O29CQUE0QjtvQkFBR3BDOzs7Ozs7Ozs7Ozs7O0FBS2pEIiwic291cmNlcyI6WyIvVXNlcnMvYWxkaXlhcmJvbGVnZW5vdi90ZW5kZXIvZnJvbnRlbmQvY29tcG9uZW50cy9QcmljZVByZWRpY3Rvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBQcmljZVByZWRpY3RvclByb3BzIHtcbiAgZGlzdGFuY2U6IHN0cmluZztcbiAgd2VpZ2h0OiBzdHJpbmc7XG4gIGNhcmdvVHlwZTogc3RyaW5nO1xuICB1cmdlbmN5RGF5czogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcmljZVByZWRpY3Rvcih7IFxuICBkaXN0YW5jZSwgXG4gIHdlaWdodCwgXG4gIGNhcmdvVHlwZSxcbiAgdXJnZW5jeURheXNcbn06IFByaWNlUHJlZGljdG9yUHJvcHMpIHtcbiAgY29uc3QgW3ByZWRpY3Rpb24sIHNldFByZWRpY3Rpb25dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBoYW5kbGVQcmVkaWN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZGlzdGFuY2UgfHwgIXdlaWdodCkge1xuICAgICAgc2V0RXJyb3IoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDRg9C60LDQttC40YLQtSDRgNCw0YHRgdGC0L7Rj9C90LjQtSDQuCDQstC10YEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvcHJlZGljdCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZGlzdGFuY2Vfa206IHBhcnNlRmxvYXQoZGlzdGFuY2UpLFxuICAgICAgICAgIHdlaWdodF9rZzogcGFyc2VGbG9hdCh3ZWlnaHQpLFxuICAgICAgICAgIGNhcmdvX3R5cGU6IGNhcmdvVHlwZSxcbiAgICAgICAgICB1cmdlbmN5X2RheXM6IHBhcnNlRmxvYXQodXJnZW5jeURheXMpXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmRldGFpbCB8fCAn0J7RiNC40LHQutCwINC/0YDQuCDQv9C+0LvRg9GH0LXQvdC40Lgg0L/RgNC+0LPQvdC+0LfQsCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgc2V0UHJlZGljdGlvbihkYXRhLnByZWRpY3RlZF9wcmljZS50b1N0cmluZygpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAn0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAnKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQcmVkaWN0aW9uIGVycm9yOlwiLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInByZWRpY3Rvci1jb250YWluZXJcIj5cbiAgICAgIDxoMz7Qn9GA0LXQtNGB0LrQsNC30LDQvdC40LUg0YbQtdC90Ys8L2gzPlxuICAgICAgPGJ1dHRvbiBcbiAgICAgICAgb25DbGljaz17aGFuZGxlUHJlZGljdH0gXG4gICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICBjbGFzc05hbWU9XCJwcmVkaWN0LWJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtsb2FkaW5nID8gJ9CX0LDQs9GA0YPQt9C60LAuLi4nIDogJ9Cg0LDRgdGB0YfQuNGC0LDRgtGMINGG0LXQvdGDJ31cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgXG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj57ZXJyb3J9PC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7cHJlZGljdGlvbiAmJiAhZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZWRpY3Rpb24tcmVzdWx0XCI+XG4gICAgICAgICAgPHN0cm9uZz7Qn9GA0LXQtNGB0LrQsNC30LDQvdC90LDRjyDRhtC10L3QsDo8L3N0cm9uZz4gJHtwcmVkaWN0aW9ufVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwiUHJpY2VQcmVkaWN0b3IiLCJkaXN0YW5jZSIsIndlaWdodCIsImNhcmdvVHlwZSIsInVyZ2VuY3lEYXlzIiwicHJlZGljdGlvbiIsInNldFByZWRpY3Rpb24iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJoYW5kbGVQcmVkaWN0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRpc3RhbmNlX2ttIiwicGFyc2VGbG9hdCIsIndlaWdodF9rZyIsImNhcmdvX3R5cGUiLCJ1cmdlbmN5X2RheXMiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJFcnJvciIsImRldGFpbCIsImRhdGEiLCJwcmVkaWN0ZWRfcHJpY2UiLCJ0b1N0cmluZyIsImVyciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzdHJvbmciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/PricePredictor.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./hooks/useContractTender.ts":
/*!************************************!*\
  !*** ./hooks/useContractTender.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useContractTender)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useWeb3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useWeb3 */ \"(pages-dir-node)/./hooks/useWeb3.ts\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethers */ \"ethers\");\n/* harmony import */ var _abi_TenderChain_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../abi/TenderChain.json */ \"(pages-dir-node)/./abi/TenderChain.json\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_useWeb3__WEBPACK_IMPORTED_MODULE_1__, ethers__WEBPACK_IMPORTED_MODULE_2__]);\n([_useWeb3__WEBPACK_IMPORTED_MODULE_1__, ethers__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// Import the generated ABI\n\n// Fallback ABI in case the import fails\nconst FALLBACK_ABI = [\n    // Main functions\n    \"function createTender(string _title, string _description, uint256 _budget, uint256 _deadline, uint256 _distance, uint256 _weight, string _cargoType, uint256 _urgencyDays, uint256 _expirationMinutes) public returns (uint256)\",\n    \"function getTender(uint256 _id) public view returns (uint256 id, string title, string description, uint256 budget, uint256 deadline, uint256 distance, uint256 weight, string cargoType, uint256 urgencyDays, address creator, address bidder, uint8 status, uint256 createdAt, uint256 expiresAt)\",\n    \"function getActiveTenders() public view returns (uint256[] memory)\",\n    \"function takeTender(uint256 _id) public\",\n    \"function submitBid(uint256 _id, string _proposal) public payable\",\n    \"function completeTender(uint256 _id) public\",\n    \"function cancelTender(uint256 _id) public\",\n    // State variables\n    \"function tenderCount() public view returns (uint256)\",\n    \"function tenders(uint256) public view returns (uint256 id, string title, string description, uint256 budget, uint256 deadline, uint256 distance, uint256 weight, string cargoType, uint256 urgencyDays, address creator, address bidder, uint8 status, uint256 createdAt, uint256 expiresAt)\",\n    // Events\n    \"event TenderCreated(uint256 indexed id, string title, uint256 budget, address indexed creator, uint256 expiresAt)\",\n    \"event TenderTaken(uint256 indexed id, address indexed bidder, uint256 timestamp)\",\n    \"event BidSubmitted(uint256 indexed id, address indexed bidder, string proposal, uint256 amount, uint256 timestamp)\",\n    \"event TenderCompleted(uint256 indexed id, address indexed bidder, uint256 timestamp)\",\n    \"event TenderCancelled(uint256 indexed id, address indexed creator, uint256 timestamp)\"\n];\n// Use the imported ABI if available, otherwise use the fallback\nconst ABI = _abi_TenderChain_json__WEBPACK_IMPORTED_MODULE_3__?.abi || FALLBACK_ABI;\n// Адрес контракта\nconst CONTRACT_ADDRESS = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\" || 0;\n// Добавляем дополнительное логирование для отладки\nconsole.log(\"Contract address from ENV:\", CONTRACT_ADDRESS);\n// Улучшенная функция для инициализации контракта\nconst MAX_INIT_ATTEMPTS = 5;\nconst INIT_RETRY_DELAY = 2000; // ms\n// Helper function to extract error messages from various error types\nconst getErrorMessage = (error)=>{\n    if (error instanceof Error) return error.message;\n    if (typeof error === 'string') return error;\n    return 'Unknown error occurred';\n};\n// Helper function to handle contract errors\nconst handleContractError = (error, defaultValue)=>{\n    console.error('Contract error:', error);\n    return {\n        success: false,\n        error: error?.message || error?.reason || 'Unknown contract error',\n        data: defaultValue\n    };\n};\n// Helper function to check if contract address has deployed code\nasync function verifyContractAddress(address, provider) {\n    try {\n        console.log(`🔍 Verifying contract at address: ${address}`);\n        // Check if address is valid\n        if (!ethers__WEBPACK_IMPORTED_MODULE_2__.ethers.isAddress(address)) {\n            console.error('❌ Invalid address format:', address);\n            return false;\n        }\n        // Check if contract has code\n        const code = await provider.getCode(address);\n        // If there's no code at this address, it's not a contract\n        if (code === '0x' || code === '0x0') {\n            console.error('❌ No contract deployed at this address (empty bytecode)');\n            return false;\n        }\n        console.log(`✅ Contract found at ${address} with bytecode length: ${(code.length - 2) / 2} bytes`);\n        return true;\n    } catch (error) {\n        console.error('❌ Error verifying contract address:', error);\n        return false;\n    }\n}\n// Helper function to validate ABI contains expected methods\nfunction validateContractABI(abi) {\n    try {\n        console.log('🔍 Validating contract ABI structure...');\n        // Essential methods that should exist in the contract - update to match the actual contract\n        const requiredMethods = [\n            'tenderCount',\n            'createTender',\n            'getTender'\n        ];\n        const optionalMethods = [\n            'submitBid',\n            'getBidsForTender',\n            'takeTender',\n            'getActiveTenders'\n        ];\n        // Check if ABI is an array\n        if (!Array.isArray(abi)) {\n            console.error('❌ ABI is not an array:', abi);\n            return false;\n        }\n        // Extract function names from ABI\n        const methodNames = abi.filter((item)=>item.type === 'function' || typeof item === 'string' && item.includes('function')).map((item)=>{\n            if (typeof item === 'string') {\n                // Извлекаем имя функции из строки вида \"function name(...)\"\n                const match = item.match(/function\\s+([a-zA-Z0-9_]+)/);\n                return match ? match[1] : '';\n            }\n            return item.name;\n        }).filter(Boolean); // Фильтруем пустые строки\n        console.log('📋 Contract methods found in ABI:', methodNames);\n        // Check if all required methods exist in ABI\n        const missingRequiredMethods = requiredMethods.filter((method)=>!methodNames.includes(method));\n        if (missingRequiredMethods.length > 0) {\n            console.error('❌ Missing required methods in ABI:', missingRequiredMethods);\n            return false;\n        }\n        // Check for optional methods and just log warnings\n        const missingOptionalMethods = optionalMethods.filter((method)=>!methodNames.includes(method));\n        if (missingOptionalMethods.length > 0) {\n            console.warn('⚠️ Some optional methods are missing in ABI:', missingOptionalMethods);\n            console.warn('This may limit functionality but is not critical');\n        }\n        console.log('✅ Contract ABI contains all required methods');\n        return true;\n    } catch (error) {\n        console.error('❌ Error validating contract ABI:', error);\n        return false;\n    }\n}\nfunction useContractTender() {\n    // All state hooks must be called unconditionally at the top level\n    const { provider, signer, account } = (0,_useWeb3__WEBPACK_IMPORTED_MODULE_1__.useWeb3)();\n    const [contract, setContract] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isContractAvailable, setIsContractAvailable] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [contractStatus, setContractStatus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('idle');\n    const [contractErrorDetails, setContractErrorDetails] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use refs to safely track values across renders\n    const contractRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const isContractAvailableRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isContractAvailable);\n    // Track last call time for debouncing\n    const lastGetActiveTendersCall = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const isLoadingTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const initAttempts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // Улучшенная проверка подключения напрямую через window.ethereum\n    const forceContractInitialization = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[forceContractInitialization]\": async ()=>{\n            try {\n                setContractStatus('loading');\n                setContractErrorDetails(null);\n                console.log('🚀 Initializing contract...');\n                // Проверяем адрес контракта\n                if (!CONTRACT_ADDRESS) {\n                    console.error('❌ Contract address is not defined');\n                    setIsContractAvailable(false);\n                    setError('Smart contract address is not configured. Please check your environment settings.');\n                    setContractStatus('error');\n                    setContractErrorDetails('Missing contract address in environment configuration');\n                    return false;\n                }\n                console.log(`📋 Using contract address: ${CONTRACT_ADDRESS}`);\n                // Проверяем наличие window.ethereum\n                console.log('🔄 Checking window.ethereum availability');\n                if (true) {\n                    console.error('❌ window.ethereum is not available');\n                    setError('MetaMask extension is not installed or not accessible');\n                    setContractStatus('error');\n                    setContractErrorDetails('MetaMask extension is not installed or not accessible');\n                    return false;\n                }\n                console.log('✅ window.ethereum is available');\n                // Проверяем сеть\n                try {\n                    const chainId = await window.ethereum.request({\n                        method: 'eth_chainId'\n                    });\n                    console.log(`📊 Current chain ID: ${chainId}`);\n                    // Check if we're on Sepolia (0xaa36a7) or local Hardhat network (0x7a69)\n                    const isValidNetwork = chainId === '0xaa36a7' || chainId === '0x7a69';\n                    if (!isValidNetwork) {\n                        console.warn(`⚠️ Connected to unsupported network: ${chainId}, expected either 0xaa36a7 (Sepolia) or 0x7a69 (Hardhat local)`);\n                    } else {\n                        console.log(`✅ Connected to supported network: ${chainId}`);\n                    }\n                } catch (error) {\n                    console.error('❌ Error checking network:', error);\n                }\n                // Запрашиваем подключение к MetaMask\n                try {\n                    console.log('🔄 Requesting MetaMask accounts...');\n                    const accounts = await window.ethereum.request({\n                        method: 'eth_requestAccounts'\n                    });\n                    console.log(`✅ Connected to accounts: ${accounts.join(', ')}`);\n                } catch (error) {\n                    console.error('❌ User rejected account connection:', error);\n                    setError('User rejected MetaMask connection');\n                    setContractStatus('error');\n                    setContractErrorDetails('User rejected MetaMask connection');\n                    return false;\n                }\n                // Check current network and switch only if we're not on a supported network\n                try {\n                    const chainId = await window.ethereum.request({\n                        method: 'eth_chainId'\n                    });\n                    // If we're on Hardhat local network, don't try to switch to Sepolia\n                    if (chainId === '0x7a69') {\n                        console.log('✅ Already connected to Hardhat local network (0x7a69), not switching');\n                    } else if (chainId !== '0xaa36a7') {\n                        console.log('🔄 Not on a supported network, trying Hardhat local first...');\n                        try {\n                            // Try switching to Hardhat local first (since that's what we're using)\n                            await window.ethereum.request({\n                                method: 'wallet_switchEthereumChain',\n                                params: [\n                                    {\n                                        chainId: '0x7a69'\n                                    }\n                                ] // Hardhat local chainId\n                            });\n                            console.log('✅ Switched to Hardhat local network');\n                        } catch (hardhatSwitchError) {\n                            // If we can't switch to Hardhat, try Sepolia\n                            console.log('⚠️ Could not switch to Hardhat local, trying Sepolia...');\n                            try {\n                                await window.ethereum.request({\n                                    method: 'wallet_switchEthereumChain',\n                                    params: [\n                                        {\n                                            chainId: '0xaa36a7'\n                                        }\n                                    ] // Sepolia chainId\n                                });\n                                console.log('✅ Switched to Sepolia network');\n                            } catch (sepoliaSwitchError) {\n                                // If we can't switch to Sepolia and it's not because it doesn't exist, fail\n                                if (sepoliaSwitchError.code !== 4902) {\n                                    console.error('❌ Failed to switch to any supported network:', sepoliaSwitchError);\n                                    setError('Failed to switch to a supported network');\n                                    setContractStatus('error');\n                                    setContractErrorDetails('Failed to switch to a supported network');\n                                    return false;\n                                }\n                                // Try to add Sepolia if it doesn't exist\n                                console.log('🔄 Sepolia network not found, attempting to add it...');\n                                try {\n                                    await window.ethereum.request({\n                                        method: 'wallet_addEthereumChain',\n                                        params: [\n                                            {\n                                                chainId: '0xaa36a7',\n                                                chainName: 'Sepolia Testnet',\n                                                nativeCurrency: {\n                                                    name: 'ETH',\n                                                    symbol: 'ETH',\n                                                    decimals: 18\n                                                },\n                                                rpcUrls: [\n                                                    'https://sepolia.infura.io/v3/'\n                                                ],\n                                                blockExplorerUrls: [\n                                                    'https://sepolia.etherscan.io/'\n                                                ]\n                                            }\n                                        ]\n                                    });\n                                    console.log('✅ Added Sepolia network');\n                                } catch (addSepoliaError) {\n                                    console.error('❌ Failed to add Sepolia network:', addSepoliaError);\n                                    setError('Failed to add Sepolia network to MetaMask');\n                                    setContractStatus('error');\n                                    setContractErrorDetails('Failed to add Sepolia network to MetaMask');\n                                    return false;\n                                }\n                            }\n                        }\n                    } else {\n                        console.log('✅ Already connected to Sepolia network, not switching');\n                    }\n                } catch (networkError) {\n                    console.error('❌ Network switching error:', networkError);\n                    setError('Error switching networks');\n                    setContractStatus('error');\n                    setContractErrorDetails('Error switching networks');\n                    return false;\n                }\n                // Получаем провайдер и подписывающего\n                console.log('🔄 Creating provider and signer...');\n                const provider = new ethers__WEBPACK_IMPORTED_MODULE_2__.ethers.BrowserProvider(window.ethereum);\n                const newSigner = await provider.getSigner();\n                const signerAddress = await newSigner.getAddress();\n                console.log(`✅ Got signer with address: ${signerAddress}`);\n                // Проверяем ABI\n                if (!ABI || ABI.length === 0) {\n                    console.error('❌ ABI is empty or undefined');\n                    setError('Contract ABI is missing or invalid');\n                    setContractStatus('error');\n                    setContractErrorDetails('Contract ABI is missing or invalid');\n                    return false;\n                }\n                // First validate the ABI\n                if (!validateContractABI(ABI)) {\n                    setIsContractAvailable(false);\n                    setError('Contract ABI is invalid or missing required methods. Check console for details.');\n                    setContractStatus('error');\n                    setContractErrorDetails('ABI validation failed: missing required methods or invalid format');\n                    return false;\n                }\n                // Проверяем наличие метода tenderCount в ABI\n                const hasTenderCount = ABI.some({\n                    \"useContractTender.useCallback[forceContractInitialization].hasTenderCount\": (item)=>typeof item === 'string' ? item.includes('tenderCount') : item.name === 'tenderCount'\n                }[\"useContractTender.useCallback[forceContractInitialization].hasTenderCount\"]);\n                if (!hasTenderCount) {\n                    console.warn('⚠️ tenderCount method not found in ABI');\n                }\n                // Создаем новый экземпляр контракта\n                console.log(`🔄 Creating contract instance at address: ${CONTRACT_ADDRESS}`);\n                const contract = new ethers__WEBPACK_IMPORTED_MODULE_2__.ethers.Contract(CONTRACT_ADDRESS, ABI, newSigner);\n                contractRef.current = contract;\n                // Verify the contract address first\n                const isValidContract = await verifyContractAddress(CONTRACT_ADDRESS, provider);\n                if (!isValidContract) {\n                    console.error(`❌ No valid contract found at ${CONTRACT_ADDRESS}`);\n                    setIsContractAvailable(false);\n                    setError(`No valid contract found at address ${CONTRACT_ADDRESS}. The contract may not be deployed or the address may be incorrect.`);\n                    setContractStatus('error');\n                    setContractErrorDetails(`Invalid contract at ${CONTRACT_ADDRESS}: No bytecode found or invalid address format`);\n                    return false;\n                }\n                // Проверяем соединение с контрактом вызовом простой функции\n                try {\n                    console.log(`🔄 Testing contract with direct call to tenderCount()`);\n                    const count = await contract.tenderCount();\n                    console.log(`✅ Direct contract call succeeded! Tender count: ${count}`);\n                } catch (error) {\n                    console.error(`❌ Failed to call tenderCount():`, error);\n                    // Проверяем, является ли ошибка проблемой декодирования данных\n                    if (error.message.includes('could not decode result data')) {\n                        console.error('❌ Data decoding error - contract address or ABI mismatch!');\n                        setIsContractAvailable(false);\n                        setError(`Contract call failed: The contract at ${CONTRACT_ADDRESS} does not match the expected interface. Please verify the contract address and ABI.`);\n                        setContractStatus('error');\n                        setContractErrorDetails(`Contract call failed: The contract at ${CONTRACT_ADDRESS} does not match the expected interface. Please verify the contract address and ABI.`);\n                        return false;\n                    }\n                    // Проверяем другие распространенные ошибки\n                    if (error.message.includes('call revert exception')) {\n                        console.error('❌ Contract reverted the call - function may not exist or be accessible');\n                    } else if (error.message.includes('invalid address')) {\n                        console.error('❌ Invalid contract address format');\n                    } else if (error.message.includes('contract not deployed')) {\n                        console.error('❌ No contract deployed at this address');\n                    }\n                    setIsContractAvailable(false);\n                    setError(`Failed to verify contract: ${error.message}`);\n                    setContractStatus('error');\n                    setContractErrorDetails(`Failed to verify contract: ${error.message}`);\n                    return false;\n                }\n                // Обновляем состояние\n                setIsContractAvailable(true);\n                isContractAvailableRef.current = true;\n                setContract(contract);\n                console.log(`✅ Contract initialized successfully with direct method`);\n                return true;\n            } catch (err) {\n                console.error(`❌ Failed to initialize contract:`, err);\n                setIsContractAvailable(false);\n                setError(`Failed to initialize contract: ${err instanceof Error ? err.message : 'Unknown error'}`);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[forceContractInitialization]\"], []);\n    // Manual direct contract check function\n    const testContractConnection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[testContractConnection]\": async ()=>{\n            console.log(\"Performing direct contract connection test\");\n            if (!CONTRACT_ADDRESS) {\n                console.error(\"No contract address provided\");\n                return false;\n            }\n            try {\n                // Try using window.ethereum directly if available\n                if (false) {} else {\n                    console.warn(\"No window.ethereum available for direct check\");\n                    return false;\n                }\n            } catch (error) {\n                console.error(\"Direct contract connection test failed:\", error);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[testContractConnection]\"], [\n        CONTRACT_ADDRESS,\n        contract,\n        isContractAvailable\n    ]);\n    // Запуск принудительной инициализации при изменении аккаунта\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useContractTender.useEffect\": ()=>{\n            if (account) {\n                console.log(\"Account changed or connected, attempting forced contract initialization\");\n                forceContractInitialization();\n            }\n        }\n    }[\"useContractTender.useEffect\"], [\n        account,\n        forceContractInitialization\n    ]);\n    // Улучшенная проверка контракта в useEffect\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useContractTender.useEffect\": ()=>{\n            let isMounted = true;\n            let retryCount = 0;\n            const checkContractWithRetry = {\n                \"useContractTender.useEffect.checkContractWithRetry\": async ()=>{\n                    if (!isMounted) return;\n                    console.log(`Contract check attempt ${retryCount + 1}/${MAX_INIT_ATTEMPTS}`);\n                    // Выход, если контракт уже доступен\n                    if (isContractAvailable && contract) {\n                        console.log(\"Contract already available, skipping check\");\n                        return;\n                    }\n                    // Проверка, есть ли доступный аккаунт\n                    if (account) {\n                        const success = await forceContractInitialization();\n                        if (success) {\n                            console.log(\"Contract initialization successful\");\n                            return;\n                        }\n                    }\n                    // Если мы дошли до этой точки, значит инициализация не удалась\n                    retryCount++;\n                    if (retryCount < MAX_INIT_ATTEMPTS) {\n                        console.log(`Will retry contract check in ${INIT_RETRY_DELAY}ms`);\n                        setTimeout(checkContractWithRetry, INIT_RETRY_DELAY);\n                    } else {\n                        console.log(\"Maximum contract check attempts reached\");\n                    }\n                }\n            }[\"useContractTender.useEffect.checkContractWithRetry\"];\n            // Запускаем первую проверку\n            checkContractWithRetry();\n            return ({\n                \"useContractTender.useEffect\": ()=>{\n                    isMounted = false;\n                }\n            })[\"useContractTender.useEffect\"];\n        }\n    }[\"useContractTender.useEffect\"], [\n        account,\n        contract,\n        isContractAvailable,\n        forceContractInitialization\n    ]);\n    // Get stable account reference\n    const signerAddress = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useContractTender.useMemo[signerAddress]\": async ()=>{\n            if (!signer) return null;\n            try {\n                return await signer.getAddress();\n            } catch (error) {\n                console.error(\"Error getting signer address:\", error);\n                return null;\n            }\n        }\n    }[\"useContractTender.useMemo[signerAddress]\"], [\n        signer\n    ]);\n    // Create a non-async version for useEffect dependencies\n    const [signerAddressStr, setSignerAddressStr] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Update signerAddressStr when signerAddress promise resolves\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useContractTender.useEffect\": ()=>{\n            if (signer) {\n                signer.getAddress().then({\n                    \"useContractTender.useEffect\": (address)=>{\n                        setSignerAddressStr(address);\n                    }\n                }[\"useContractTender.useEffect\"]).catch({\n                    \"useContractTender.useEffect\": (error)=>{\n                        console.error(\"Failed to get signer address:\", error);\n                        setSignerAddressStr(null);\n                    }\n                }[\"useContractTender.useEffect\"]);\n            } else {\n                setSignerAddressStr(null);\n            }\n        }\n    }[\"useContractTender.useEffect\"], [\n        signer\n    ]);\n    // Store previous signer reference to prevent unnecessary reconnections\n    const previousSignerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Create stable checks that can be used in dependencies\n    const contractAvailable = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[contractAvailable]\": ()=>{\n            return !!contractRef.current && isContractAvailableRef.current;\n        }\n    }[\"useContractTender.useCallback[contractAvailable]\"], []);\n    // Common error check for all contract methods\n    const checkContractAvailability = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[checkContractAvailability]\": ()=>{\n            const available = isContractAvailableRef.current;\n            if (!available) {\n                const errorMsg = 'Contract is not available. Please connect your wallet.';\n                // Use type casting to fix the type mismatch\n                setError(errorMsg);\n                return {\n                    available: false,\n                    error: errorMsg\n                };\n            }\n            return {\n                available: true,\n                error: ''\n            };\n        }\n    }[\"useContractTender.useCallback[checkContractAvailability]\"], []);\n    // Общедоступная функция для проверки статуса контракта\n    const checkContractStatus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[checkContractStatus]\": async ()=>{\n            console.log(\"Manual contract status check requested\");\n            return forceContractInitialization();\n        }\n    }[\"useContractTender.useCallback[checkContractStatus]\"], [\n        forceContractInitialization\n    ]);\n    // Создание нового тендера\n    const createTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[createTender]\": async (title, description, budget, deadline, distanceKm, weightKg, cargoType, urgencyDays, expirationMinutes = 10 // по умолчанию тендер действует 10 минут\n        )=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                // For ethers v6, convert BigNumberish to number safely\n                const deadlineTimestamp = Number((0,ethers__WEBPACK_IMPORTED_MODULE_2__.getBigInt)(deadline)) * 1000;\n                const tx = await contractRef.current.createTender(title, description, budget, deadlineTimestamp, distanceKm, weightKg, cargoType, urgencyDays, expirationMinutes);\n                const receipt = await tx.wait();\n                // Получаем ID созданного тендера из события\n                const event = receipt.logs?.filter({\n                    \"useContractTender.useCallback[createTender]\": (log)=>log.fragment?.name === 'TenderCreated'\n                }[\"useContractTender.useCallback[createTender]\"])?.[0];\n                let tenderId;\n                if (event && event.args) {\n                    tenderId = event.args[0].toString();\n                } else {\n                    tenderId = 'fallback-id-' + Date.now();\n                }\n                return {\n                    success: true,\n                    data: {\n                        id: tenderId\n                    },\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                setError(err.message || 'Failed to create tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to create tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[createTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Получить тендер\n    const getTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getTender]\": async (id)=>{\n            console.log(`🔍 Attempting to get tender with ID: ${id}`);\n            // Check contract availability\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                console.error(`❌ Contract not available for getTender: ${availabilityError}`);\n                setError(availabilityError || 'Contract not available');\n                return {\n                    success: false,\n                    error: availabilityError || 'Contract not available',\n                    data: null\n                };\n            }\n            try {\n                console.log(`⏳ Fetching tender ${id} from contract...`);\n                const tenderData = await contractRef.current.getTender(id);\n                console.log(`📦 Raw tender data received:`, tenderData);\n                // Check if tender exists (in the contract, non-existent tenders have ID of 0)\n                if (tenderData.id.toString() === '0') {\n                    console.warn(`⚠️ Tender with ID ${id} does not exist in contract`);\n                    return {\n                        success: false,\n                        error: 'Tender does not exist',\n                        data: null\n                    };\n                }\n                try {\n                    // Instead of directly calling a function from dependencies, use inline conversion logic\n                    // This helps avoid the \"used before declaration\" error\n                    if (!tenderData) {\n                        throw new Error('Tender data is undefined');\n                    }\n                    // Map numeric status to TenderStatus type\n                    const statusMap = [\n                        'OPEN',\n                        'CLOSED',\n                        'AWARDED',\n                        'COMPLETED',\n                        'CANCELLED'\n                    ];\n                    const status = statusMap[Number(tenderData.status)] || 'OPEN';\n                    // Convert BigNumber values to regular numbers\n                    const adaptedTender = {\n                        id: tenderData.id.toString(),\n                        title: tenderData.title,\n                        description: tenderData.description,\n                        budget: tenderData.budget,\n                        deadline: tenderData.deadline,\n                        distance: Number(tenderData.distance),\n                        weight: Number(tenderData.weight),\n                        cargoType: tenderData.cargoType,\n                        urgencyDays: Number(tenderData.urgencyDays),\n                        creator: tenderData.creator,\n                        bidder: tenderData.bidder,\n                        status: status,\n                        createdAt: new Date(Number(tenderData.createdAt) * 1000).toISOString(),\n                        expiresAt: new Date(Number(tenderData.expiresAt) * 1000).toISOString(),\n                        timeLeft: Math.max(0, Math.floor((Number(tenderData.expiresAt) * 1000 - Date.now()) / 1000))\n                    };\n                    return {\n                        success: true,\n                        data: adaptedTender\n                    };\n                } catch (err) {\n                    console.error('Error parsing tender data:', err);\n                    return {\n                        success: false,\n                        error: `Error parsing tender data: ${err.message}`,\n                        data: null\n                    };\n                }\n            } catch (err) {\n                console.error(`❌ Error fetching tender ${id}:`, err);\n                // Check for specific \"Tender does not exist\" error\n                if (err.message && (err.message.includes('Tender does not exist') || err.reason && err.reason.includes('Tender does not exist'))) {\n                    console.warn(`⚠️ Contract confirmed tender ${id} does not exist`);\n                    return {\n                        success: false,\n                        error: 'Tender does not exist',\n                        data: null\n                    };\n                }\n                setError(err.message || 'Failed to fetch tender');\n                return {\n                    success: false,\n                    error: `Error fetching tender: ${err.message || 'Unknown error'}`,\n                    data: null\n                };\n            }\n        }\n    }[\"useContractTender.useCallback[getTender]\"], [\n        contractRef,\n        checkContractAvailability,\n        setError\n    ]);\n    // Функция получения активных тендеров\n    const getActiveTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getActiveTenders]\": async ()=>{\n            const now = Date.now();\n            console.log(`[getActiveTenders] Called at ${new Date(now).toISOString()}`);\n            console.log(`[getActiveTenders] Last call was ${now - lastGetActiveTendersCall.current}ms ago`);\n            console.log(`[getActiveTenders] IsLoadingTenders: ${isLoadingTenders.current}`);\n            console.log(`[getActiveTenders] Contract available: ${isContractAvailable}, Contract ref: ${!!contractRef.current}`);\n            // Implement proper debouncing\n            if (now - lastGetActiveTendersCall.current < 3000) {\n                console.log(\"[getActiveTenders] ⚠️ Debouncing - too soon after last call\");\n                return {\n                    success: false,\n                    error: \"Rate limited. Please wait before trying again.\",\n                    data: []\n                };\n            }\n            // Check if we're already fetching\n            if (isLoadingTenders.current) {\n                console.log(\"[getActiveTenders] ⚠️ Already fetching, skipping duplicate call\");\n                return {\n                    success: false,\n                    error: \"Request already in progress\",\n                    data: []\n                };\n            }\n            // Track this request\n            console.log(\"[getActiveTenders] ✅ Starting request\");\n            isLoadingTenders.current = true;\n            lastGetActiveTendersCall.current = now;\n            setLoading(true);\n            // Check contract availability before proceeding\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                console.log(`[getActiveTenders] ❌ Contract not available: ${availabilityError}`);\n                isLoadingTenders.current = false;\n                setLoading(false);\n                return {\n                    success: false,\n                    error: availabilityError || \"Contract not available\",\n                    data: []\n                };\n            }\n            try {\n                // Create a timeout promise\n                console.log(\"[getActiveTenders] Setting up timeout promise\");\n                const timeoutPromise = new Promise({\n                    \"useContractTender.useCallback[getActiveTenders]\": (_, reject)=>{\n                        setTimeout({\n                            \"useContractTender.useCallback[getActiveTenders]\": ()=>reject(new Error(\"Timeout fetching active tenders\"))\n                        }[\"useContractTender.useCallback[getActiveTenders]\"], 15000);\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders]\"]);\n                // Race the contract call against the timeout\n                console.log(\"[getActiveTenders] Making contract call\");\n                const activeTenderIds = await Promise.race([\n                    contractRef.current.getActiveTenders(),\n                    timeoutPromise\n                ]);\n                console.log(`[getActiveTenders] Received ${activeTenderIds?.length || 0} tender IDs`);\n                if (!activeTenderIds || activeTenderIds.length === 0) {\n                    console.log(\"[getActiveTenders] No active tenders found\");\n                    isLoadingTenders.current = false;\n                    setLoading(false);\n                    return {\n                        success: true,\n                        data: []\n                    };\n                }\n                console.log(`[getActiveTenders] Fetching details for ${activeTenderIds.length} tenders`);\n                const tenderPromises = activeTenderIds.filter({\n                    \"useContractTender.useCallback[getActiveTenders].tenderPromises\": (id)=>id !== null && id !== undefined\n                }[\"useContractTender.useCallback[getActiveTenders].tenderPromises\"]).map({\n                    \"useContractTender.useCallback[getActiveTenders].tenderPromises\": (id)=>{\n                        const idString = id.toString();\n                        console.log(`[getActiveTenders] Fetching tender ${idString}`);\n                        return contractRef.current.getTender(idString);\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders].tenderPromises\"]);\n                const tendersData = await Promise.all(tenderPromises);\n                console.log(`[getActiveTenders] Received ${tendersData.length} tender details`);\n                const tenders = tendersData.map({\n                    \"useContractTender.useCallback[getActiveTenders].tenders\": (tenderData)=>{\n                        console.log(`[getActiveTenders] Processing tender ${tenderData.id.toString()}`);\n                        return {\n                            id: tenderData.id.toString(),\n                            title: tenderData.title,\n                            description: tenderData.description,\n                            budget: tenderData.budget,\n                            deadline: tenderData.deadline,\n                            distance: Number(tenderData.distance),\n                            weight: Number(tenderData.weight),\n                            cargoType: tenderData.cargoType,\n                            urgencyDays: Number(tenderData.urgencyDays),\n                            creator: tenderData.creator,\n                            bidder: tenderData.bidder,\n                            status: [\n                                'OPEN',\n                                'CLOSED',\n                                'AWARDED',\n                                'COMPLETED',\n                                'CANCELLED'\n                            ][Number(tenderData.status)],\n                            createdAt: new Date(Number(tenderData.createdAt) * 1000).toISOString(),\n                            expiresAt: new Date(Number(tenderData.expiresAt) * 1000).toISOString()\n                        };\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders].tenders\"]);\n                // Добавление времени до истечения срока\n                const currentTime = Math.floor(Date.now() / 1000);\n                tenders.forEach({\n                    \"useContractTender.useCallback[getActiveTenders]\": (tender)=>{\n                        const expiresAt = Math.floor(new Date(tender.expiresAt).getTime() / 1000);\n                        tender.timeLeft = expiresAt > currentTime ? expiresAt - currentTime : 0;\n                    }\n                }[\"useContractTender.useCallback[getActiveTenders]\"]);\n                console.log(`[getActiveTenders] ✅ Completed successfully with ${tenders.length} tenders`);\n                return {\n                    success: true,\n                    data: tenders\n                };\n            } catch (err) {\n                console.error('[getActiveTenders] ❌ Error:', err);\n                setError(err.message || 'Failed to get active tenders');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to get active tenders',\n                    data: []\n                };\n            } finally{\n                console.log(\"[getActiveTenders] Request complete, cleaning up\");\n                isLoadingTenders.current = false;\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[getActiveTenders]\"], [\n        contractRef,\n        checkContractAvailability\n    ]);\n    // \"Забрать\" тендер\n    const takeTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[takeTender]\": async (id)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                const tx = await contractRef.current.takeTender(id);\n                const receipt = await tx.wait();\n                return {\n                    success: true,\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('Error taking tender:', err);\n                setError(err.message || 'Failed to take tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to take tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[takeTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Helper function to check if a tender exists in the blockchain without throwing errors\n    const checkTenderExists = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[checkTenderExists]\": async (tenderId)=>{\n            try {\n                console.log(`🔍 Checking if tender ${tenderId} exists in blockchain...`);\n                // Make a safe call that catches the revert error\n                try {\n                    const tenderResponse = await getTender(tenderId);\n                    return tenderResponse.success && !!tenderResponse.data; // True if the request was successful and data exists\n                } catch (error) {\n                    // If we get here, the contract call itself threw an error\n                    console.error(`❌ Contract error checking tender existence:`, error);\n                    // Check if the error is specifically about tender not existing\n                    if (error.message && (error.message.includes('Tender does not exist') || error.reason && error.reason.includes('Tender does not exist'))) {\n                        console.warn(`⚠️ Caught 'Tender does not exist' error - tender ${tenderId} confirmed not to exist`);\n                        return false; // Tender definitely doesn't exist\n                    }\n                    // For other errors, it's safer to fail the check\n                    return false;\n                }\n            } catch (error) {\n                console.error(`❌ Error in checkTenderExists wrapper:`, error);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[checkTenderExists]\"], [\n        getTender\n    ]);\n    // Submit bid function with retry and better error handling\n    const submitBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[submitBid]\": async (tenderId, amount, proposal)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                console.log(`🔍 Checking if tender ${tenderId} exists before submitting bid...`);\n                // First check if the tender exists to avoid the \"Tender does not exist\" error\n                const tenderExists = await checkTenderExists(tenderId);\n                if (!tenderExists) {\n                    const errorMsg = `Tender with ID ${tenderId} does not exist in the blockchain. It may have been removed or never existed.`;\n                    console.error(`❌ ${errorMsg}`);\n                    return {\n                        success: false,\n                        error: errorMsg\n                    };\n                }\n                console.log(`💸 Taking tender ${tenderId}...`);\n                // Call takeTender instead of submitBid since that's what our contract actually has\n                const tx = await contractRef.current.takeTender(tenderId);\n                console.log(`📝 Tender taking transaction sent: ${tx.hash}`);\n                console.log(`⏱️ Waiting for transaction confirmation...`);\n                const receipt = await tx.wait();\n                console.log(`✅ Tender taken confirmed in block ${receipt.blockNumber}`);\n                return {\n                    success: true,\n                    data: {\n                        hash: receipt.hash\n                    },\n                    hash: receipt.hash\n                };\n            } catch (err) {\n                console.error(`❌ Error taking tender:`, err);\n                // Check for specific error types\n                let errorMessage = '';\n                if (err.code === 'CALL_EXCEPTION' || err.code === 'UNPREDICTABLE_GAS_LIMIT') {\n                    // Contract execution error\n                    if (err.reason) {\n                        errorMessage = `Contract error: ${err.reason}`;\n                    } else if (err.message && err.message.includes('Tender does not exist')) {\n                        errorMessage = 'Tender does not exist';\n                    } else if (err.message && err.message.includes('Cannot take your own tender')) {\n                        errorMessage = 'You cannot take your own tender';\n                    } else if (err.message && err.message.includes('Tender is not open')) {\n                        errorMessage = 'Tender is not open for taking';\n                    } else if (err.message && err.message.includes('Tender has expired')) {\n                        errorMessage = 'Tender has expired';\n                    } else {\n                        errorMessage = `Contract execution failed: ${err.message}`;\n                    }\n                } else if (err.code === 'ACTION_REJECTED') {\n                    // User rejected transaction\n                    errorMessage = 'Transaction rejected by user';\n                } else if (err.code === 'INSUFFICIENT_FUNDS') {\n                    // Insufficient funds\n                    errorMessage = 'Insufficient funds for transaction';\n                } else if (err.message) {\n                    // Generic error with message\n                    errorMessage = err.message;\n                } else {\n                    // Unknown error\n                    errorMessage = 'Unknown error taking tender';\n                }\n                setError(errorMessage);\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[submitBid]\"], [\n        checkContractAvailability,\n        signer,\n        contractRef,\n        checkTenderExists\n    ]);\n    // Получить все заявки на тендер (адаптировано для контракта без getBidsForTender)\n    const getBidsForTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getBidsForTender]\": async (id)=>{\n            console.log(`⚠️ getBidsForTender called for tender ${id}, but this contract doesn't support listing bids`);\n            // Check if we can at least get the tender to see if there's a bidder assigned\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: `Contract not available: ${availabilityError}. Note: This contract doesn't support listing bids.`\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                // Try to get the tender to check if there's a bidder\n                const tender = await contractRef.current.getTender(id);\n                if (tender && tender.bidder && tender.bidder !== '0x0000000000000000000000000000000000000000') {\n                    // If there's a bidder, create a single mock bid entry\n                    const mockBid = {\n                        id: '1',\n                        bidder: tender.bidder,\n                        amount: 0,\n                        timestamp: new Date(Number(tender.createdAt) * 1000).toISOString(),\n                        status: tender.status === 2 ? 'ACCEPTED' : 'PENDING' // 2 is AWARDED in enum\n                    };\n                    return {\n                        success: true,\n                        data: [\n                            mockBid\n                        ],\n                        error: 'Note: This contract only shows the assigned bidder, not all bids'\n                    };\n                }\n                return {\n                    success: true,\n                    data: [],\n                    error: 'Note: This contract doesn\\'t support listing all bids'\n                };\n            } catch (err) {\n                console.error('Error getting tender for bid info:', err);\n                setError(err.message || 'Failed to get bids (not supported by this contract)');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to get bids (not supported by this contract)',\n                    data: []\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[getBidsForTender]\"], [\n        contractRef,\n        checkContractAvailability\n    ]);\n    // Завершить тендер\n    const completeTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[completeTender]\": async (id)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                const tx = await contractRef.current.completeTender(id);\n                const receipt = await tx.wait();\n                return {\n                    success: true,\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('Error completing tender:', err);\n                setError(err.message || 'Failed to complete tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to complete tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[completeTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Отменить тендер\n    const cancelTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[cancelTender]\": async (id)=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                const tx = await contractRef.current.cancelTender(id);\n                const receipt = await tx.wait();\n                return {\n                    success: true,\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('Error cancelling tender:', err);\n                setError(err.message || 'Failed to cancel tender');\n                return {\n                    success: false,\n                    error: err.message || 'Failed to cancel tender'\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[cancelTender]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    // Add a helper function to add Hardhat network to MetaMask\n    const addHardhatNetworkToMetaMask = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[addHardhatNetworkToMetaMask]\": async ()=>{\n            if (true) {\n                console.error('❌ window.ethereum is not available');\n                return false;\n            }\n            try {\n                console.log('🔄 Adding Hardhat local network to MetaMask...');\n                await window.ethereum.request({\n                    method: 'wallet_addEthereumChain',\n                    params: [\n                        {\n                            chainId: '0x7a69',\n                            chainName: 'Hardhat Local',\n                            nativeCurrency: {\n                                name: 'ETH',\n                                symbol: 'ETH',\n                                decimals: 18\n                            },\n                            rpcUrls: [\n                                'http://127.0.0.1:8545/'\n                            ],\n                            blockExplorerUrls: null\n                        }\n                    ]\n                });\n                console.log('✅ Added Hardhat local network to MetaMask');\n                // Try to switch to the Hardhat network\n                await window.ethereum.request({\n                    method: 'wallet_switchEthereumChain',\n                    params: [\n                        {\n                            chainId: '0x7a69'\n                        }\n                    ]\n                });\n                console.log('✅ Switched to Hardhat local network');\n                return true;\n            } catch (error) {\n                console.error('❌ Failed to add Hardhat network to MetaMask:', error);\n                return false;\n            }\n        }\n    }[\"useContractTender.useCallback[addHardhatNetworkToMetaMask]\"], []);\n    // Получить количество тендеров в контракте\n    const getTenderCount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[getTenderCount]\": async ()=>{\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                console.error(\"Contract not available for getTenderCount:\", availabilityError);\n                return \"0\";\n            }\n            try {\n                console.log(\"Getting tender count from contract\");\n                const count = await contractRef.current.tenderCount();\n                console.log(\"Current tender count:\", count.toString());\n                return count.toString();\n            } catch (err) {\n                console.error('Error getting tender count:', err);\n                return \"0\";\n            }\n        }\n    }[\"useContractTender.useCallback[getTenderCount]\"], [\n        contractRef,\n        checkContractAvailability\n    ]);\n    // Migrate a tender from database to blockchain\n    const migrateTenderToBlockchain = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useContractTender.useCallback[migrateTenderToBlockchain]\": async (tenderId, title, description, budget, deadline, status)=>{\n            console.log(`🔄 Migrating tender ${tenderId} to blockchain...`);\n            // Check contract availability\n            const { available, error: availabilityError } = checkContractAvailability();\n            if (!available) {\n                return {\n                    success: false,\n                    error: availabilityError\n                };\n            }\n            // Check if wallet is connected\n            if (!signer) {\n                return {\n                    success: false,\n                    error: 'Wallet not connected'\n                };\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                // Convert status string to contract enum value\n                const statusMap = {\n                    'OPEN': 0,\n                    'CLOSED': 1,\n                    'AWARDED': 2,\n                    'COMPLETED': 3,\n                    'CANCELLED': 4\n                };\n                const statusValue = statusMap[status] || 0;\n                // Format deadline to UTC timestamp if it's not already a number\n                let deadlineTimestamp;\n                if (typeof deadline === 'string') {\n                    deadlineTimestamp = Math.floor(new Date(deadline).getTime() / 1000);\n                } else if (typeof deadline === 'bigint') {\n                    deadlineTimestamp = Number(deadline);\n                } else {\n                    deadlineTimestamp = Number(deadline);\n                }\n                // Create the tender in the blockchain\n                console.log(`Creating tender in blockchain with: title=${title}, budget=${budget}, deadline=${deadlineTimestamp}`);\n                const tx = await contractRef.current.createTender(title, description, budget, deadlineTimestamp, 0, 0, 'General', 7 // Default urgencyDays\n                );\n                const receipt = await tx.wait();\n                console.log('Transaction receipt:', receipt);\n                // Get the tender ID from events or last tender count\n                const tenderCount = await contractRef.current.tenderCount();\n                const newTenderId = (tenderCount - 1).toString();\n                console.log(`✅ Tender migrated to blockchain with ID: ${newTenderId}`);\n                return {\n                    success: true,\n                    data: {\n                        id: newTenderId\n                    },\n                    hash: receipt.transactionHash\n                };\n            } catch (err) {\n                console.error('❌ Error migrating tender to blockchain:', err);\n                const errorMessage = err.message || 'Failed to migrate tender to blockchain';\n                setError(errorMessage);\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useContractTender.useCallback[migrateTenderToBlockchain]\"], [\n        contractRef,\n        signer,\n        checkContractAvailability\n    ]);\n    return {\n        loading,\n        error,\n        isContractAvailable,\n        contractStatus,\n        contractErrorDetails,\n        createTender,\n        getTender,\n        getActiveTenders,\n        takeTender,\n        completeTender,\n        cancelTender,\n        submitBid,\n        getBidsForTender,\n        checkContractStatus,\n        forceContractInitialization,\n        addHardhatNetworkToMetaMask,\n        getTenderCount,\n        migrateTenderToBlockchain\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2hvb2tzL3VzZUNvbnRyYWN0VGVuZGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwRjtBQUN0RDtBQUNKO0FBRTZDO0FBRTdFLDJCQUEyQjtBQUMwQjtBQUtyRCx3Q0FBd0M7QUFDeEMsTUFBTVUsZUFBZTtJQUNuQixpQkFBaUI7SUFDakI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFFQSxrQkFBa0I7SUFDbEI7SUFDQTtJQUVBLFNBQVM7SUFDVDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxnRUFBZ0U7QUFDaEUsTUFBTUMsTUFBTUYsa0RBQWNBLEVBQUVHLE9BQU9GO0FBRW5DLGtCQUFrQjtBQUNsQixNQUFNRyxtQkFBbUJDLDRDQUF3QyxJQUFJLENBQUU7QUFDdkUsbURBQW1EO0FBQ25ERyxRQUFRQyxHQUFHLENBQUMsOEJBQThCTDtBQUUxQyxpREFBaUQ7QUFDakQsTUFBTU0sb0JBQW9CO0FBQzFCLE1BQU1DLG1CQUFtQixNQUFNLEtBQUs7QUE0QnBDLHFFQUFxRTtBQUNyRSxNQUFNQyxrQkFBa0IsQ0FBQ0M7SUFDdkIsSUFBSUEsaUJBQWlCQyxPQUFPLE9BQU9ELE1BQU1FLE9BQU87SUFDaEQsSUFBSSxPQUFPRixVQUFVLFVBQVUsT0FBT0E7SUFDdEMsT0FBTztBQUNUO0FBT0EsNENBQTRDO0FBQzVDLE1BQU1HLHNCQUFzQixDQUFJSCxPQUFZSTtJQUMxQ1QsUUFBUUssS0FBSyxDQUFDLG1CQUFtQkE7SUFDakMsT0FBTztRQUNMSyxTQUFTO1FBQ1RMLE9BQU9BLE9BQU9FLFdBQVdGLE9BQU9NLFVBQVU7UUFDMUNDLE1BQU1IO0lBQ1I7QUFDRjtBQUVBLGlFQUFpRTtBQUNqRSxlQUFlSSxzQkFBc0JDLE9BQWUsRUFBRUMsUUFBa0I7SUFDdEUsSUFBSTtRQUNGZixRQUFRQyxHQUFHLENBQUMsQ0FBQyxrQ0FBa0MsRUFBRWEsU0FBUztRQUUxRCw0QkFBNEI7UUFDNUIsSUFBSSxDQUFDekIs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QUFzQjs7Z0JBRzNCLE1BQU1HLFVBQVUsTUFBTUQsR0FBR0UsSUFBSTtnQkFDN0J6SCxRQUFRQyxHQUFHLENBQUMsd0JBQXdCdUg7Z0JBRXBDLHFEQUFxRDtnQkFDckQsTUFBTWxDLGNBQWMsTUFBTWxDLFlBQVkrQixPQUFPLENBQUVHLFdBQVc7Z0JBQzFELE1BQU1pRyxjQUFjLENBQUNqRyxjQUFjLEdBQUdLLFFBQVE7Z0JBRTlDM0YsUUFBUUMsR0FBRyxDQUFDLENBQUMseUNBQXlDLEVBQUVzTCxhQUFhO2dCQUNyRSxPQUFPO29CQUNMN0ssU0FBUztvQkFDVEUsTUFBTTt3QkFBRXFILElBQUlzRDtvQkFBWTtvQkFDeEJyRCxNQUFNVixRQUFRVyxlQUFlO2dCQUMvQjtZQUNGLEVBQUUsT0FBTzVDLEtBQVU7Z0JBQ2pCdkYsUUFBUUssS0FBSyxDQUFDLDJDQUEyQ2tGO2dCQUN6RCxNQUFNc0YsZUFBZXRGLElBQUloRixPQUFPLElBQUk7Z0JBQ3BDc0MsU0FBU2dJO2dCQUNULE9BQU87b0JBQ0xuSyxTQUFTO29CQUNUTCxPQUFPd0s7Z0JBQ1Q7WUFDRixTQUFVO2dCQUNSakksV0FBVztZQUNiO1FBQ0Y7bUVBQUc7UUFBQ1E7UUFBYWI7UUFBUStEO0tBQTBCO0lBRW5ELE9BQU87UUFDTDNEO1FBQ0F0QztRQUNBeUM7UUFDQUU7UUFDQUU7UUFDQXdEO1FBQ0EwQjtRQUNBZ0I7UUFDQWlCO1FBQ0FZO1FBQ0FDO1FBQ0FWO1FBQ0FNO1FBQ0FyRTtRQUNBaEQ7UUFDQTBIO1FBQ0FDO1FBQ0FDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZGl5YXJib2xlZ2Vub3YvdGVuZGVyL2Zyb250ZW5kL2hvb2tzL3VzZUNvbnRyYWN0VGVuZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8sIFNldFN0YXRlQWN0aW9uIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlV2ViMyB9IGZyb20gJy4vdXNlV2ViMyc7XG5pbXBvcnQgeyBldGhlcnMgfSBmcm9tICdldGhlcnMnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgQ29udHJhY3QsIFNpZ25lciwgUHJvdmlkZXIsIEJpZ051bWJlcmlzaCwgZ2V0QmlnSW50IH0gZnJvbSAnZXRoZXJzJztcblxuLy8gSW1wb3J0IHRoZSBnZW5lcmF0ZWQgQUJJXG5pbXBvcnQgVGVuZGVyQ2hhaW5BQkkgZnJvbSAnLi4vYWJpL1RlbmRlckNoYWluLmpzb24nO1xuXG4vLyBMb2NhbCB0eXBlIGRlZmluaXRpb24gZm9yIFRlbmRlclN0YXR1cyB0byBhdm9pZCBkZXBlbmRlbmN5IGlzc3Vlc1xuZXhwb3J0IHR5cGUgVGVuZGVyU3RhdHVzID0gJ09QRU4nIHwgJ0NMT1NFRCcgfCAnQVdBUkRFRCcgfCAnQ09NUExFVEVEJyB8ICdDQU5DRUxMRUQnO1xuXG4vLyBGYWxsYmFjayBBQkkgaW4gY2FzZSB0aGUgaW1wb3J0IGZhaWxzXG5jb25zdCBGQUxMQkFDS19BQkkgPSBbXG4gIC8vIE1haW4gZnVuY3Rpb25zXG4gIFwiZnVuY3Rpb24gY3JlYXRlVGVuZGVyKHN0cmluZyBfdGl0bGUsIHN0cmluZyBfZGVzY3JpcHRpb24sIHVpbnQyNTYgX2J1ZGdldCwgdWludDI1NiBfZGVhZGxpbmUsIHVpbnQyNTYgX2Rpc3RhbmNlLCB1aW50MjU2IF93ZWlnaHQsIHN0cmluZyBfY2FyZ29UeXBlLCB1aW50MjU2IF91cmdlbmN5RGF5cywgdWludDI1NiBfZXhwaXJhdGlvbk1pbnV0ZXMpIHB1YmxpYyByZXR1cm5zICh1aW50MjU2KVwiLFxuICBcImZ1bmN0aW9uIGdldFRlbmRlcih1aW50MjU2IF9pZCkgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBpZCwgc3RyaW5nIHRpdGxlLCBzdHJpbmcgZGVzY3JpcHRpb24sIHVpbnQyNTYgYnVkZ2V0LCB1aW50MjU2IGRlYWRsaW5lLCB1aW50MjU2IGRpc3RhbmNlLCB1aW50MjU2IHdlaWdodCwgc3RyaW5nIGNhcmdvVHlwZSwgdWludDI1NiB1cmdlbmN5RGF5cywgYWRkcmVzcyBjcmVhdG9yLCBhZGRyZXNzIGJpZGRlciwgdWludDggc3RhdHVzLCB1aW50MjU2IGNyZWF0ZWRBdCwgdWludDI1NiBleHBpcmVzQXQpXCIsXG4gIFwiZnVuY3Rpb24gZ2V0QWN0aXZlVGVuZGVycygpIHB1YmxpYyB2aWV3IHJldHVybnMgKHVpbnQyNTZbXSBtZW1vcnkpXCIsXG4gIFwiZnVuY3Rpb24gdGFrZVRlbmRlcih1aW50MjU2IF9pZCkgcHVibGljXCIsXG4gIFwiZnVuY3Rpb24gc3VibWl0QmlkKHVpbnQyNTYgX2lkLCBzdHJpbmcgX3Byb3Bvc2FsKSBwdWJsaWMgcGF5YWJsZVwiLFxuICBcImZ1bmN0aW9uIGNvbXBsZXRlVGVuZGVyKHVpbnQyNTYgX2lkKSBwdWJsaWNcIixcbiAgXCJmdW5jdGlvbiBjYW5jZWxUZW5kZXIodWludDI1NiBfaWQpIHB1YmxpY1wiLFxuICBcbiAgLy8gU3RhdGUgdmFyaWFibGVzXG4gIFwiZnVuY3Rpb24gdGVuZGVyQ291bnQoKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KVwiLFxuICBcImZ1bmN0aW9uIHRlbmRlcnModWludDI1NikgcHVibGljIHZpZXcgcmV0dXJucyAodWludDI1NiBpZCwgc3RyaW5nIHRpdGxlLCBzdHJpbmcgZGVzY3JpcHRpb24sIHVpbnQyNTYgYnVkZ2V0LCB1aW50MjU2IGRlYWRsaW5lLCB1aW50MjU2IGRpc3RhbmNlLCB1aW50MjU2IHdlaWdodCwgc3RyaW5nIGNhcmdvVHlwZSwgdWludDI1NiB1cmdlbmN5RGF5cywgYWRkcmVzcyBjcmVhdG9yLCBhZGRyZXNzIGJpZGRlciwgdWludDggc3RhdHVzLCB1aW50MjU2IGNyZWF0ZWRBdCwgdWludDI1NiBleHBpcmVzQXQpXCIsXG4gIFxuICAvLyBFdmVudHNcbiAgXCJldmVudCBUZW5kZXJDcmVhdGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgc3RyaW5nIHRpdGxlLCB1aW50MjU2IGJ1ZGdldCwgYWRkcmVzcyBpbmRleGVkIGNyZWF0b3IsIHVpbnQyNTYgZXhwaXJlc0F0KVwiLFxuICBcImV2ZW50IFRlbmRlclRha2VuKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGJpZGRlciwgdWludDI1NiB0aW1lc3RhbXApXCIsXG4gIFwiZXZlbnQgQmlkU3VibWl0dGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGJpZGRlciwgc3RyaW5nIHByb3Bvc2FsLCB1aW50MjU2IGFtb3VudCwgdWludDI1NiB0aW1lc3RhbXApXCIsXG4gIFwiZXZlbnQgVGVuZGVyQ29tcGxldGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGJpZGRlciwgdWludDI1NiB0aW1lc3RhbXApXCIsXG4gIFwiZXZlbnQgVGVuZGVyQ2FuY2VsbGVkKHVpbnQyNTYgaW5kZXhlZCBpZCwgYWRkcmVzcyBpbmRleGVkIGNyZWF0b3IsIHVpbnQyNTYgdGltZXN0YW1wKVwiXG5dO1xuXG4vLyBVc2UgdGhlIGltcG9ydGVkIEFCSSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgdGhlIGZhbGxiYWNrXG5jb25zdCBBQkkgPSBUZW5kZXJDaGFpbkFCST8uYWJpIHx8IEZBTExCQUNLX0FCSTtcblxuLy8g0JDQtNGA0LXRgSDQutC+0L3RgtGA0LDQutGC0LBcbmNvbnN0IENPTlRSQUNUX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTIHx8IFwiXCI7XG4vLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90L7QtSDQu9C+0LPQuNGA0L7QstCw0L3QuNC1INC00LvRjyDQvtGC0LvQsNC00LrQuFxuY29uc29sZS5sb2coXCJDb250cmFjdCBhZGRyZXNzIGZyb20gRU5WOlwiLCBDT05UUkFDVF9BRERSRVNTKTtcblxuLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0YTRg9C90LrRhtC40Y8g0LTQu9GPINC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INC60L7QvdGC0YDQsNC60YLQsFxuY29uc3QgTUFYX0lOSVRfQVRURU1QVFMgPSA1O1xuY29uc3QgSU5JVF9SRVRSWV9ERUxBWSA9IDIwMDA7IC8vIG1zXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udHJhY3RUZW5kZXIge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBidWRnZXQ6IEJpZ051bWJlcmlzaDtcbiAgZGVhZGxpbmU6IEJpZ051bWJlcmlzaDtcbiAgZGlzdGFuY2U6IG51bWJlcjtcbiAgd2VpZ2h0OiBudW1iZXI7XG4gIGNhcmdvVHlwZTogc3RyaW5nO1xuICB1cmdlbmN5RGF5czogbnVtYmVyO1xuICBjcmVhdG9yOiBzdHJpbmc7XG4gIGJpZGRlcjogc3RyaW5nO1xuICBzdGF0dXM6IFRlbmRlclN0YXR1cztcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIGV4cGlyZXNBdDogc3RyaW5nO1xuICB0aW1lTGVmdD86IG51bWJlcjsgLy8g0LLRgNC10LzRjyDQtNC+INC40YHRgtC10YfQtdC90LjRjyDRgdGA0L7QutCwINCyINGB0LXQutGD0L3QtNCw0YVcbiAgY2F0ZWdvcmllcz86IEFycmF5PHN0cmluZyB8IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0+OyAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L/QvtC70LUg0LrQsNGC0LXQs9C+0YDQuNC5XG59XG5cbmludGVyZmFjZSBDb250cmFjdFJlc3BvbnNlPFQ+IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIGRhdGE/OiBUO1xuICBoYXNoPzogc3RyaW5nO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZXh0cmFjdCBlcnJvciBtZXNzYWdlcyBmcm9tIHZhcmlvdXMgZXJyb3IgdHlwZXNcbmNvbnN0IGdldEVycm9yTWVzc2FnZSA9IChlcnJvcjogdW5rbm93bik6IHN0cmluZyA9PiB7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHJldHVybiBlcnJvcjtcbiAgcmV0dXJuICdVbmtub3duIGVycm9yIG9jY3VycmVkJztcbn07XG5cbi8vIEFkZCBUeXBlU2NyaXB0IGludGVyZmFjZSBmb3IgZnVuY3Rpb24gd2l0aCBsYXN0Q2FsbFRpbWUgcHJvcGVydHlcbmludGVyZmFjZSBHZXRBY3RpdmVUZW5kZXJzRnVuY3Rpb24gZXh0ZW5kcyBGdW5jdGlvbiB7XG4gIGxhc3RDYWxsVGltZT86IG51bWJlcjtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSBjb250cmFjdCBlcnJvcnNcbmNvbnN0IGhhbmRsZUNvbnRyYWN0RXJyb3IgPSA8VD4oZXJyb3I6IGFueSwgZGVmYXVsdFZhbHVlOiBUKTogQ29udHJhY3RSZXNwb25zZTxUPiA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoJ0NvbnRyYWN0IGVycm9yOicsIGVycm9yKTtcbiAgcmV0dXJuIHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBlcnJvcjogZXJyb3I/Lm1lc3NhZ2UgfHwgZXJyb3I/LnJlYXNvbiB8fCAnVW5rbm93biBjb250cmFjdCBlcnJvcicsXG4gICAgZGF0YTogZGVmYXVsdFZhbHVlXG4gIH07XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgY29udHJhY3QgYWRkcmVzcyBoYXMgZGVwbG95ZWQgY29kZVxuYXN5bmMgZnVuY3Rpb24gdmVyaWZ5Q29udHJhY3RBZGRyZXNzKGFkZHJlc3M6IHN0cmluZywgcHJvdmlkZXI6IFByb3ZpZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coYPCflI0gVmVyaWZ5aW5nIGNvbnRyYWN0IGF0IGFkZHJlc3M6ICR7YWRkcmVzc31gKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhZGRyZXNzIGlzIHZhbGlkXG4gICAgaWYgKCFldGhlcnMuaXNBZGRyZXNzKGFkZHJlc3MpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgSW52YWxpZCBhZGRyZXNzIGZvcm1hdDonLCBhZGRyZXNzKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgY29udHJhY3QgaGFzIGNvZGVcbiAgICBjb25zdCBjb2RlID0gYXdhaXQgcHJvdmlkZXIuZ2V0Q29kZShhZGRyZXNzKTtcbiAgICBcbiAgICAvLyBJZiB0aGVyZSdzIG5vIGNvZGUgYXQgdGhpcyBhZGRyZXNzLCBpdCdzIG5vdCBhIGNvbnRyYWN0XG4gICAgaWYgKGNvZGUgPT09ICcweCcgfHwgY29kZSA9PT0gJzB4MCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBObyBjb250cmFjdCBkZXBsb3llZCBhdCB0aGlzIGFkZHJlc3MgKGVtcHR5IGJ5dGVjb2RlKScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhg4pyFIENvbnRyYWN0IGZvdW5kIGF0ICR7YWRkcmVzc30gd2l0aCBieXRlY29kZSBsZW5ndGg6ICR7KGNvZGUubGVuZ3RoIC0gMikgLyAyfSBieXRlc2ApO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB2ZXJpZnlpbmcgY29udHJhY3QgYWRkcmVzczonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byB2YWxpZGF0ZSBBQkkgY29udGFpbnMgZXhwZWN0ZWQgbWV0aG9kc1xuZnVuY3Rpb24gdmFsaWRhdGVDb250cmFjdEFCSShhYmk6IGFueVtdKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CflI0gVmFsaWRhdGluZyBjb250cmFjdCBBQkkgc3RydWN0dXJlLi4uJyk7XG4gICAgXG4gICAgLy8gRXNzZW50aWFsIG1ldGhvZHMgdGhhdCBzaG91bGQgZXhpc3QgaW4gdGhlIGNvbnRyYWN0IC0gdXBkYXRlIHRvIG1hdGNoIHRoZSBhY3R1YWwgY29udHJhY3RcbiAgICBjb25zdCByZXF1aXJlZE1ldGhvZHMgPSBbJ3RlbmRlckNvdW50JywgJ2NyZWF0ZVRlbmRlcicsICdnZXRUZW5kZXInXTtcbiAgICBjb25zdCBvcHRpb25hbE1ldGhvZHMgPSBbJ3N1Ym1pdEJpZCcsICdnZXRCaWRzRm9yVGVuZGVyJywgJ3Rha2VUZW5kZXInLCAnZ2V0QWN0aXZlVGVuZGVycyddO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIEFCSSBpcyBhbiBhcnJheVxuICAgIGlmICghQXJyYXkuaXNBcnJheShhYmkpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQUJJIGlzIG5vdCBhbiBhcnJheTonLCBhYmkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBFeHRyYWN0IGZ1bmN0aW9uIG5hbWVzIGZyb20gQUJJXG4gICAgY29uc3QgbWV0aG9kTmFtZXMgPSBhYmlcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyAmJiBpdGVtLmluY2x1ZGVzKCdmdW5jdGlvbicpKSlcbiAgICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyDQmNC30LLQu9C10LrQsNC10Lwg0LjQvNGPINGE0YPQvdC60YbQuNC4INC40Lcg0YHRgtGA0L7QutC4INCy0LjQtNCwIFwiZnVuY3Rpb24gbmFtZSguLi4pXCJcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IGl0ZW0ubWF0Y2goL2Z1bmN0aW9uXFxzKyhbYS16QS1aMC05X10rKS8pO1xuICAgICAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIDogJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKEJvb2xlYW4pOyAvLyDQpNC40LvRjNGC0YDRg9C10Lwg0L/Rg9GB0YLRi9C1INGB0YLRgNC+0LrQuFxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5OLIENvbnRyYWN0IG1ldGhvZHMgZm91bmQgaW4gQUJJOicsIG1ldGhvZE5hbWVzKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhbGwgcmVxdWlyZWQgbWV0aG9kcyBleGlzdCBpbiBBQklcbiAgICBjb25zdCBtaXNzaW5nUmVxdWlyZWRNZXRob2RzID0gcmVxdWlyZWRNZXRob2RzLmZpbHRlcihtZXRob2QgPT4gIW1ldGhvZE5hbWVzLmluY2x1ZGVzKG1ldGhvZCkpO1xuICAgIFxuICAgIGlmIChtaXNzaW5nUmVxdWlyZWRNZXRob2RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNaXNzaW5nIHJlcXVpcmVkIG1ldGhvZHMgaW4gQUJJOicsIG1pc3NpbmdSZXF1aXJlZE1ldGhvZHMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3Igb3B0aW9uYWwgbWV0aG9kcyBhbmQganVzdCBsb2cgd2FybmluZ3NcbiAgICBjb25zdCBtaXNzaW5nT3B0aW9uYWxNZXRob2RzID0gb3B0aW9uYWxNZXRob2RzLmZpbHRlcihtZXRob2QgPT4gIW1ldGhvZE5hbWVzLmluY2x1ZGVzKG1ldGhvZCkpO1xuICAgIFxuICAgIGlmIChtaXNzaW5nT3B0aW9uYWxNZXRob2RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFNvbWUgb3B0aW9uYWwgbWV0aG9kcyBhcmUgbWlzc2luZyBpbiBBQkk6JywgbWlzc2luZ09wdGlvbmFsTWV0aG9kcyk7XG4gICAgICBjb25zb2xlLndhcm4oJ1RoaXMgbWF5IGxpbWl0IGZ1bmN0aW9uYWxpdHkgYnV0IGlzIG5vdCBjcml0aWNhbCcpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIENvbnRyYWN0IEFCSSBjb250YWlucyBhbGwgcmVxdWlyZWQgbWV0aG9kcycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciB2YWxpZGF0aW5nIGNvbnRyYWN0IEFCSTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUNvbnRyYWN0VGVuZGVyKCkge1xuICAvLyBBbGwgc3RhdGUgaG9va3MgbXVzdCBiZSBjYWxsZWQgdW5jb25kaXRpb25hbGx5IGF0IHRoZSB0b3AgbGV2ZWxcbiAgY29uc3QgeyBwcm92aWRlciwgc2lnbmVyLCBhY2NvdW50IH0gPSB1c2VXZWIzKCk7XG4gIGNvbnN0IFtjb250cmFjdCwgc2V0Q29udHJhY3RdID0gdXNlU3RhdGU8Q29udHJhY3QgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNDb250cmFjdEF2YWlsYWJsZSwgc2V0SXNDb250cmFjdEF2YWlsYWJsZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtjb250cmFjdFN0YXR1cywgc2V0Q29udHJhY3RTdGF0dXNdID0gdXNlU3RhdGU8J2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ3N1Y2Nlc3MnIHwgJ2Vycm9yJz4oJ2lkbGUnKTtcbiAgY29uc3QgW2NvbnRyYWN0RXJyb3JEZXRhaWxzLCBzZXRDb250cmFjdEVycm9yRGV0YWlsc10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBVc2UgcmVmcyB0byBzYWZlbHkgdHJhY2sgdmFsdWVzIGFjcm9zcyByZW5kZXJzXG4gIGNvbnN0IGNvbnRyYWN0UmVmID0gdXNlUmVmPENvbnRyYWN0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGlzQ29udHJhY3RBdmFpbGFibGVSZWYgPSB1c2VSZWYoaXNDb250cmFjdEF2YWlsYWJsZSk7XG4gIFxuICAvLyBUcmFjayBsYXN0IGNhbGwgdGltZSBmb3IgZGVib3VuY2luZ1xuICBjb25zdCBsYXN0R2V0QWN0aXZlVGVuZGVyc0NhbGwgPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgY29uc3QgaXNMb2FkaW5nVGVuZGVycyA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IGluaXRBdHRlbXB0cyA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBcbiAgLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0L/RgNC+0LLQtdGA0LrQsCDQv9C+0LTQutC70Y7Rh9C10L3QuNGPINC90LDQv9GA0Y/QvNGD0Y4g0YfQtdGA0LXQtyB3aW5kb3cuZXRoZXJldW1cbiAgY29uc3QgZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRDb250cmFjdFN0YXR1cygnbG9hZGluZycpO1xuICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMobnVsbCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBJbml0aWFsaXppbmcgY29udHJhY3QuLi4nKTtcbiAgICAgIFxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INCw0LTRgNC10YEg0LrQvtC90YLRgNCw0LrRgtCwXG4gICAgICBpZiAoIUNPTlRSQUNUX0FERFJFU1MpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIENvbnRyYWN0IGFkZHJlc3MgaXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgICBzZXRJc0NvbnRyYWN0QXZhaWxhYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0RXJyb3IoJ1NtYXJ0IGNvbnRyYWN0IGFkZHJlc3MgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHNldHRpbmdzLicpO1xuICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMoJ01pc3NpbmcgY29udHJhY3QgYWRkcmVzcyBpbiBlbnZpcm9ubWVudCBjb25maWd1cmF0aW9uJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGDwn5OLIFVzaW5nIGNvbnRyYWN0IGFkZHJlc3M6ICR7Q09OVFJBQ1RfQUREUkVTU31gKTtcbiAgICAgIFxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC90LDQu9C40YfQuNC1IHdpbmRvdy5ldGhlcmV1bVxuICAgICAgY29uc29sZS5sb2coJ/CflIQgQ2hlY2tpbmcgd2luZG93LmV0aGVyZXVtIGF2YWlsYWJpbGl0eScpO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIHdpbmRvdy5ldGhlcmV1bSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIHNldEVycm9yKCdNZXRhTWFzayBleHRlbnNpb24gaXMgbm90IGluc3RhbGxlZCBvciBub3QgYWNjZXNzaWJsZScpO1xuICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMoJ01ldGFNYXNrIGV4dGVuc2lvbiBpcyBub3QgaW5zdGFsbGVkIG9yIG5vdCBhY2Nlc3NpYmxlJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgd2luZG93LmV0aGVyZXVtIGlzIGF2YWlsYWJsZScpO1xuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0YHQtdGC0YxcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogQ3VycmVudCBjaGFpbiBJRDogJHtjaGFpbklkfWApO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgb24gU2Vwb2xpYSAoMHhhYTM2YTcpIG9yIGxvY2FsIEhhcmRoYXQgbmV0d29yayAoMHg3YTY5KVxuICAgICAgICBjb25zdCBpc1ZhbGlkTmV0d29yayA9IGNoYWluSWQgPT09ICcweGFhMzZhNycgfHwgY2hhaW5JZCA9PT0gJzB4N2E2OSc7XG4gICAgICAgIGlmICghaXNWYWxpZE5ldHdvcmspIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBDb25uZWN0ZWQgdG8gdW5zdXBwb3J0ZWQgbmV0d29yazogJHtjaGFpbklkfSwgZXhwZWN0ZWQgZWl0aGVyIDB4YWEzNmE3IChTZXBvbGlhKSBvciAweDdhNjkgKEhhcmRoYXQgbG9jYWwpYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBDb25uZWN0ZWQgdG8gc3VwcG9ydGVkIG5ldHdvcms6ICR7Y2hhaW5JZH1gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNoZWNraW5nIG5ldHdvcms6JywgZXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQl9Cw0L/RgNCw0YjQuNCy0LDQtdC8INC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LogTWV0YU1hc2tcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFJlcXVlc3RpbmcgTWV0YU1hc2sgYWNjb3VudHMuLi4nKTtcbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIENvbm5lY3RlZCB0byBhY2NvdW50czogJHthY2NvdW50cy5qb2luKCcsICcpfWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFVzZXIgcmVqZWN0ZWQgYWNjb3VudCBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IoJ1VzZXIgcmVqZWN0ZWQgTWV0YU1hc2sgY29ubmVjdGlvbicpO1xuICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgc2V0Q29udHJhY3RFcnJvckRldGFpbHMoJ1VzZXIgcmVqZWN0ZWQgTWV0YU1hc2sgY29ubmVjdGlvbicpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGN1cnJlbnQgbmV0d29yayBhbmQgc3dpdGNoIG9ubHkgaWYgd2UncmUgbm90IG9uIGEgc3VwcG9ydGVkIG5ldHdvcmtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlJ3JlIG9uIEhhcmRoYXQgbG9jYWwgbmV0d29yaywgZG9uJ3QgdHJ5IHRvIHN3aXRjaCB0byBTZXBvbGlhXG4gICAgICAgIGlmIChjaGFpbklkID09PSAnMHg3YTY5Jykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQWxyZWFkeSBjb25uZWN0ZWQgdG8gSGFyZGhhdCBsb2NhbCBuZXR3b3JrICgweDdhNjkpLCBub3Qgc3dpdGNoaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UncmUgbm90IG9uIGEgc3VwcG9ydGVkIG5ldHdvcmssIHRyeSB0byBzd2l0Y2ggdG8gb25lXG4gICAgICAgIGVsc2UgaWYgKGNoYWluSWQgIT09ICcweGFhMzZhNycpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBOb3Qgb24gYSBzdXBwb3J0ZWQgbmV0d29yaywgdHJ5aW5nIEhhcmRoYXQgbG9jYWwgZmlyc3QuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVHJ5IHN3aXRjaGluZyB0byBIYXJkaGF0IGxvY2FsIGZpcnN0IChzaW5jZSB0aGF0J3Mgd2hhdCB3ZSdyZSB1c2luZylcbiAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgXG4gICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHg3YTY5JyB9XSAvLyBIYXJkaGF0IGxvY2FsIGNoYWluSWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTd2l0Y2hlZCB0byBIYXJkaGF0IGxvY2FsIG5ldHdvcmsnKTtcbiAgICAgICAgICB9IGNhdGNoIChoYXJkaGF0U3dpdGNoRXJyb3I6IGFueSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3Qgc3dpdGNoIHRvIEhhcmRoYXQsIHRyeSBTZXBvbGlhXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIENvdWxkIG5vdCBzd2l0Y2ggdG8gSGFyZGhhdCBsb2NhbCwgdHJ5aW5nIFNlcG9saWEuLi4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHhhYTM2YTcnIH1dIC8vIFNlcG9saWEgY2hhaW5JZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTd2l0Y2hlZCB0byBTZXBvbGlhIG5ldHdvcmsnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHNlcG9saWFTd2l0Y2hFcnJvcjogYW55KSB7XG4gICAgICAgICAgICAgIC8vIElmIHdlIGNhbid0IHN3aXRjaCB0byBTZXBvbGlhIGFuZCBpdCdzIG5vdCBiZWNhdXNlIGl0IGRvZXNuJ3QgZXhpc3QsIGZhaWxcbiAgICAgICAgICAgICAgaWYgKHNlcG9saWFTd2l0Y2hFcnJvci5jb2RlICE9PSA0OTAyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBzd2l0Y2ggdG8gYW55IHN1cHBvcnRlZCBuZXR3b3JrOicsIHNlcG9saWFTd2l0Y2hFcnJvcik7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBzd2l0Y2ggdG8gYSBzdXBwb3J0ZWQgbmV0d29yaycpO1xuICAgICAgICAgICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICAgICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKCdGYWlsZWQgdG8gc3dpdGNoIHRvIGEgc3VwcG9ydGVkIG5ldHdvcmsnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFRyeSB0byBhZGQgU2Vwb2xpYSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFNlcG9saWEgbmV0d29yayBub3QgZm91bmQsIGF0dGVtcHRpbmcgdG8gYWRkIGl0Li4uJyk7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMHhhYTM2YTcnLFxuICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWU6ICdTZXBvbGlhIFRlc3RuZXQnLFxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogeyBuYW1lOiAnRVRIJywgc3ltYm9sOiAnRVRIJywgZGVjaW1hbHM6IDE4IH0sXG4gICAgICAgICAgICAgICAgICAgIHJwY1VybHM6IFsnaHR0cHM6Ly9zZXBvbGlhLmluZnVyYS5pby92My8nXSxcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tFeHBsb3JlclVybHM6IFsnaHR0cHM6Ly9zZXBvbGlhLmV0aGVyc2Nhbi5pby8nXVxuICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFkZGVkIFNlcG9saWEgbmV0d29yaycpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChhZGRTZXBvbGlhRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGFkZCBTZXBvbGlhIG5ldHdvcms6JywgYWRkU2Vwb2xpYUVycm9yKTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGFkZCBTZXBvbGlhIG5ldHdvcmsgdG8gTWV0YU1hc2snKTtcbiAgICAgICAgICAgICAgICBzZXRDb250cmFjdFN0YXR1cygnZXJyb3InKTtcbiAgICAgICAgICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscygnRmFpbGVkIHRvIGFkZCBTZXBvbGlhIG5ldHdvcmsgdG8gTWV0YU1hc2snKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFscmVhZHkgY29ubmVjdGVkIHRvIFNlcG9saWEgbmV0d29yaywgbm90IHN3aXRjaGluZycpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChuZXR3b3JrRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5ldHdvcmsgc3dpdGNoaW5nIGVycm9yOicsIG5ldHdvcmtFcnJvcik7XG4gICAgICAgIHNldEVycm9yKCdFcnJvciBzd2l0Y2hpbmcgbmV0d29ya3MnKTtcbiAgICAgICAgc2V0Q29udHJhY3RTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKCdFcnJvciBzd2l0Y2hpbmcgbmV0d29ya3MnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INC/0YDQvtCy0LDQudC00LXRgCDQuCDQv9C+0LTQv9C40YHRi9Cy0LDRjtGJ0LXQs9C+XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBDcmVhdGluZyBwcm92aWRlciBhbmQgc2lnbmVyLi4uJyk7XG4gICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBldGhlcnMuQnJvd3NlclByb3ZpZGVyKHdpbmRvdy5ldGhlcmV1bSk7XG4gICAgICBjb25zdCBuZXdTaWduZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKTtcbiAgICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBhd2FpdCBuZXdTaWduZXIuZ2V0QWRkcmVzcygpO1xuICAgICAgY29uc29sZS5sb2coYOKchSBHb3Qgc2lnbmVyIHdpdGggYWRkcmVzczogJHtzaWduZXJBZGRyZXNzfWApO1xuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwgQUJJXG4gICAgICBpZiAoIUFCSSB8fCBBQkkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBQkkgaXMgZW1wdHkgb3IgdW5kZWZpbmVkJyk7XG4gICAgICAgIHNldEVycm9yKCdDb250cmFjdCBBQkkgaXMgbWlzc2luZyBvciBpbnZhbGlkJyk7XG4gICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscygnQ29udHJhY3QgQUJJIGlzIG1pc3Npbmcgb3IgaW52YWxpZCcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpcnN0IHZhbGlkYXRlIHRoZSBBQklcbiAgICAgIGlmICghdmFsaWRhdGVDb250cmFjdEFCSShBQkkpKSB7XG4gICAgICAgICAgICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZShmYWxzZSk7XG4gICAgICAgIHNldEVycm9yKCdDb250cmFjdCBBQkkgaXMgaW52YWxpZCBvciBtaXNzaW5nIHJlcXVpcmVkIG1ldGhvZHMuIENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuJyk7XG4gICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscygnQUJJIHZhbGlkYXRpb24gZmFpbGVkOiBtaXNzaW5nIHJlcXVpcmVkIG1ldGhvZHMgb3IgaW52YWxpZCBmb3JtYXQnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QsNC70LjRh9C40LUg0LzQtdGC0L7QtNCwIHRlbmRlckNvdW50INCyIEFCSVxuICAgICAgY29uc3QgaGFzVGVuZGVyQ291bnQgPSBBQkkuc29tZSgoaXRlbTogYW55KSA9PiBcbiAgICAgICAgdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnIFxuICAgICAgICAgID8gaXRlbS5pbmNsdWRlcygndGVuZGVyQ291bnQnKVxuICAgICAgICAgIDogaXRlbS5uYW1lID09PSAndGVuZGVyQ291bnQnXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoIWhhc1RlbmRlckNvdW50KSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIHRlbmRlckNvdW50IG1ldGhvZCBub3QgZm91bmQgaW4gQUJJJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCh0L7Qt9C00LDQtdC8INC90L7QstGL0Lkg0Y3QutC30LXQvNC/0LvRj9GAINC60L7QvdGC0YDQsNC60YLQsFxuICAgICAgY29uc29sZS5sb2coYPCflIQgQ3JlYXRpbmcgY29udHJhY3QgaW5zdGFuY2UgYXQgYWRkcmVzczogJHtDT05UUkFDVF9BRERSRVNTfWApO1xuICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KENPTlRSQUNUX0FERFJFU1MsIEFCSSwgbmV3U2lnbmVyKTtcbiAgICAgIGNvbnRyYWN0UmVmLmN1cnJlbnQgPSBjb250cmFjdDtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRoZSBjb250cmFjdCBhZGRyZXNzIGZpcnN0XG4gICAgICBjb25zdCBpc1ZhbGlkQ29udHJhY3QgPSBhd2FpdCB2ZXJpZnlDb250cmFjdEFkZHJlc3MoQ09OVFJBQ1RfQUREUkVTUywgcHJvdmlkZXIpO1xuICAgICAgaWYgKCFpc1ZhbGlkQ29udHJhY3QpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIE5vIHZhbGlkIGNvbnRyYWN0IGZvdW5kIGF0ICR7Q09OVFJBQ1RfQUREUkVTU31gKTtcbiAgICAgICAgICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZShmYWxzZSk7XG4gICAgICAgIHNldEVycm9yKGBObyB2YWxpZCBjb250cmFjdCBmb3VuZCBhdCBhZGRyZXNzICR7Q09OVFJBQ1RfQUREUkVTU30uIFRoZSBjb250cmFjdCBtYXkgbm90IGJlIGRlcGxveWVkIG9yIHRoZSBhZGRyZXNzIG1heSBiZSBpbmNvcnJlY3QuYCk7XG4gICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICBzZXRDb250cmFjdEVycm9yRGV0YWlscyhgSW52YWxpZCBjb250cmFjdCBhdCAke0NPTlRSQUNUX0FERFJFU1N9OiBObyBieXRlY29kZSBmb3VuZCBvciBpbnZhbGlkIGFkZHJlc3MgZm9ybWF0YCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INGB0L7QtdC00LjQvdC10L3QuNC1INGBINC60L7QvdGC0YDQsNC60YLQvtC8INCy0YvQt9C+0LLQvtC8INC/0YDQvtGB0YLQvtC5INGE0YPQvdC60YbQuNC4XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBUZXN0aW5nIGNvbnRyYWN0IHdpdGggZGlyZWN0IGNhbGwgdG8gdGVuZGVyQ291bnQoKWApO1xuICAgICAgICBjb25zdCBjb3VudCA9IGF3YWl0IGNvbnRyYWN0LnRlbmRlckNvdW50KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgRGlyZWN0IGNvbnRyYWN0IGNhbGwgc3VjY2VlZGVkISBUZW5kZXIgY291bnQ6ICR7Y291bnR9YCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gY2FsbCB0ZW5kZXJDb3VudCgpOmAsIGVycm9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0Y/QstC70Y/QtdGC0YHRjyDQu9C4INC+0YjQuNCx0LrQsCDQv9GA0L7QsdC70LXQvNC+0Lkg0LTQtdC60L7QtNC40YDQvtCy0LDQvdC40Y8g0LTQsNC90L3Ri9GFXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdjb3VsZCBub3QgZGVjb2RlIHJlc3VsdCBkYXRhJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRGF0YSBkZWNvZGluZyBlcnJvciAtIGNvbnRyYWN0IGFkZHJlc3Mgb3IgQUJJIG1pc21hdGNoIScpO1xuICAgICAgICAgIHNldElzQ29udHJhY3RBdmFpbGFibGUoZmFsc2UpO1xuICAgICAgICAgIHNldEVycm9yKGBDb250cmFjdCBjYWxsIGZhaWxlZDogVGhlIGNvbnRyYWN0IGF0ICR7Q09OVFJBQ1RfQUREUkVTU30gZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGludGVyZmFjZS4gUGxlYXNlIHZlcmlmeSB0aGUgY29udHJhY3QgYWRkcmVzcyBhbmQgQUJJLmApO1xuICAgICAgICAgIHNldENvbnRyYWN0U3RhdHVzKCdlcnJvcicpO1xuICAgICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKGBDb250cmFjdCBjYWxsIGZhaWxlZDogVGhlIGNvbnRyYWN0IGF0ICR7Q09OVFJBQ1RfQUREUkVTU30gZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGludGVyZmFjZS4gUGxlYXNlIHZlcmlmeSB0aGUgY29udHJhY3QgYWRkcmVzcyBhbmQgQUJJLmApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC00YDRg9Cz0LjQtSDRgNCw0YHQv9GA0L7RgdGC0YDQsNC90LXQvdC90YvQtSDQvtGI0LjQsdC60LhcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2NhbGwgcmV2ZXJ0IGV4Y2VwdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIENvbnRyYWN0IHJldmVydGVkIHRoZSBjYWxsIC0gZnVuY3Rpb24gbWF5IG5vdCBleGlzdCBvciBiZSBhY2Nlc3NpYmxlJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnaW52YWxpZCBhZGRyZXNzJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgSW52YWxpZCBjb250cmFjdCBhZGRyZXNzIGZvcm1hdCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2NvbnRyYWN0IG5vdCBkZXBsb3llZCcpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5vIGNvbnRyYWN0IGRlcGxveWVkIGF0IHRoaXMgYWRkcmVzcycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRJc0NvbnRyYWN0QXZhaWxhYmxlKGZhbHNlKTtcbiAgICAgICAgc2V0RXJyb3IoYEZhaWxlZCB0byB2ZXJpZnkgY29udHJhY3Q6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgc2V0Q29udHJhY3RTdGF0dXMoJ2Vycm9yJyk7XG4gICAgICAgIHNldENvbnRyYWN0RXJyb3JEZXRhaWxzKGBGYWlsZWQgdG8gdmVyaWZ5IGNvbnRyYWN0OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g0J7QsdC90L7QstC70Y/QtdC8INGB0L7RgdGC0L7Rj9C90LjQtVxuICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZSh0cnVlKTtcbiAgICAgIGlzQ29udHJhY3RBdmFpbGFibGVSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICBcbiAgICAgIHNldENvbnRyYWN0KGNvbnRyYWN0KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYOKchSBDb250cmFjdCBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkgd2l0aCBkaXJlY3QgbWV0aG9kYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEZhaWxlZCB0byBpbml0aWFsaXplIGNvbnRyYWN0OmAsIGVycik7XG4gICAgICAgICAgc2V0SXNDb250cmFjdEF2YWlsYWJsZShmYWxzZSk7XG4gICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIGluaXRpYWxpemUgY29udHJhY3Q6ICR7ZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgXG4gIC8vIE1hbnVhbCBkaXJlY3QgY29udHJhY3QgY2hlY2sgZnVuY3Rpb25cbiAgY29uc3QgdGVzdENvbnRyYWN0Q29ubmVjdGlvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlBlcmZvcm1pbmcgZGlyZWN0IGNvbnRyYWN0IGNvbm5lY3Rpb24gdGVzdFwiKTtcbiAgICBcbiAgICBpZiAoIUNPTlRSQUNUX0FERFJFU1MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBjb250cmFjdCBhZGRyZXNzIHByb3ZpZGVkXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHVzaW5nIHdpbmRvdy5ldGhlcmV1bSBkaXJlY3RseSBpZiBhdmFpbGFibGVcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgICBjb25zdCBicm93c2VyUHJvdmlkZXIgPSBuZXcgZXRoZXJzLkJyb3dzZXJQcm92aWRlcih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBicm93c2VyUHJvdmlkZXIuZ2V0U2lnbmVyKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiR290IHNpZ25lciB3aXRoIGFkZHJlc3M6XCIsIGF3YWl0IHNpZ25lci5nZXRBZGRyZXNzKCkpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGluZyBkaXJlY3QgY29udHJhY3QgY29ubmVjdGlvbiB0bzpcIiwgQ09OVFJBQ1RfQUREUkVTUyk7XG4gICAgICAgIGNvbnN0IGRpcmVjdENvbnRyYWN0ID0gbmV3IENvbnRyYWN0KENPTlRSQUNUX0FERFJFU1MsIEFCSSwgc2lnbmVyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSBhIHNpbXBsZSB2aWV3IGNhbGxcbiAgICAgICAgY29uc29sZS5sb2coXCJUZXN0aW5nIGNvbnRyYWN0IHdpdGggZGlyZWN0IGNhbGwgdG8gdGVuZGVyQ291bnQoKVwiKTtcbiAgICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBkaXJlY3RDb250cmFjdC50ZW5kZXJDb3VudCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpcmVjdCBjb250cmFjdCBjYWxsIHN1Y2NlZWRlZCEgVGVuZGVyIGNvdW50OlwiLCBjb3VudC50b1N0cmluZygpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlIGdvdCBoZXJlLCB0aGUgY29udHJhY3QgaXMgYXZhaWxhYmxlIGFuZCB3b3JraW5nXG4gICAgICAgIGlmICghaXNDb250cmFjdEF2YWlsYWJsZSkge1xuICAgICAgICAgIHNldElzQ29udHJhY3RBdmFpbGFibGUodHJ1ZSk7XG4gICAgICAgICAgaXNDb250cmFjdEF2YWlsYWJsZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFjb250cmFjdCkge1xuICAgICAgICAgIHNldENvbnRyYWN0KGRpcmVjdENvbnRyYWN0KTtcbiAgICAgICAgICBjb250cmFjdFJlZi5jdXJyZW50ID0gZGlyZWN0Q29udHJhY3Q7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiTm8gd2luZG93LmV0aGVyZXVtIGF2YWlsYWJsZSBmb3IgZGlyZWN0IGNoZWNrXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJEaXJlY3QgY29udHJhY3QgY29ubmVjdGlvbiB0ZXN0IGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgW0NPTlRSQUNUX0FERFJFU1MsIGNvbnRyYWN0LCBpc0NvbnRyYWN0QXZhaWxhYmxlXSk7XG4gIFxuICAvLyDQl9Cw0L/Rg9GB0Log0L/RgNC40L3Rg9C00LjRgtC10LvRjNC90L7QuSDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INCw0LrQutCw0YPQvdGC0LBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWNjb3VudCkge1xuICAgICAgY29uc29sZS5sb2coXCJBY2NvdW50IGNoYW5nZWQgb3IgY29ubmVjdGVkLCBhdHRlbXB0aW5nIGZvcmNlZCBjb250cmFjdCBpbml0aWFsaXphdGlvblwiKTtcbiAgICAgIGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbigpO1xuICAgIH1cbiAgfSwgW2FjY291bnQsIGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbl0pO1xuICBcbiAgLy8g0KPQu9GD0YfRiNC10L3QvdCw0Y8g0L/RgNC+0LLQtdGA0LrQsCDQutC+0L3RgtGA0LDQutGC0LAg0LIgdXNlRWZmZWN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG4gICAgbGV0IHJldHJ5Q291bnQgPSAwO1xuICAgIFxuICAgIGNvbnN0IGNoZWNrQ29udHJhY3RXaXRoUmV0cnkgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgQ29udHJhY3QgY2hlY2sgYXR0ZW1wdCAke3JldHJ5Q291bnQgKyAxfS8ke01BWF9JTklUX0FUVEVNUFRTfWApO1xuICAgICAgXG4gICAgICAvLyDQktGL0YXQvtC0LCDQtdGB0LvQuCDQutC+0L3RgtGA0LDQutGCINGD0LbQtSDQtNC+0YHRgtGD0L/QtdC9XG4gICAgICBpZiAoaXNDb250cmFjdEF2YWlsYWJsZSAmJiBjb250cmFjdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRyYWN0IGFscmVhZHkgYXZhaWxhYmxlLCBza2lwcGluZyBjaGVja1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQn9GA0L7QstC10YDQutCwLCDQtdGB0YLRjCDQu9C4INC00L7RgdGC0YPQv9C90YvQuSDQsNC60LrQsNGD0L3RglxuICAgICAgaWYgKGFjY291bnQpIHtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRyYWN0IGluaXRpYWxpemF0aW9uIHN1Y2Nlc3NmdWxcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vINCV0YHQu9C4INC80Ysg0LTQvtGI0LvQuCDQtNC+INGN0YLQvtC5INGC0L7Rh9C60LgsINC30L3QsNGH0LjRgiDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvdC1INGD0LTQsNC70LDRgdGMXG4gICAgICByZXRyeUNvdW50Kys7XG4gICAgICBcbiAgICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX0lOSVRfQVRURU1QVFMpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFdpbGwgcmV0cnkgY29udHJhY3QgY2hlY2sgaW4gJHtJTklUX1JFVFJZX0RFTEFZfW1zYCk7XG4gICAgICAgIHNldFRpbWVvdXQoY2hlY2tDb250cmFjdFdpdGhSZXRyeSwgSU5JVF9SRVRSWV9ERUxBWSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1heGltdW0gY29udHJhY3QgY2hlY2sgYXR0ZW1wdHMgcmVhY2hlZFwiKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vINCX0LDQv9GD0YHQutCw0LXQvCDQv9C10YDQstGD0Y4g0L/RgNC+0LLQtdGA0LrRg1xuICAgIGNoZWNrQ29udHJhY3RXaXRoUmV0cnkoKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW2FjY291bnQsIGNvbnRyYWN0LCBpc0NvbnRyYWN0QXZhaWxhYmxlLCBmb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb25dKTtcblxuICAvLyBHZXQgc3RhYmxlIGFjY291bnQgcmVmZXJlbmNlXG4gIGNvbnN0IHNpZ25lckFkZHJlc3MgPSB1c2VNZW1vKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNpZ25lcikgcmV0dXJuIG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzaWduZXIuZ2V0QWRkcmVzcygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaWduZXIgYWRkcmVzczpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCBbc2lnbmVyXSk7XG4gIFxuICAvLyBDcmVhdGUgYSBub24tYXN5bmMgdmVyc2lvbiBmb3IgdXNlRWZmZWN0IGRlcGVuZGVuY2llc1xuICBjb25zdCBbc2lnbmVyQWRkcmVzc1N0ciwgc2V0U2lnbmVyQWRkcmVzc1N0cl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgXG4gIC8vIFVwZGF0ZSBzaWduZXJBZGRyZXNzU3RyIHdoZW4gc2lnbmVyQWRkcmVzcyBwcm9taXNlIHJlc29sdmVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNpZ25lcikge1xuICAgICAgc2lnbmVyLmdldEFkZHJlc3MoKVxuICAgICAgICAudGhlbihhZGRyZXNzID0+IHtcbiAgICAgICAgICBzZXRTaWduZXJBZGRyZXNzU3RyKGFkZHJlc3MpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHNpZ25lciBhZGRyZXNzOlwiLCBlcnJvcik7XG4gICAgICAgICAgc2V0U2lnbmVyQWRkcmVzc1N0cihudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNpZ25lckFkZHJlc3NTdHIobnVsbCk7XG4gICAgfVxuICB9LCBbc2lnbmVyXSk7XG5cbiAgLy8gU3RvcmUgcHJldmlvdXMgc2lnbmVyIHJlZmVyZW5jZSB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHJlY29ubmVjdGlvbnNcbiAgY29uc3QgcHJldmlvdXNTaWduZXJSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBDcmVhdGUgc3RhYmxlIGNoZWNrcyB0aGF0IGNhbiBiZSB1c2VkIGluIGRlcGVuZGVuY2llc1xuICBjb25zdCBjb250cmFjdEF2YWlsYWJsZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gISFjb250cmFjdFJlZi5jdXJyZW50ICYmIGlzQ29udHJhY3RBdmFpbGFibGVSZWYuY3VycmVudDtcbiAgfSwgW10pO1xuXG4gIC8vIENvbW1vbiBlcnJvciBjaGVjayBmb3IgYWxsIGNvbnRyYWN0IG1ldGhvZHNcbiAgY29uc3QgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSA9IHVzZUNhbGxiYWNrKCgpOiB7IGF2YWlsYWJsZTogYm9vbGVhbjsgZXJyb3I6IHN0cmluZyB9ID0+IHtcbiAgICBjb25zdCBhdmFpbGFibGUgPSBpc0NvbnRyYWN0QXZhaWxhYmxlUmVmLmN1cnJlbnQ7XG4gICAgXG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gJ0NvbnRyYWN0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBjb25uZWN0IHlvdXIgd2FsbGV0Lic7XG4gICAgICAvLyBVc2UgdHlwZSBjYXN0aW5nIHRvIGZpeCB0aGUgdHlwZSBtaXNtYXRjaFxuICAgICAgc2V0RXJyb3IoZXJyb3JNc2cpO1xuICAgICAgcmV0dXJuIHsgYXZhaWxhYmxlOiBmYWxzZSwgZXJyb3I6IGVycm9yTXNnIH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IGF2YWlsYWJsZTogdHJ1ZSwgZXJyb3I6ICcnIH07XG4gIH0sIFtdKTtcblxuICAvLyDQntCx0YnQtdC00L7RgdGC0YPQv9C90LDRjyDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDRgdGC0LDRgtGD0YHQsCDQutC+0L3RgtGA0LDQutGC0LBcbiAgY29uc3QgY2hlY2tDb250cmFjdFN0YXR1cyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIk1hbnVhbCBjb250cmFjdCBzdGF0dXMgY2hlY2sgcmVxdWVzdGVkXCIpO1xuICAgIHJldHVybiBmb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb24oKTtcbiAgfSwgW2ZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbl0pO1xuXG4gIC8vINCh0L7Qt9C00LDQvdC40LUg0L3QvtCy0L7Qs9C+INGC0LXQvdC00LXRgNCwXG4gIGNvbnN0IGNyZWF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jIChcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgYnVkZ2V0OiBCaWdOdW1iZXJpc2gsXG4gICAgZGVhZGxpbmU6IEJpZ051bWJlcmlzaCxcbiAgICBkaXN0YW5jZUttPzogQmlnTnVtYmVyaXNoLFxuICAgIHdlaWdodEtnPzogQmlnTnVtYmVyaXNoLFxuICAgIGNhcmdvVHlwZT86IHN0cmluZyxcbiAgICB1cmdlbmN5RGF5cz86IEJpZ051bWJlcmlzaCxcbiAgICBleHBpcmF0aW9uTWludXRlczogbnVtYmVyID0gMTAgLy8g0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0YLQtdC90LTQtdGAINC00LXQudGB0YLQstGD0LXRgiAxMCDQvNC40L3Rg9GCXG4gICk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTx7IGlkOiBzdHJpbmcgfT4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBGb3IgZXRoZXJzIHY2LCBjb252ZXJ0IEJpZ051bWJlcmlzaCB0byBudW1iZXIgc2FmZWx5XG4gICAgICBjb25zdCBkZWFkbGluZVRpbWVzdGFtcCA9IE51bWJlcihnZXRCaWdJbnQoZGVhZGxpbmUpKSAqIDEwMDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuY3JlYXRlVGVuZGVyKFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIGJ1ZGdldCxcbiAgICAgICAgZGVhZGxpbmVUaW1lc3RhbXAsXG4gICAgICAgIGRpc3RhbmNlS20sXG4gICAgICAgIHdlaWdodEtnLFxuICAgICAgICBjYXJnb1R5cGUsXG4gICAgICAgIHVyZ2VuY3lEYXlzLFxuICAgICAgICBleHBpcmF0aW9uTWludXRlc1xuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcbiAgICAgIFxuICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCBJRCDRgdC+0LfQtNCw0L3QvdC+0LPQviDRgtC10L3QtNC10YDQsCDQuNC3INGB0L7QsdGL0YLQuNGPXG4gICAgICBjb25zdCBldmVudCA9IHJlY2VpcHQubG9nc1xuICAgICAgICA/LmZpbHRlcigobG9nOiBhbnkpID0+IGxvZy5mcmFnbWVudD8ubmFtZSA9PT0gJ1RlbmRlckNyZWF0ZWQnKVxuICAgICAgICA/LlswXTtcbiAgICAgIFxuICAgICAgbGV0IHRlbmRlcklkO1xuICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmFyZ3MpIHtcbiAgICAgICAgdGVuZGVySWQgPSBldmVudC5hcmdzWzBdLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW5kZXJJZCA9ICdmYWxsYmFjay1pZC0nICsgRGF0ZS5ub3coKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogeyBpZDogdGVuZGVySWQgfSxcbiAgICAgICAgaGFzaDogcmVjZWlwdC50cmFuc2FjdGlvbkhhc2hcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIHRlbmRlcicpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSB0ZW5kZXInIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBzaWduZXIsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICAvLyDQn9C+0LvRg9GH0LjRgtGMINGC0LXQvdC00LXRgFxuICBjb25zdCBnZXRUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTxDb250cmFjdFRlbmRlciB8IG51bGw+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYPCflI0gQXR0ZW1wdGluZyB0byBnZXQgdGVuZGVyIHdpdGggSUQ6ICR7aWR9YCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgY29udHJhY3QgYXZhaWxhYmlsaXR5XG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgQ29udHJhY3Qgbm90IGF2YWlsYWJsZSBmb3IgZ2V0VGVuZGVyOiAke2F2YWlsYWJpbGl0eUVycm9yfWApO1xuICAgICAgc2V0RXJyb3IoYXZhaWxhYmlsaXR5RXJyb3IgfHwgJ0NvbnRyYWN0IG5vdCBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfHwgJ0NvbnRyYWN0IG5vdCBhdmFpbGFibGUnLCBkYXRhOiBudWxsIH07XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg4o+zIEZldGNoaW5nIHRlbmRlciAke2lkfSBmcm9tIGNvbnRyYWN0Li4uYCk7XG4gICAgICBjb25zdCB0ZW5kZXJEYXRhID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuZ2V0VGVuZGVyKGlkKTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OmIFJhdyB0ZW5kZXIgZGF0YSByZWNlaXZlZDpgLCB0ZW5kZXJEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGVuZGVyIGV4aXN0cyAoaW4gdGhlIGNvbnRyYWN0LCBub24tZXhpc3RlbnQgdGVuZGVycyBoYXZlIElEIG9mIDApXG4gICAgICBpZiAodGVuZGVyRGF0YS5pZC50b1N0cmluZygpID09PSAnMCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gVGVuZGVyIHdpdGggSUQgJHtpZH0gZG9lcyBub3QgZXhpc3QgaW4gY29udHJhY3RgKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVGVuZGVyIGRvZXMgbm90IGV4aXN0JywgZGF0YTogbnVsbCB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBJbnN0ZWFkIG9mIGRpcmVjdGx5IGNhbGxpbmcgYSBmdW5jdGlvbiBmcm9tIGRlcGVuZGVuY2llcywgdXNlIGlubGluZSBjb252ZXJzaW9uIGxvZ2ljXG4gICAgICAgIC8vIFRoaXMgaGVscHMgYXZvaWQgdGhlIFwidXNlZCBiZWZvcmUgZGVjbGFyYXRpb25cIiBlcnJvclxuICAgICAgICBpZiAoIXRlbmRlckRhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RlbmRlciBkYXRhIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBNYXAgbnVtZXJpYyBzdGF0dXMgdG8gVGVuZGVyU3RhdHVzIHR5cGVcbiAgICAgICAgY29uc3Qgc3RhdHVzTWFwOiBUZW5kZXJTdGF0dXNbXSA9IFsnT1BFTicsICdDTE9TRUQnLCAnQVdBUkRFRCcsICdDT01QTEVURUQnLCAnQ0FOQ0VMTEVEJ107XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHN0YXR1c01hcFtOdW1iZXIodGVuZGVyRGF0YS5zdGF0dXMpXSB8fCAnT1BFTic7XG4gICAgICAgIFxuICAgICAgICAvLyBDb252ZXJ0IEJpZ051bWJlciB2YWx1ZXMgdG8gcmVndWxhciBudW1iZXJzXG4gICAgICAgIGNvbnN0IGFkYXB0ZWRUZW5kZXI6IENvbnRyYWN0VGVuZGVyID0ge1xuICAgICAgICBpZDogdGVuZGVyRGF0YS5pZC50b1N0cmluZygpLFxuICAgICAgICB0aXRsZTogdGVuZGVyRGF0YS50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHRlbmRlckRhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgYnVkZ2V0OiB0ZW5kZXJEYXRhLmJ1ZGdldCxcbiAgICAgICAgICBkZWFkbGluZTogdGVuZGVyRGF0YS5kZWFkbGluZSxcbiAgICAgICAgICBkaXN0YW5jZTogTnVtYmVyKHRlbmRlckRhdGEuZGlzdGFuY2UpLFxuICAgICAgICAgIHdlaWdodDogTnVtYmVyKHRlbmRlckRhdGEud2VpZ2h0KSxcbiAgICAgICAgY2FyZ29UeXBlOiB0ZW5kZXJEYXRhLmNhcmdvVHlwZSxcbiAgICAgICAgICB1cmdlbmN5RGF5czogTnVtYmVyKHRlbmRlckRhdGEudXJnZW5jeURheXMpLFxuICAgICAgICBjcmVhdG9yOiB0ZW5kZXJEYXRhLmNyZWF0b3IsXG4gICAgICAgIGJpZGRlcjogdGVuZGVyRGF0YS5iaWRkZXIsXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShOdW1iZXIodGVuZGVyRGF0YS5jcmVhdGVkQXQpICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKE51bWJlcih0ZW5kZXJEYXRhLmV4cGlyZXNBdCkgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHRpbWVMZWZ0OiBNYXRoLm1heCgwLCBNYXRoLmZsb29yKChOdW1iZXIodGVuZGVyRGF0YS5leHBpcmVzQXQpICogMTAwMCAtIERhdGUubm93KCkpIC8gMTAwMCkpXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBhZGFwdGVkVGVuZGVyIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyB0ZW5kZXIgZGF0YTonLCBlcnIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBFcnJvciBwYXJzaW5nIHRlbmRlciBkYXRhOiAke2Vyci5tZXNzYWdlfWAsIGRhdGE6IG51bGwgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIGZldGNoaW5nIHRlbmRlciAke2lkfTpgLCBlcnIpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgXCJUZW5kZXIgZG9lcyBub3QgZXhpc3RcIiBlcnJvclxuICAgICAgaWYgKGVyci5tZXNzYWdlICYmIChcbiAgICAgICAgICBlcnIubWVzc2FnZS5pbmNsdWRlcygnVGVuZGVyIGRvZXMgbm90IGV4aXN0JykgfHwgXG4gICAgICAgICAgKGVyci5yZWFzb24gJiYgZXJyLnJlYXNvbi5pbmNsdWRlcygnVGVuZGVyIGRvZXMgbm90IGV4aXN0JykpXG4gICAgICApKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIENvbnRyYWN0IGNvbmZpcm1lZCB0ZW5kZXIgJHtpZH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVGVuZGVyIGRvZXMgbm90IGV4aXN0JywgZGF0YTogbnVsbCB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHRlbmRlcicpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRXJyb3IgZmV0Y2hpbmcgdGVuZGVyOiAke2Vyci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gLCBkYXRhOiBudWxsIH07XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHksIHNldEVycm9yXSk7XG5cbiAgLy8g0KTRg9C90LrRhtC40Y8g0L/QvtC70YPRh9C10L3QuNGPINCw0LrRgtC40LLQvdGL0YUg0YLQtdC90LTQtdGA0L7QslxuICBjb25zdCBnZXRBY3RpdmVUZW5kZXJzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTxDb250cmFjdFRlbmRlcltdPj4gPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBDYWxsZWQgYXQgJHtuZXcgRGF0ZShub3cpLnRvSVNPU3RyaW5nKCl9YCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBMYXN0IGNhbGwgd2FzICR7bm93IC0gbGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsLmN1cnJlbnR9bXMgYWdvYCk7XG4gICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBJc0xvYWRpbmdUZW5kZXJzOiAke2lzTG9hZGluZ1RlbmRlcnMuY3VycmVudH1gKTtcbiAgICBjb25zb2xlLmxvZyhgW2dldEFjdGl2ZVRlbmRlcnNdIENvbnRyYWN0IGF2YWlsYWJsZTogJHtpc0NvbnRyYWN0QXZhaWxhYmxlfSwgQ29udHJhY3QgcmVmOiAkeyEhY29udHJhY3RSZWYuY3VycmVudH1gKTtcbiAgICBcbiAgICAvLyBJbXBsZW1lbnQgcHJvcGVyIGRlYm91bmNpbmdcbiAgICBpZiAobm93IC0gbGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsLmN1cnJlbnQgPCAzMDAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIltnZXRBY3RpdmVUZW5kZXJzXSDimqDvuI8gRGVib3VuY2luZyAtIHRvbyBzb29uIGFmdGVyIGxhc3QgY2FsbFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogXCJSYXRlIGxpbWl0ZWQuIFBsZWFzZSB3YWl0IGJlZm9yZSB0cnlpbmcgYWdhaW4uXCIsXG4gICAgICAgIGRhdGE6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhbHJlYWR5IGZldGNoaW5nXG4gICAgaWYgKGlzTG9hZGluZ1RlbmRlcnMuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coXCJbZ2V0QWN0aXZlVGVuZGVyc10g4pqg77iPIEFscmVhZHkgZmV0Y2hpbmcsIHNraXBwaW5nIGR1cGxpY2F0ZSBjYWxsXCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogXCJSZXF1ZXN0IGFscmVhZHkgaW4gcHJvZ3Jlc3NcIixcbiAgICAgICAgZGF0YTogW11cbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIFRyYWNrIHRoaXMgcmVxdWVzdFxuICAgIGNvbnNvbGUubG9nKFwiW2dldEFjdGl2ZVRlbmRlcnNdIOKchSBTdGFydGluZyByZXF1ZXN0XCIpO1xuICAgIGlzTG9hZGluZ1RlbmRlcnMuY3VycmVudCA9IHRydWU7XG4gICAgbGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsLmN1cnJlbnQgPSBub3c7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBcbiAgICAvLyBDaGVjayBjb250cmFjdCBhdmFpbGFiaWxpdHkgYmVmb3JlIHByb2NlZWRpbmdcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbZ2V0QWN0aXZlVGVuZGVyc10g4p2MIENvbnRyYWN0IG5vdCBhdmFpbGFibGU6ICR7YXZhaWxhYmlsaXR5RXJyb3J9YCk7XG4gICAgICBpc0xvYWRpbmdUZW5kZXJzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB8fCBcIkNvbnRyYWN0IG5vdCBhdmFpbGFibGVcIixcbiAgICAgICAgZGF0YTogW11cbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgYSB0aW1lb3V0IHByb21pc2VcbiAgICAgIGNvbnNvbGUubG9nKFwiW2dldEFjdGl2ZVRlbmRlcnNdIFNldHRpbmcgdXAgdGltZW91dCBwcm9taXNlXCIpO1xuICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZTxuZXZlcj4oKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoXCJUaW1lb3V0IGZldGNoaW5nIGFjdGl2ZSB0ZW5kZXJzXCIpKSwgMTUwMDApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFJhY2UgdGhlIGNvbnRyYWN0IGNhbGwgYWdhaW5zdCB0aGUgdGltZW91dFxuICAgICAgY29uc29sZS5sb2coXCJbZ2V0QWN0aXZlVGVuZGVyc10gTWFraW5nIGNvbnRyYWN0IGNhbGxcIik7XG4gICAgICBjb25zdCBhY3RpdmVUZW5kZXJJZHMgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICBjb250cmFjdFJlZi5jdXJyZW50IS5nZXRBY3RpdmVUZW5kZXJzKCksXG4gICAgICAgIHRpbWVvdXRQcm9taXNlXG4gICAgICBdKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBSZWNlaXZlZCAke2FjdGl2ZVRlbmRlcklkcz8ubGVuZ3RoIHx8IDB9IHRlbmRlciBJRHNgKTtcbiAgICAgIFxuICAgICAgaWYgKCFhY3RpdmVUZW5kZXJJZHMgfHwgYWN0aXZlVGVuZGVySWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltnZXRBY3RpdmVUZW5kZXJzXSBObyBhY3RpdmUgdGVuZGVycyBmb3VuZFwiKTtcbiAgICAgICAgaXNMb2FkaW5nVGVuZGVycy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogW11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBGZXRjaGluZyBkZXRhaWxzIGZvciAke2FjdGl2ZVRlbmRlcklkcy5sZW5ndGh9IHRlbmRlcnNgKTtcbiAgICAgIGNvbnN0IHRlbmRlclByb21pc2VzID0gYWN0aXZlVGVuZGVySWRzXG4gICAgICAgIC5maWx0ZXIoKGlkOiBhbnkpID0+IGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpXG4gICAgICAgIC5tYXAoKGlkOiBCaWdOdW1iZXJpc2gpID0+IHtcbiAgICAgICAgICBjb25zdCBpZFN0cmluZyA9IGlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBGZXRjaGluZyB0ZW5kZXIgJHtpZFN0cmluZ31gKTtcbiAgICAgICAgICByZXR1cm4gY29udHJhY3RSZWYuY3VycmVudCEuZ2V0VGVuZGVyKGlkU3RyaW5nKTtcbiAgICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRlbmRlcnNEYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwodGVuZGVyUHJvbWlzZXMpO1xuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSBSZWNlaXZlZCAke3RlbmRlcnNEYXRhLmxlbmd0aH0gdGVuZGVyIGRldGFpbHNgKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGVuZGVyczogQ29udHJhY3RUZW5kZXJbXSA9IHRlbmRlcnNEYXRhLm1hcCgodGVuZGVyRGF0YTogYW55KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbZ2V0QWN0aXZlVGVuZGVyc10gUHJvY2Vzc2luZyB0ZW5kZXIgJHt0ZW5kZXJEYXRhLmlkLnRvU3RyaW5nKCl9YCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IHRlbmRlckRhdGEuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICB0aXRsZTogdGVuZGVyRGF0YS50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdGVuZGVyRGF0YS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBidWRnZXQ6IHRlbmRlckRhdGEuYnVkZ2V0LFxuICAgICAgICAgIGRlYWRsaW5lOiB0ZW5kZXJEYXRhLmRlYWRsaW5lLFxuICAgICAgICAgIGRpc3RhbmNlOiBOdW1iZXIodGVuZGVyRGF0YS5kaXN0YW5jZSksXG4gICAgICAgICAgd2VpZ2h0OiBOdW1iZXIodGVuZGVyRGF0YS53ZWlnaHQpLFxuICAgICAgICAgIGNhcmdvVHlwZTogdGVuZGVyRGF0YS5jYXJnb1R5cGUsXG4gICAgICAgICAgdXJnZW5jeURheXM6IE51bWJlcih0ZW5kZXJEYXRhLnVyZ2VuY3lEYXlzKSxcbiAgICAgICAgICBjcmVhdG9yOiB0ZW5kZXJEYXRhLmNyZWF0b3IsXG4gICAgICAgICAgYmlkZGVyOiB0ZW5kZXJEYXRhLmJpZGRlcixcbiAgICAgICAgICBzdGF0dXM6IFsnT1BFTicsICdDTE9TRUQnLCAnQVdBUkRFRCcsICdDT01QTEVURUQnLCAnQ0FOQ0VMTEVEJ11bTnVtYmVyKHRlbmRlckRhdGEuc3RhdHVzKV0gYXMgVGVuZGVyU3RhdHVzLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoTnVtYmVyKHRlbmRlckRhdGEuY3JlYXRlZEF0KSAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShOdW1iZXIodGVuZGVyRGF0YS5leHBpcmVzQXQpICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INCy0YDQtdC80LXQvdC4INC00L4g0LjRgdGC0LXRh9C10L3QuNGPINGB0YDQvtC60LBcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICB0ZW5kZXJzLmZvckVhY2godGVuZGVyID0+IHtcbiAgICAgICAgY29uc3QgZXhwaXJlc0F0ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSh0ZW5kZXIuZXhwaXJlc0F0KS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICAgICAgdGVuZGVyLnRpbWVMZWZ0ID0gZXhwaXJlc0F0ID4gY3VycmVudFRpbWUgPyBleHBpcmVzQXQgLSBjdXJyZW50VGltZSA6IDA7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtnZXRBY3RpdmVUZW5kZXJzXSDinIUgQ29tcGxldGVkIHN1Y2Nlc3NmdWxseSB3aXRoICR7dGVuZGVycy5sZW5ndGh9IHRlbmRlcnNgKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHRlbmRlcnMgfTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignW2dldEFjdGl2ZVRlbmRlcnNdIOKdjCBFcnJvcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgYWN0aXZlIHRlbmRlcnMnKTtcbiAgICAgIHJldHVybiB7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGdldCBhY3RpdmUgdGVuZGVycycsXG4gICAgICAgIGRhdGE6IFtdIFxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY29uc29sZS5sb2coXCJbZ2V0QWN0aXZlVGVuZGVyc10gUmVxdWVzdCBjb21wbGV0ZSwgY2xlYW5pbmcgdXBcIik7XG4gICAgICBpc0xvYWRpbmdUZW5kZXJzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5XSk7XG5cbiAgLy8gXCLQl9Cw0LHRgNCw0YLRjFwiINGC0LXQvdC00LXRgFxuICBjb25zdCB0YWtlVGVuZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0UmVmLmN1cnJlbnQhLnRha2VUZW5kZXIoaWQpO1xuICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgaGFzaDogcmVjZWlwdC50cmFuc2FjdGlvbkhhc2hcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRha2luZyB0ZW5kZXI6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdGFrZSB0ZW5kZXInKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB0YWtlIHRlbmRlcicgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIHNpZ25lciwgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eV0pO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBhIHRlbmRlciBleGlzdHMgaW4gdGhlIGJsb2NrY2hhaW4gd2l0aG91dCB0aHJvd2luZyBlcnJvcnNcbiAgY29uc3QgY2hlY2tUZW5kZXJFeGlzdHMgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBDaGVja2luZyBpZiB0ZW5kZXIgJHt0ZW5kZXJJZH0gZXhpc3RzIGluIGJsb2NrY2hhaW4uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gTWFrZSBhIHNhZmUgY2FsbCB0aGF0IGNhdGNoZXMgdGhlIHJldmVydCBlcnJvclxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdGVuZGVyUmVzcG9uc2UgPSBhd2FpdCBnZXRUZW5kZXIodGVuZGVySWQpO1xuICAgICAgICByZXR1cm4gdGVuZGVyUmVzcG9uc2Uuc3VjY2VzcyAmJiAhIXRlbmRlclJlc3BvbnNlLmRhdGE7IC8vIFRydWUgaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWwgYW5kIGRhdGEgZXhpc3RzXG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIC8vIElmIHdlIGdldCBoZXJlLCB0aGUgY29udHJhY3QgY2FsbCBpdHNlbGYgdGhyZXcgYW4gZXJyb3JcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIENvbnRyYWN0IGVycm9yIGNoZWNraW5nIHRlbmRlciBleGlzdGVuY2U6YCwgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVycm9yIGlzIHNwZWNpZmljYWxseSBhYm91dCB0ZW5kZXIgbm90IGV4aXN0aW5nXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIChcbiAgICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSB8fFxuICAgICAgICAgIChlcnJvci5yZWFzb24gJiYgZXJyb3IucmVhc29uLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSlcbiAgICAgICAgKSkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIENhdWdodCAnVGVuZGVyIGRvZXMgbm90IGV4aXN0JyBlcnJvciAtIHRlbmRlciAke3RlbmRlcklkfSBjb25maXJtZWQgbm90IHRvIGV4aXN0YCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBUZW5kZXIgZGVmaW5pdGVseSBkb2Vzbid0IGV4aXN0XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBvdGhlciBlcnJvcnMsIGl0J3Mgc2FmZXIgdG8gZmFpbCB0aGUgY2hlY2tcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgaW4gY2hlY2tUZW5kZXJFeGlzdHMgd3JhcHBlcjpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbZ2V0VGVuZGVyXSk7XG5cbiAgLy8gU3VibWl0IGJpZCBmdW5jdGlvbiB3aXRoIHJldHJ5IGFuZCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcbiAgY29uc3Qgc3VibWl0QmlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKFxuICAgIHRlbmRlcklkOiBzdHJpbmcsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgcHJvcG9zYWw6IHN0cmluZ1xuICApOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8eyBoYXNoOiBzdHJpbmcgfT4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBDaGVja2luZyBpZiB0ZW5kZXIgJHt0ZW5kZXJJZH0gZXhpc3RzIGJlZm9yZSBzdWJtaXR0aW5nIGJpZC4uLmApO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgdGVuZGVyIGV4aXN0cyB0byBhdm9pZCB0aGUgXCJUZW5kZXIgZG9lcyBub3QgZXhpc3RcIiBlcnJvclxuICAgICAgY29uc3QgdGVuZGVyRXhpc3RzID0gYXdhaXQgY2hlY2tUZW5kZXJFeGlzdHModGVuZGVySWQpO1xuICAgICAgaWYgKCF0ZW5kZXJFeGlzdHMpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgVGVuZGVyIHdpdGggSUQgJHt0ZW5kZXJJZH0gZG9lcyBub3QgZXhpc3QgaW4gdGhlIGJsb2NrY2hhaW4uIEl0IG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBvciBuZXZlciBleGlzdGVkLmA7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCAke2Vycm9yTXNnfWApO1xuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgICAgZXJyb3I6IGVycm9yTXNnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn5K4IFRha2luZyB0ZW5kZXIgJHt0ZW5kZXJJZH0uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsbCB0YWtlVGVuZGVyIGluc3RlYWQgb2Ygc3VibWl0QmlkIHNpbmNlIHRoYXQncyB3aGF0IG91ciBjb250cmFjdCBhY3R1YWxseSBoYXNcbiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEudGFrZVRlbmRlcih0ZW5kZXJJZCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OdIFRlbmRlciB0YWtpbmcgdHJhbnNhY3Rpb24gc2VudDogJHt0eC5oYXNofWApO1xuICAgICAgY29uc29sZS5sb2coYOKPse+4jyBXYWl0aW5nIGZvciB0cmFuc2FjdGlvbiBjb25maXJtYXRpb24uLi5gKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgVGVuZGVyIHRha2VuIGNvbmZpcm1lZCBpbiBibG9jayAke3JlY2VpcHQuYmxvY2tOdW1iZXJ9YCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHsgaGFzaDogcmVjZWlwdC5oYXNoIH0sXG4gICAgICAgIGhhc2g6IHJlY2VpcHQuaGFzaFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEVycm9yIHRha2luZyB0ZW5kZXI6YCwgZXJyKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIHNwZWNpZmljIGVycm9yIHR5cGVzXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJyc7XG4gICAgICBcbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0NBTExfRVhDRVBUSU9OJyB8fCBlcnIuY29kZSA9PT0gJ1VOUFJFRElDVEFCTEVfR0FTX0xJTUlUJykge1xuICAgICAgICAvLyBDb250cmFjdCBleGVjdXRpb24gZXJyb3JcbiAgICAgICAgaWYgKGVyci5yZWFzb24pIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgQ29udHJhY3QgZXJyb3I6ICR7ZXJyLnJlYXNvbn1gO1xuICAgICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5kZXIgZG9lcyBub3QgZXhpc3QnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdUZW5kZXIgZG9lcyBub3QgZXhpc3QnO1xuICAgICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdDYW5ub3QgdGFrZSB5b3VyIG93biB0ZW5kZXInKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdZb3UgY2Fubm90IHRha2UgeW91ciBvd24gdGVuZGVyJztcbiAgICAgICAgfSBlbHNlIGlmIChlcnIubWVzc2FnZSAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygnVGVuZGVyIGlzIG5vdCBvcGVuJykpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAnVGVuZGVyIGlzIG5vdCBvcGVuIGZvciB0YWtpbmcnO1xuICAgICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlICYmIGVyci5tZXNzYWdlLmluY2x1ZGVzKCdUZW5kZXIgaGFzIGV4cGlyZWQnKSkge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICdUZW5kZXIgaGFzIGV4cGlyZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBDb250cmFjdCBleGVjdXRpb24gZmFpbGVkOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXJyLmNvZGUgPT09ICdBQ1RJT05fUkVKRUNURUQnKSB7XG4gICAgICAgIC8vIFVzZXIgcmVqZWN0ZWQgdHJhbnNhY3Rpb25cbiAgICAgICAgZXJyb3JNZXNzYWdlID0gJ1RyYW5zYWN0aW9uIHJlamVjdGVkIGJ5IHVzZXInO1xuICAgICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PT0gJ0lOU1VGRklDSUVOVF9GVU5EUycpIHtcbiAgICAgICAgLy8gSW5zdWZmaWNpZW50IGZ1bmRzXG4gICAgICAgIGVycm9yTWVzc2FnZSA9ICdJbnN1ZmZpY2llbnQgZnVuZHMgZm9yIHRyYW5zYWN0aW9uJztcbiAgICAgIH0gZWxzZSBpZiAoZXJyLm1lc3NhZ2UpIHtcbiAgICAgICAgLy8gR2VuZXJpYyBlcnJvciB3aXRoIG1lc3NhZ2VcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVbmtub3duIGVycm9yXG4gICAgICAgIGVycm9yTWVzc2FnZSA9ICdVbmtub3duIGVycm9yIHRha2luZyB0ZW5kZXInO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSwgc2lnbmVyLCBjb250cmFjdFJlZiwgY2hlY2tUZW5kZXJFeGlzdHNdKTtcblxuICAvLyDQn9C+0LvRg9GH0LjRgtGMINCy0YHQtSDQt9Cw0Y/QstC60Lgg0L3QsCDRgtC10L3QtNC10YAgKNCw0LTQsNC/0YLQuNGA0L7QstCw0L3QviDQtNC70Y8g0LrQvtC90YLRgNCw0LrRgtCwINCx0LXQtyBnZXRCaWRzRm9yVGVuZGVyKVxuICBjb25zdCBnZXRCaWRzRm9yVGVuZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8eyBpZDogc3RyaW5nOyBiaWRkZXI6IHN0cmluZzsgYW1vdW50OiBudW1iZXI7IHRpbWVzdGFtcDogc3RyaW5nOyBzdGF0dXM6IHN0cmluZyB9W10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYOKaoO+4jyBnZXRCaWRzRm9yVGVuZGVyIGNhbGxlZCBmb3IgdGVuZGVyICR7aWR9LCBidXQgdGhpcyBjb250cmFjdCBkb2Vzbid0IHN1cHBvcnQgbGlzdGluZyBiaWRzYCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgY2FuIGF0IGxlYXN0IGdldCB0aGUgdGVuZGVyIHRvIHNlZSBpZiB0aGVyZSdzIGEgYmlkZGVyIGFzc2lnbmVkXG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogYENvbnRyYWN0IG5vdCBhdmFpbGFibGU6ICR7YXZhaWxhYmlsaXR5RXJyb3J9LiBOb3RlOiBUaGlzIGNvbnRyYWN0IGRvZXNuJ3Qgc3VwcG9ydCBsaXN0aW5nIGJpZHMuYCBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gZ2V0IHRoZSB0ZW5kZXIgdG8gY2hlY2sgaWYgdGhlcmUncyBhIGJpZGRlclxuICAgICAgY29uc3QgdGVuZGVyID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuZ2V0VGVuZGVyKGlkKTtcbiAgICAgIFxuICAgICAgaWYgKHRlbmRlciAmJiB0ZW5kZXIuYmlkZGVyICYmIHRlbmRlci5iaWRkZXIgIT09ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSB7XG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBiaWRkZXIsIGNyZWF0ZSBhIHNpbmdsZSBtb2NrIGJpZCBlbnRyeVxuICAgICAgICBjb25zdCBtb2NrQmlkID0ge1xuICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgYmlkZGVyOiB0ZW5kZXIuYmlkZGVyLFxuICAgICAgICAgIGFtb3VudDogMCwgLy8gV2UgZG9uJ3Qgc3RvcmUgYmlkIGFtb3VudHMgaW4gdGhpcyBjb250cmFjdFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoTnVtYmVyKHRlbmRlci5jcmVhdGVkQXQpICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBzdGF0dXM6IHRlbmRlci5zdGF0dXMgPT09IDIgPyAnQUNDRVBURUQnIDogJ1BFTkRJTkcnIC8vIDIgaXMgQVdBUkRFRCBpbiBlbnVtXG4gICAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogW21vY2tCaWRdLFxuICAgICAgICAgIGVycm9yOiAnTm90ZTogVGhpcyBjb250cmFjdCBvbmx5IHNob3dzIHRoZSBhc3NpZ25lZCBiaWRkZXIsIG5vdCBhbGwgYmlkcydcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW10sIC8vIE5vIGJpZGRlciBhc3NpZ25lZFxuICAgICAgICBlcnJvcjogJ05vdGU6IFRoaXMgY29udHJhY3QgZG9lc25cXCd0IHN1cHBvcnQgbGlzdGluZyBhbGwgYmlkcydcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdGVuZGVyIGZvciBiaWQgaW5mbzonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZXQgYmlkcyAobm90IHN1cHBvcnRlZCBieSB0aGlzIGNvbnRyYWN0KScpO1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZ2V0IGJpZHMgKG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBjb250cmFjdCknLFxuICAgICAgICBkYXRhOiBbXVxuICAgICAgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICAvLyDQl9Cw0LLQtdGA0YjQuNGC0Ywg0YLQtdC90LTQtdGAXG4gIGNvbnN0IGNvbXBsZXRlVGVuZGVyID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICBjb25zdCB7IGF2YWlsYWJsZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH0gPSBjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5KCk7XG4gICAgaWYgKCFhdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNpZ25lcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnV2FsbGV0IG5vdCBjb25uZWN0ZWQnIH07XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0UmVmLmN1cnJlbnQhLmNvbXBsZXRlVGVuZGVyKGlkKTtcbiAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0eC53YWl0KCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGhhc2g6IHJlY2VpcHQudHJhbnNhY3Rpb25IYXNoXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb21wbGV0aW5nIHRlbmRlcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjb21wbGV0ZSB0ZW5kZXInKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjb21wbGV0ZSB0ZW5kZXInIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBzaWduZXIsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICAvLyDQntGC0LzQtdC90LjRgtGMINGC0LXQvdC00LXRgFxuICBjb25zdCBjYW5jZWxUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8Q29udHJhY3RSZXNwb25zZTx2b2lkPj4gPT4ge1xuICAgIGNvbnN0IHsgYXZhaWxhYmxlLCBlcnJvcjogYXZhaWxhYmlsaXR5RXJyb3IgfSA9IGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHkoKTtcbiAgICBpZiAoIWF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9O1xuICAgIH1cblxuICAgIGlmICghc2lnbmVyKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdXYWxsZXQgbm90IGNvbm5lY3RlZCcgfTtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEuY2FuY2VsVGVuZGVyKGlkKTtcbiAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0eC53YWl0KCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGhhc2g6IHJlY2VpcHQudHJhbnNhY3Rpb25IYXNoXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjYW5jZWxsaW5nIHRlbmRlcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBjYW5jZWwgdGVuZGVyJyk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY2FuY2VsIHRlbmRlcicgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY29udHJhY3RSZWYsIHNpZ25lciwgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eV0pO1xuXG4gIC8vIEFkZCBhIGhlbHBlciBmdW5jdGlvbiB0byBhZGQgSGFyZGhhdCBuZXR3b3JrIHRvIE1ldGFNYXNrXG4gIGNvbnN0IGFkZEhhcmRoYXROZXR3b3JrVG9NZXRhTWFzayA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIHdpbmRvdy5ldGhlcmV1bSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBBZGRpbmcgSGFyZGhhdCBsb2NhbCBuZXR3b3JrIHRvIE1ldGFNYXNrLi4uJyk7XG4gICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgIGNoYWluSWQ6ICcweDdhNjknLCAgLy8gMzEzMzcgaW4gaGV4YWRlY2ltYWxcbiAgICAgICAgICBjaGFpbk5hbWU6ICdIYXJkaGF0IExvY2FsJyxcbiAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogeyBuYW1lOiAnRVRIJywgc3ltYm9sOiAnRVRIJywgZGVjaW1hbHM6IDE4IH0sXG4gICAgICAgICAgcnBjVXJsczogWydodHRwOi8vMTI3LjAuMC4xOjg1NDUvJ10sXG4gICAgICAgICAgYmxvY2tFeHBsb3JlclVybHM6IG51bGxcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBBZGRlZCBIYXJkaGF0IGxvY2FsIG5ldHdvcmsgdG8gTWV0YU1hc2snKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIHN3aXRjaCB0byB0aGUgSGFyZGhhdCBuZXR3b3JrXG4gICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiAnMHg3YTY5JyB9XVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIFN3aXRjaGVkIHRvIEhhcmRoYXQgbG9jYWwgbmV0d29yaycpO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBhZGQgSGFyZGhhdCBuZXR3b3JrIHRvIE1ldGFNYXNrOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyDQn9C+0LvRg9GH0LjRgtGMINC60L7Qu9C40YfQtdGB0YLQstC+INGC0LXQvdC00LXRgNC+0LIg0LIg0LrQvtC90YLRgNCw0LrRgtC1XG4gIGNvbnN0IGdldFRlbmRlckNvdW50ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ29udHJhY3Qgbm90IGF2YWlsYWJsZSBmb3IgZ2V0VGVuZGVyQ291bnQ6XCIsIGF2YWlsYWJpbGl0eUVycm9yKTtcbiAgICAgIHJldHVybiBcIjBcIjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJHZXR0aW5nIHRlbmRlciBjb3VudCBmcm9tIGNvbnRyYWN0XCIpO1xuICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBjb250cmFjdFJlZi5jdXJyZW50IS50ZW5kZXJDb3VudCgpO1xuICAgICAgY29uc29sZS5sb2coXCJDdXJyZW50IHRlbmRlciBjb3VudDpcIiwgY291bnQudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gY291bnQudG9TdHJpbmcoKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB0ZW5kZXIgY291bnQ6JywgZXJyKTtcbiAgICAgIHJldHVybiBcIjBcIjtcbiAgICB9XG4gIH0sIFtjb250cmFjdFJlZiwgY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eV0pO1xuXG4gIC8vIE1pZ3JhdGUgYSB0ZW5kZXIgZnJvbSBkYXRhYmFzZSB0byBibG9ja2NoYWluXG4gIGNvbnN0IG1pZ3JhdGVUZW5kZXJUb0Jsb2NrY2hhaW4gPSB1c2VDYWxsYmFjayhhc3luYyAoXG4gICAgdGVuZGVySWQ6IHN0cmluZyxcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgYnVkZ2V0OiBzdHJpbmcsXG4gICAgZGVhZGxpbmU6IHN0cmluZyB8IG51bWJlciB8IGJpZ2ludCxcbiAgICBzdGF0dXM6IFRlbmRlclN0YXR1c1xuICApOiBQcm9taXNlPENvbnRyYWN0UmVzcG9uc2U8eyBpZDogc3RyaW5nIH0+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYPCflIQgTWlncmF0aW5nIHRlbmRlciAke3RlbmRlcklkfSB0byBibG9ja2NoYWluLi4uYCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgY29udHJhY3QgYXZhaWxhYmlsaXR5XG4gICAgY29uc3QgeyBhdmFpbGFibGUsIGVycm9yOiBhdmFpbGFiaWxpdHlFcnJvciB9ID0gY2hlY2tDb250cmFjdEF2YWlsYWJpbGl0eSgpO1xuICAgIGlmICghYXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGF2YWlsYWJpbGl0eUVycm9yIH07XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgd2FsbGV0IGlzIGNvbm5lY3RlZFxuICAgIGlmICghc2lnbmVyKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdXYWxsZXQgbm90IGNvbm5lY3RlZCcgfTtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgc3RhdHVzIHN0cmluZyB0byBjb250cmFjdCBlbnVtIHZhbHVlXG4gICAgICBjb25zdCBzdGF0dXNNYXA6IFJlY29yZDxUZW5kZXJTdGF0dXMsIG51bWJlcj4gPSB7XG4gICAgICAgICdPUEVOJzogMCxcbiAgICAgICAgJ0NMT1NFRCc6IDEsXG4gICAgICAgICdBV0FSREVEJzogMixcbiAgICAgICAgJ0NPTVBMRVRFRCc6IDMsXG4gICAgICAgICdDQU5DRUxMRUQnOiA0XG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RhdHVzVmFsdWUgPSBzdGF0dXNNYXBbc3RhdHVzXSB8fCAwO1xuXG4gICAgICAvLyBGb3JtYXQgZGVhZGxpbmUgdG8gVVRDIHRpbWVzdGFtcCBpZiBpdCdzIG5vdCBhbHJlYWR5IGEgbnVtYmVyXG4gICAgICBsZXQgZGVhZGxpbmVUaW1lc3RhbXA6IG51bWJlcjtcbiAgICAgIGlmICh0eXBlb2YgZGVhZGxpbmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRlYWRsaW5lVGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXcgRGF0ZShkZWFkbGluZSkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWFkbGluZSA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgZGVhZGxpbmVUaW1lc3RhbXAgPSBOdW1iZXIoZGVhZGxpbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVhZGxpbmVUaW1lc3RhbXAgPSBOdW1iZXIoZGVhZGxpbmUpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgdGhlIHRlbmRlciBpbiB0aGUgYmxvY2tjaGFpblxuICAgICAgY29uc29sZS5sb2coYENyZWF0aW5nIHRlbmRlciBpbiBibG9ja2NoYWluIHdpdGg6IHRpdGxlPSR7dGl0bGV9LCBidWRnZXQ9JHtidWRnZXR9LCBkZWFkbGluZT0ke2RlYWRsaW5lVGltZXN0YW1wfWApO1xuICAgICAgY29uc3QgdHggPSBhd2FpdCBjb250cmFjdFJlZi5jdXJyZW50IS5jcmVhdGVUZW5kZXIoXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgYnVkZ2V0LFxuICAgICAgICBkZWFkbGluZVRpbWVzdGFtcCxcbiAgICAgICAgMCwgLy8gRGVmYXVsdCBkaXN0YW5jZVxuICAgICAgICAwLCAvLyBEZWZhdWx0IHdlaWdodFxuICAgICAgICAnR2VuZXJhbCcsIC8vIERlZmF1bHQgY2FyZ29UeXBlXG4gICAgICAgIDcgIC8vIERlZmF1bHQgdXJnZW5jeURheXNcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlY2VpcHQgPSBhd2FpdCB0eC53YWl0KCk7XG4gICAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gcmVjZWlwdDonLCByZWNlaXB0KTtcblxuICAgICAgLy8gR2V0IHRoZSB0ZW5kZXIgSUQgZnJvbSBldmVudHMgb3IgbGFzdCB0ZW5kZXIgY291bnRcbiAgICAgIGNvbnN0IHRlbmRlckNvdW50ID0gYXdhaXQgY29udHJhY3RSZWYuY3VycmVudCEudGVuZGVyQ291bnQoKTtcbiAgICAgIGNvbnN0IG5ld1RlbmRlcklkID0gKHRlbmRlckNvdW50IC0gMSkudG9TdHJpbmcoKTtcblxuICAgICAgY29uc29sZS5sb2coYOKchSBUZW5kZXIgbWlncmF0ZWQgdG8gYmxvY2tjaGFpbiB3aXRoIElEOiAke25ld1RlbmRlcklkfWApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogeyBpZDogbmV3VGVuZGVySWQgfSxcbiAgICAgICAgaGFzaDogcmVjZWlwdC50cmFuc2FjdGlvbkhhc2hcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBtaWdyYXRpbmcgdGVuZGVyIHRvIGJsb2NrY2hhaW46JywgZXJyKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbWlncmF0ZSB0ZW5kZXIgdG8gYmxvY2tjaGFpbic7XG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSBcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvbnRyYWN0UmVmLCBzaWduZXIsIGNoZWNrQ29udHJhY3RBdmFpbGFiaWxpdHldKTtcblxuICByZXR1cm4ge1xuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgaXNDb250cmFjdEF2YWlsYWJsZSxcbiAgICBjb250cmFjdFN0YXR1cyxcbiAgICBjb250cmFjdEVycm9yRGV0YWlscyxcbiAgICBjcmVhdGVUZW5kZXIsXG4gICAgZ2V0VGVuZGVyLFxuICAgIGdldEFjdGl2ZVRlbmRlcnMsXG4gICAgdGFrZVRlbmRlcixcbiAgICBjb21wbGV0ZVRlbmRlcixcbiAgICBjYW5jZWxUZW5kZXIsXG4gICAgc3VibWl0QmlkLFxuICAgIGdldEJpZHNGb3JUZW5kZXIsXG4gICAgY2hlY2tDb250cmFjdFN0YXR1cyxcbiAgICBmb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb24sXG4gICAgYWRkSGFyZGhhdE5ldHdvcmtUb01ldGFNYXNrLFxuICAgIGdldFRlbmRlckNvdW50LFxuICAgIG1pZ3JhdGVUZW5kZXJUb0Jsb2NrY2hhaW5cbiAgfTtcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwidXNlV2ViMyIsImV0aGVycyIsIkNvbnRyYWN0IiwiZ2V0QmlnSW50IiwiVGVuZGVyQ2hhaW5BQkkiLCJGQUxMQkFDS19BQkkiLCJBQkkiLCJhYmkiLCJDT05UUkFDVF9BRERSRVNTIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0NPTlRSQUNUX0FERFJFU1MiLCJjb25zb2xlIiwibG9nIiwiTUFYX0lOSVRfQVRURU1QVFMiLCJJTklUX1JFVFJZX0RFTEFZIiwiZ2V0RXJyb3JNZXNzYWdlIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJoYW5kbGVDb250cmFjdEVycm9yIiwiZGVmYXVsdFZhbHVlIiwic3VjY2VzcyIsInJlYXNvbiIsImRhdGEiLCJ2ZXJpZnlDb250cmFjdEFkZHJlc3MiLCJhZGRyZXNzIiwicHJvdmlkZXIiLCJpc0FkZHJlc3MiLCJjb2RlIiwiZ2V0Q29kZSIsImxlbmd0aCIsInZhbGlkYXRlQ29udHJhY3RBQkkiLCJyZXF1aXJlZE1ldGhvZHMiLCJvcHRpb25hbE1ldGhvZHMiLCJBcnJheSIsImlzQXJyYXkiLCJtZXRob2ROYW1lcyIsImZpbHRlciIsIml0ZW0iLCJ0eXBlIiwiaW5jbHVkZXMiLCJtYXAiLCJtYXRjaCIsIm5hbWUiLCJCb29sZWFuIiwibWlzc2luZ1JlcXVpcmVkTWV0aG9kcyIsIm1ldGhvZCIsIm1pc3NpbmdPcHRpb25hbE1ldGhvZHMiLCJ3YXJuIiwidXNlQ29udHJhY3RUZW5kZXIiLCJzaWduZXIiLCJhY2NvdW50IiwiY29udHJhY3QiLCJzZXRDb250cmFjdCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJpc0NvbnRyYWN0QXZhaWxhYmxlIiwic2V0SXNDb250cmFjdEF2YWlsYWJsZSIsImNvbnRyYWN0U3RhdHVzIiwic2V0Q29udHJhY3RTdGF0dXMiLCJjb250cmFjdEVycm9yRGV0YWlscyIsInNldENvbnRyYWN0RXJyb3JEZXRhaWxzIiwiY29udHJhY3RSZWYiLCJpc0NvbnRyYWN0QXZhaWxhYmxlUmVmIiwibGFzdEdldEFjdGl2ZVRlbmRlcnNDYWxsIiwiaXNMb2FkaW5nVGVuZGVycyIsImluaXRBdHRlbXB0cyIsImZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbiIsIndpbmRvdyIsImV0aGVyZXVtIiwiY2hhaW5JZCIsInJlcXVlc3QiLCJpc1ZhbGlkTmV0d29yayIsImFjY291bnRzIiwiam9pbiIsInBhcmFtcyIsImhhcmRoYXRTd2l0Y2hFcnJvciIsInNlcG9saWFTd2l0Y2hFcnJvciIsImNoYWluTmFtZSIsIm5hdGl2ZUN1cnJlbmN5Iiwic3ltYm9sIiwiZGVjaW1hbHMiLCJycGNVcmxzIiwiYmxvY2tFeHBsb3JlclVybHMiLCJhZGRTZXBvbGlhRXJyb3IiLCJuZXR3b3JrRXJyb3IiLCJCcm93c2VyUHJvdmlkZXIiLCJuZXdTaWduZXIiLCJnZXRTaWduZXIiLCJzaWduZXJBZGRyZXNzIiwiZ2V0QWRkcmVzcyIsImhhc1RlbmRlckNvdW50Iiwic29tZSIsImN1cnJlbnQiLCJpc1ZhbGlkQ29udHJhY3QiLCJjb3VudCIsInRlbmRlckNvdW50IiwiZXJyIiwidGVzdENvbnRyYWN0Q29ubmVjdGlvbiIsImJyb3dzZXJQcm92aWRlciIsImRpcmVjdENvbnRyYWN0IiwidG9TdHJpbmciLCJpc01vdW50ZWQiLCJyZXRyeUNvdW50IiwiY2hlY2tDb250cmFjdFdpdGhSZXRyeSIsInNldFRpbWVvdXQiLCJzaWduZXJBZGRyZXNzU3RyIiwic2V0U2lnbmVyQWRkcmVzc1N0ciIsInRoZW4iLCJjYXRjaCIsInByZXZpb3VzU2lnbmVyUmVmIiwiY29udHJhY3RBdmFpbGFibGUiLCJjaGVja0NvbnRyYWN0QXZhaWxhYmlsaXR5IiwiYXZhaWxhYmxlIiwiZXJyb3JNc2ciLCJjaGVja0NvbnRyYWN0U3RhdHVzIiwiY3JlYXRlVGVuZGVyIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1ZGdldCIsImRlYWRsaW5lIiwiZGlzdGFuY2VLbSIsIndlaWdodEtnIiwiY2FyZ29UeXBlIiwidXJnZW5jeURheXMiLCJleHBpcmF0aW9uTWludXRlcyIsImF2YWlsYWJpbGl0eUVycm9yIiwiZGVhZGxpbmVUaW1lc3RhbXAiLCJOdW1iZXIiLCJ0eCIsInJlY2VpcHQiLCJ3YWl0IiwiZXZlbnQiLCJsb2dzIiwiZnJhZ21lbnQiLCJ0ZW5kZXJJZCIsImFyZ3MiLCJEYXRlIiwibm93IiwiaWQiLCJoYXNoIiwidHJhbnNhY3Rpb25IYXNoIiwiZ2V0VGVuZGVyIiwidGVuZGVyRGF0YSIsInN0YXR1c01hcCIsInN0YXR1cyIsImFkYXB0ZWRUZW5kZXIiLCJkaXN0YW5jZSIsIndlaWdodCIsImNyZWF0b3IiLCJiaWRkZXIiLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsImV4cGlyZXNBdCIsInRpbWVMZWZ0IiwiTWF0aCIsIm1heCIsImZsb29yIiwiZ2V0QWN0aXZlVGVuZGVycyIsInRpbWVvdXRQcm9taXNlIiwiUHJvbWlzZSIsIl8iLCJyZWplY3QiLCJhY3RpdmVUZW5kZXJJZHMiLCJyYWNlIiwidGVuZGVyUHJvbWlzZXMiLCJ1bmRlZmluZWQiLCJpZFN0cmluZyIsInRlbmRlcnNEYXRhIiwiYWxsIiwidGVuZGVycyIsImN1cnJlbnRUaW1lIiwiZm9yRWFjaCIsInRlbmRlciIsImdldFRpbWUiLCJ0YWtlVGVuZGVyIiwiY2hlY2tUZW5kZXJFeGlzdHMiLCJ0ZW5kZXJSZXNwb25zZSIsInN1Ym1pdEJpZCIsImFtb3VudCIsInByb3Bvc2FsIiwidGVuZGVyRXhpc3RzIiwiYmxvY2tOdW1iZXIiLCJlcnJvck1lc3NhZ2UiLCJnZXRCaWRzRm9yVGVuZGVyIiwibW9ja0JpZCIsInRpbWVzdGFtcCIsImNvbXBsZXRlVGVuZGVyIiwiY2FuY2VsVGVuZGVyIiwiYWRkSGFyZGhhdE5ldHdvcmtUb01ldGFNYXNrIiwiZ2V0VGVuZGVyQ291bnQiLCJtaWdyYXRlVGVuZGVyVG9CbG9ja2NoYWluIiwic3RhdHVzVmFsdWUiLCJuZXdUZW5kZXJJZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./hooks/useContractTender.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./hooks/useTenderAPI.ts":
/*!*******************************!*\
  !*** ./hooks/useTenderAPI.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n// The shared singleton instance\nlet SINGLETON_INSTANCE = null;\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api';\n// Custom error class for request timeouts\nclass RequestTimeoutError extends Error {\n    constructor(message){\n        super(message);\n        this.name = 'RequestTimeoutError';\n    }\n}\n// Constants for API requests\nconst API_TIMEOUT = 30000; // 30 seconds\nconst MAX_RETRIES = 2;\n// Кеширование результатов запросов\nconst cache = new Map();\nconst CACHE_TTL = 1000 * 60; // 1 минута\n// Мок-данные для случаев, когда API недоступен\nconst MOCK_DATA = {\n    tenders: [\n        {\n            id: 'mock-1',\n            title: 'Демо тендер #1 - API недоступен',\n            description: 'Расстояние: 1000 км, Вес: 500 кг, Тип груза: perishable, Срок доставки: 3 дня',\n            budget: 1500,\n            deadline: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            creatorId: '1',\n            creator: {\n                id: '1',\n                name: 'Демо пользователь',\n                email: 'demo@example.com',\n                walletAddress: '0x123456789abcdef',\n                createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: '1',\n                    name: 'perishable',\n                    createdAt: new Date().toISOString()\n                }\n            ],\n            expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString()\n        },\n        {\n            id: 'mock-2',\n            title: 'Демо тендер #2 - API недоступен',\n            description: 'Расстояние: 500 км, Вес: 1000 кг, Тип груза: general, Срок доставки: 5 дней',\n            budget: 2000,\n            deadline: new Date(Date.now() + 10 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            creatorId: '2',\n            creator: {\n                id: '2',\n                name: 'Демо пользователь 2',\n                email: 'demo2@example.com',\n                walletAddress: '0x987654321fedcba',\n                createdAt: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: '2',\n                    name: 'general',\n                    createdAt: new Date().toISOString()\n                }\n            ],\n            expiresAt: new Date(Date.now() + 48 * 60 * 60 * 1000).toISOString()\n        }\n    ],\n    bids: [\n        {\n            id: 'mock-bid-1',\n            amount: 1400,\n            proposal: 'Демо заявка на тендер #1',\n            status: 'PENDING',\n            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            tenderId: 'mock-1',\n            bidderId: '3',\n            bidder: {\n                id: '3',\n                name: 'Демо участник',\n                email: 'bidder@example.com',\n                walletAddress: '0xabcdef123456789',\n                createdAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString()\n            }\n        }\n    ]\n};\n// Использовать ли мок-данные при ошибках API\nconst USE_MOCK_DATA_ON_ERROR = true;\n// Helper function to create a fetch request with timeout\nconst fetchWithTimeout = async (url, fetchOptions, timeoutMs = 30000)=>{\n    const controller = new AbortController();\n    const signal = controller.signal;\n    let timeoutId = null;\n    try {\n        // Create a promise that rejects on timeout\n        const timeoutPromise = new Promise((_, reject)=>{\n            timeoutId = setTimeout(()=>{\n                controller.abort('Request timeout');\n                reject(new RequestTimeoutError(`Request timed out after ${timeoutMs}ms`));\n            }, timeoutMs);\n        });\n        // Wrapping the fetch in a try/catch to handle network errors\n        const fetchPromise = fetch(url, {\n            ...fetchOptions,\n            signal\n        });\n        // Race the fetch against the timeout\n        return await Promise.race([\n            fetchPromise,\n            timeoutPromise\n        ]);\n    } finally{\n        // Always clean up the timeout to prevent memory leaks\n        if (timeoutId) clearTimeout(timeoutId);\n    }\n};\n// Helper function to get mock tenders for development and testing\nconst getMockTenders = ()=>{\n    return [\n        {\n            id: 'mock-tender-1',\n            title: 'Transport Refrigerated Goods',\n            description: 'Need temperature-controlled transportation for perishable items from warehouse to distribution centers.',\n            budget: 3000,\n            deadline: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString(),\n            creatorId: 'mock-user-1',\n            creator: {\n                id: 'mock-user-1',\n                name: 'Supply Chain Corp',\n                email: 'supply@example.com',\n                walletAddress: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266',\n                createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: 'cat-1',\n                    name: 'Transportation',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                },\n                {\n                    id: 'cat-2',\n                    name: 'Cold Chain',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                }\n            ],\n            bids: []\n        },\n        {\n            id: 'mock-tender-2',\n            title: 'Last Mile Delivery Partners',\n            description: 'Seeking local delivery partners for last-mile delivery in urban areas.',\n            budget: 5000,\n            deadline: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000).toISOString(),\n            status: 'OPEN',\n            createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date().toISOString(),\n            creatorId: 'mock-user-2',\n            creator: {\n                id: 'mock-user-2',\n                name: 'E-Commerce Solutions',\n                email: 'ecommerce@example.com',\n                walletAddress: '0x70997970C51812dc3A010C7d01b50e0d17dc79C8',\n                createdAt: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000).toISOString()\n            },\n            categories: [\n                {\n                    id: 'cat-1',\n                    name: 'Transportation',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                },\n                {\n                    id: 'cat-3',\n                    name: 'Urban Delivery',\n                    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()\n                }\n            ],\n            bids: []\n        }\n    ];\n};\n// Helper function to get mock bids for development and testing\nconst getMockBids = (tenderId)=>{\n    return [\n        {\n            id: `mock-bid-1-${tenderId}`,\n            amount: 2800,\n            proposal: \"We offer same-day temperature-controlled delivery with real-time tracking.\",\n            status: 'PENDING',\n            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n            tenderId: tenderId,\n            bidderId: 'mock-bidder-1',\n            bidder: {\n                id: 'mock-bidder-1',\n                name: 'Cold Transport Inc',\n                email: 'transport@example.com',\n                walletAddress: '0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC',\n                createdAt: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000).toISOString()\n            }\n        },\n        {\n            id: `mock-bid-2-${tenderId}`,\n            amount: 3100,\n            proposal: \"Our fleet of refrigerated trucks ensures your goods arrive in perfect condition.\",\n            status: 'PENDING',\n            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n            tenderId: tenderId,\n            bidderId: 'mock-bidder-2',\n            bidder: {\n                id: 'mock-bidder-2',\n                name: 'Premium Logistics',\n                email: 'logistics@example.com',\n                walletAddress: '0x90F79bf6EB2c4f870365E785982E1f101E93b906',\n                createdAt: new Date(Date.now() - 35 * 24 * 60 * 60 * 1000).toISOString()\n            }\n        }\n    ];\n};\n// Main API implementation as a factory function\nconst createTenderAPI = ()=>{\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const useMockDataFromEnv = process.env.NEXT_PUBLIC_USE_MOCK_DATA === 'true';\n    const [useMockData, setUseMockData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(useMockDataFromEnv);\n    // Log initial state\n    console.log(`TenderAPI instance created with mock data ${useMockData ? 'enabled' : 'disabled'} (env: ${useMockDataFromEnv})`);\n    const handleRequest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[handleRequest]\": async (endpoint, options = {}, retry = 0)=>{\n            setLoading(true);\n            setError(null);\n            // Early return for mock data if enabled\n            if (useMockData) {\n                console.log(`Using mock data for ${endpoint} (mock mode enabled)`);\n                if (endpoint === '/tenders') {\n                    setLoading(false);\n                    return {\n                        data: getMockTenders(),\n                        error: null,\n                        loading: false\n                    };\n                }\n                if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    console.log(`Getting mock bids for tender: ${tenderId}`);\n                    setLoading(false);\n                    return {\n                        data: getMockBids(tenderId),\n                        error: null,\n                        loading: false\n                    };\n                }\n                // For specific tender details\n                if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    const allTenders = getMockTenders();\n                    const tender = allTenders.find({\n                        \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                    }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                    if (tender) {\n                        setLoading(false);\n                        return {\n                            data: tender,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                }\n            }\n            try {\n                console.log(`Making API request to ${endpoint}:`, options);\n                // Add default headers for JSON requests\n                const fetchOptions = {\n                    ...options,\n                    headers: {\n                        ...options.headers,\n                        'Content-Type': 'application/json'\n                    }\n                };\n                // Fetch with timeout\n                const response = await fetchWithTimeout(`${API_BASE_URL}${endpoint}`, fetchOptions, API_TIMEOUT);\n                // Check if response is OK\n                if (!response.ok) {\n                    // Handle 404 errors differently - they're expected sometimes\n                    if (response.status === 404) {\n                        console.log(`Resource not found at ${endpoint}. This might be expected.`);\n                        // Return empty data rather than treating as error for 404\n                        return {\n                            data: null,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // Handle 500 errors by using mock data\n                    if (response.status === 500) {\n                        console.log(`Server error (500) for ${endpoint}. Falling back to mock data.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (500 error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    // General error fallback - use mock data in development or if mock mode is enabled\n                    if (true) {\n                        console.log(`HTTP Error (${response.status}) for ${endpoint}. Using mock data as fallback.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (HTTP error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    throw new Error(`API error: ${response.status} ${response.statusText}`);\n                }\n                // Check content type to ensure we're getting JSON\n                const contentType = response.headers.get('content-type');\n                if (!contentType || !contentType.includes('application/json')) {\n                    console.error('API returned non-JSON content type:', contentType);\n                    try {\n                        // Try to see what was returned\n                        const text = await response.text();\n                        console.log('API response text:', text.substring(0, 200) + '...');\n                        // Show more detailed error in development\n                        if (true) {\n                            console.log('Development environment detected, showing detailed error');\n                            // Check if it's an HTML response (typically 404/500 error pages)\n                            if (text.includes('<!DOCTYPE html>')) {\n                                console.error('API returned an HTML page instead of JSON data');\n                                // In development, we'll use mock data instead\n                                console.log('Switching to mock data due to HTML response');\n                                if (!useMockData) {\n                                    setUseMockData(true);\n                                }\n                                // Return mock data\n                                if (endpoint.includes('/tenders') && !endpoint.includes('/bids')) {\n                                    // For tender endpoints, return mock tenders\n                                    return {\n                                        data: getMockTenders(),\n                                        error: null,\n                                        loading: false\n                                    };\n                                } else if (endpoint.includes('/bids')) {\n                                    // For bid endpoints, return mock bids\n                                    return {\n                                        data: getMockBids(endpoint.split('/')[2]),\n                                        error: null,\n                                        loading: false\n                                    };\n                                }\n                            }\n                        }\n                        throw new Error('Response is not JSON. API returned: ' + contentType);\n                    } catch (textError) {\n                        throw new Error(`Failed to parse response: ${textError}`);\n                    }\n                }\n                // Parse JSON response\n                const data = await response.json();\n                // API response with proper structure\n                console.log(`API response from ${endpoint}:`, {\n                    status: response.status,\n                    ok: response.ok,\n                    data: data\n                });\n                return {\n                    data,\n                    error: null,\n                    loading: false\n                };\n            } catch (error) {\n                let errorMessage = error.message || 'Unknown error';\n                // Network errors (like CORS, connection refused, etc.)\n                if (error instanceof TypeError && error.message.includes('fetch')) {\n                    errorMessage = `Network error: ${error.message}`;\n                    console.error(`Network error for ${endpoint}:`, error);\n                } else if (error instanceof RequestTimeoutError) {\n                    errorMessage = `Request timed out after ${API_TIMEOUT}ms`;\n                    console.error(`Timeout for ${endpoint}:`, error);\n                } else {\n                    console.error(`API error for ${endpoint}:`, error);\n                }\n                // Retry logic for certain errors (not 4xx client errors)\n                if (retry < MAX_RETRIES && !errorMessage.includes('API error: 4')) {\n                    console.log(`Retrying request to ${endpoint} (attempt ${retry + 1}/${MAX_RETRIES})`);\n                    return handleRequest(endpoint, options, retry + 1);\n                }\n                // Return mock data in development mode if API fails\n                if (true) {\n                    console.log(`Using mock data for ${endpoint} due to API error`);\n                    // Toggle mock data mode if not already on\n                    if (!useMockData) {\n                        setUseMockData(true);\n                    }\n                    // Return appropriate mock data based on the endpoint\n                    if (endpoint === '/tenders') {\n                        setLoading(false);\n                        return {\n                            data: getMockTenders(),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        console.log(`Getting mock bids for tender (error case): ${tenderId}`);\n                        setLoading(false);\n                        return {\n                            data: getMockBids(tenderId),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // For specific tender details\n                    if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        const allTenders = getMockTenders();\n                        const tender = allTenders.find({\n                            \"createTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                        }[\"createTenderAPI.useCallback[handleRequest].tender\"]);\n                        if (tender) {\n                            setLoading(false);\n                            return {\n                                data: tender,\n                                error: null,\n                                loading: false\n                            };\n                        }\n                    }\n                }\n                setError(errorMessage);\n                return {\n                    data: null,\n                    error: errorMessage,\n                    loading: false\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"createTenderAPI.useCallback[handleRequest]\"], [\n        API_BASE_URL,\n        useMockData\n    ]);\n    const getTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getTenders]\": async ()=>{\n            return handleRequest('/tenders');\n        }\n    }[\"createTenderAPI.useCallback[getTenders]\"], [\n        handleRequest\n    ]);\n    const getTenderById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getTenderById]\": async (id)=>{\n            // Check cache\n            const now = Date.now();\n            const cacheKey = `/tenders/${id}`;\n            const cachedData = cache.get(cacheKey);\n            // If data exists in cache and isn't stale, return it\n            if (cachedData && now - cachedData.timestamp < CACHE_TTL) {\n                console.log('Using cached data for tender:', id);\n                return {\n                    data: cachedData.data,\n                    error: null,\n                    loading: false\n                };\n            }\n            const result = await handleRequest(`/tenders/${id}`);\n            // Save successful result to cache\n            if (result.data) {\n                cache.set(cacheKey, {\n                    data: result.data,\n                    timestamp: now\n                });\n            }\n            return result;\n        }\n    }[\"createTenderAPI.useCallback[getTenderById]\"], [\n        handleRequest\n    ]);\n    const createTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[createTender]\": async (tenderData)=>{\n            return handleRequest('/tenders', {\n                method: 'POST',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[createTender]\"], [\n        handleRequest\n    ]);\n    const updateTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[updateTender]\": async (id, tenderData)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'PUT',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[updateTender]\"], [\n        handleRequest\n    ]);\n    const deleteTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[deleteTender]\": async (id)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"createTenderAPI.useCallback[deleteTender]\"], [\n        handleRequest\n    ]);\n    const getBids = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getBids]\": async (tenderId)=>{\n            console.log(`Getting bids for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return handleRequest(`/tenders/${tenderId}/bids`);\n        }\n    }[\"createTenderAPI.useCallback[getBids]\"], [\n        handleRequest,\n        useMockData\n    ]);\n    const createBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[createBid]\": async (bidData)=>{\n            const { tenderId, ...restData } = bidData;\n            console.log(`Creating bid for tender ${tenderId}:`, restData);\n            return handleRequest(`/tenders/${tenderId}/bids`, {\n                method: 'POST',\n                body: JSON.stringify(restData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[createBid]\"], [\n        handleRequest\n    ]);\n    const updateBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[updateBid]\": async (tenderId, bidId, bidData)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'PUT',\n                body: JSON.stringify(bidData)\n            });\n        }\n    }[\"createTenderAPI.useCallback[updateBid]\"], [\n        handleRequest\n    ]);\n    const deleteBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[deleteBid]\": async (tenderId, bidId)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"createTenderAPI.useCallback[deleteBid]\"], [\n        handleRequest\n    ]);\n    const loginWithWallet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[loginWithWallet]\": async (walletAddress)=>{\n            return handleRequest('/users/login', {\n                method: 'POST',\n                body: JSON.stringify({\n                    walletAddress\n                })\n            });\n        }\n    }[\"createTenderAPI.useCallback[loginWithWallet]\"], [\n        handleRequest\n    ]);\n    const getCurrentUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getCurrentUser]\": async ()=>{\n            return handleRequest('/users/me');\n        }\n    }[\"createTenderAPI.useCallback[getCurrentUser]\"], [\n        handleRequest\n    ]);\n    // Для тестирования и отладки\n    const toggleMockData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[toggleMockData]\": ()=>{\n            setUseMockData({\n                \"createTenderAPI.useCallback[toggleMockData]\": (prev)=>{\n                    console.log(`Toggling mock data mode from ${prev} to ${!prev}`);\n                    // Reset error state when switching modes\n                    setError(null);\n                    return !prev;\n                }\n            }[\"createTenderAPI.useCallback[toggleMockData]\"]);\n        }\n    }[\"createTenderAPI.useCallback[toggleMockData]\"], []);\n    // Add getBidsForTender function which is an alias for getBids\n    const getBidsForTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"createTenderAPI.useCallback[getBidsForTender]\": async (tenderId)=>{\n            console.log(`getBidsForTender called for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return getBids(tenderId);\n        }\n    }[\"createTenderAPI.useCallback[getBidsForTender]\"], [\n        getBids,\n        useMockData\n    ]);\n    return {\n        loading,\n        error,\n        useMockData,\n        toggleMockData,\n        getTenders,\n        getTenderById,\n        createTender,\n        updateTender,\n        deleteTender,\n        getBids,\n        getBidsForTender,\n        createBid,\n        updateBid,\n        deleteBid,\n        loginWithWallet,\n        getCurrentUser\n    };\n};\n// The hook now returns a singleton instance\nconst useTenderAPI = ()=>{\n    // Always call all hooks unconditionally at the top level\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const useMockDataFromEnv = process.env.NEXT_PUBLIC_USE_MOCK_DATA === 'true';\n    const [useMockData, setUseMockData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(useMockDataFromEnv);\n    // Initialize refs\n    const instanceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const isInitializedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Log initial state only once\n    const logInitialState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[logInitialState]\": ()=>{\n            if (!isInitializedRef.current) {\n                console.log(`TenderAPI hook initialized with mock data ${useMockData ? 'enabled' : 'disabled'} (env: ${useMockDataFromEnv})`);\n                isInitializedRef.current = true;\n            }\n        }\n    }[\"useTenderAPI.useCallback[logInitialState]\"], [\n        useMockData,\n        useMockDataFromEnv\n    ]);\n    // Call this immediately\n    logInitialState();\n    // Define the handleRequest function\n    const handleRequest = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[handleRequest]\": async (endpoint, options = {}, retry = 0)=>{\n            setLoading(true);\n            setError(null);\n            // Early return for mock data if enabled\n            if (useMockData) {\n                console.log(`Using mock data for ${endpoint} (mock mode enabled)`);\n                if (endpoint === '/tenders') {\n                    setLoading(false);\n                    return {\n                        data: getMockTenders(),\n                        error: null,\n                        loading: false\n                    };\n                }\n                if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    console.log(`Getting mock bids for tender: ${tenderId}`);\n                    setLoading(false);\n                    return {\n                        data: getMockBids(tenderId),\n                        error: null,\n                        loading: false\n                    };\n                }\n                // For specific tender details\n                if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                    const tenderId = endpoint.split('/')[2];\n                    const allTenders = getMockTenders();\n                    const tender = allTenders.find({\n                        \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                    }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                    if (tender) {\n                        setLoading(false);\n                        return {\n                            data: tender,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                }\n            }\n            try {\n                console.log(`Making API request to ${endpoint}:`, options);\n                // Add default headers for JSON requests\n                const fetchOptions = {\n                    ...options,\n                    headers: {\n                        ...options.headers,\n                        'Content-Type': 'application/json'\n                    }\n                };\n                // Fetch with timeout\n                const response = await fetchWithTimeout(`${API_BASE_URL}${endpoint}`, fetchOptions, API_TIMEOUT);\n                // Check if response is OK\n                if (!response.ok) {\n                    // Handle 404 errors differently - they're expected sometimes\n                    if (response.status === 404) {\n                        console.log(`Resource not found at ${endpoint}. This might be expected.`);\n                        // Return empty data rather than treating as error for 404\n                        return {\n                            data: null,\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // Handle 500 errors by using mock data\n                    if (response.status === 500) {\n                        console.log(`Server error (500) for ${endpoint}. Falling back to mock data.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (500 error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    // General error fallback - use mock data in development or if mock mode is enabled\n                    if (true) {\n                        console.log(`HTTP Error (${response.status}) for ${endpoint}. Using mock data as fallback.`);\n                        // Switch to mock data mode if not already enabled\n                        if (!useMockData) {\n                            setUseMockData(true);\n                        }\n                        // Return appropriate mock data based on the endpoint\n                        if (endpoint === '/tenders') {\n                            setLoading(false);\n                            return {\n                                data: getMockTenders(),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            console.log(`Getting mock bids for tender (HTTP error): ${tenderId}`);\n                            setLoading(false);\n                            return {\n                                data: getMockBids(tenderId),\n                                error: null,\n                                loading: false\n                            };\n                        }\n                        // For specific tender details\n                        if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                            const tenderId = endpoint.split('/')[2];\n                            const allTenders = getMockTenders();\n                            const tender = allTenders.find({\n                                \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                            }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                            if (tender) {\n                                setLoading(false);\n                                return {\n                                    data: tender,\n                                    error: null,\n                                    loading: false\n                                };\n                            }\n                        }\n                    }\n                    throw new Error(`API error: ${response.status} ${response.statusText}`);\n                }\n                // Check content type to ensure we're getting JSON\n                const contentType = response.headers.get('content-type');\n                if (!contentType || !contentType.includes('application/json')) {\n                    console.error('API returned non-JSON content type:', contentType);\n                    try {\n                        // Try to see what was returned\n                        const text = await response.text();\n                        console.log('API response text:', text.substring(0, 200) + '...');\n                        // Show more detailed error in development\n                        if (true) {\n                            console.log('Development environment detected, showing detailed error');\n                            // Check if it's an HTML response (typically 404/500 error pages)\n                            if (text.includes('<!DOCTYPE html>')) {\n                                console.error('API returned an HTML page instead of JSON data');\n                                // In development, we'll use mock data instead\n                                console.log('Switching to mock data due to HTML response');\n                                if (!useMockData) {\n                                    setUseMockData(true);\n                                }\n                                // Return mock data\n                                if (endpoint.includes('/tenders') && !endpoint.includes('/bids')) {\n                                    // For tender endpoints, return mock tenders\n                                    return {\n                                        data: getMockTenders(),\n                                        error: null,\n                                        loading: false\n                                    };\n                                } else if (endpoint.includes('/bids')) {\n                                    // For bid endpoints, return mock bids\n                                    return {\n                                        data: getMockBids(endpoint.split('/')[2]),\n                                        error: null,\n                                        loading: false\n                                    };\n                                }\n                            }\n                        }\n                        throw new Error('Response is not JSON. API returned: ' + contentType);\n                    } catch (textError) {\n                        throw new Error(`Failed to parse response: ${textError}`);\n                    }\n                }\n                // Parse JSON response\n                const data = await response.json();\n                // API response with proper structure\n                console.log(`API response from ${endpoint}:`, {\n                    status: response.status,\n                    ok: response.ok,\n                    data: data\n                });\n                return {\n                    data,\n                    error: null,\n                    loading: false\n                };\n            } catch (error) {\n                let errorMessage = error.message || 'Unknown error';\n                // Network errors (like CORS, connection refused, etc.)\n                if (error instanceof TypeError && error.message.includes('fetch')) {\n                    errorMessage = `Network error: ${error.message}`;\n                    console.error(`Network error for ${endpoint}:`, error);\n                } else if (error instanceof RequestTimeoutError) {\n                    errorMessage = `Request timed out after ${API_TIMEOUT}ms`;\n                    console.error(`Timeout for ${endpoint}:`, error);\n                } else {\n                    console.error(`API error for ${endpoint}:`, error);\n                }\n                // Retry logic for certain errors (not 4xx client errors)\n                if (retry < MAX_RETRIES && !errorMessage.includes('API error: 4')) {\n                    console.log(`Retrying request to ${endpoint} (attempt ${retry + 1}/${MAX_RETRIES})`);\n                    return handleRequest(endpoint, options, retry + 1);\n                }\n                // Return mock data in development mode if API fails\n                if (true) {\n                    console.log(`Using mock data for ${endpoint} due to API error`);\n                    // Toggle mock data mode if not already on\n                    if (!useMockData) {\n                        setUseMockData(true);\n                    }\n                    // Return appropriate mock data based on the endpoint\n                    if (endpoint === '/tenders') {\n                        setLoading(false);\n                        return {\n                            data: getMockTenders(),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    if (endpoint.includes('/tenders/') && endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        console.log(`Getting mock bids for tender (error case): ${tenderId}`);\n                        setLoading(false);\n                        return {\n                            data: getMockBids(tenderId),\n                            error: null,\n                            loading: false\n                        };\n                    }\n                    // For specific tender details\n                    if (endpoint.startsWith('/tenders/') && !endpoint.includes('/bids')) {\n                        const tenderId = endpoint.split('/')[2];\n                        const allTenders = getMockTenders();\n                        const tender = allTenders.find({\n                            \"useTenderAPI.useCallback[handleRequest].tender\": (t)=>t.id === tenderId\n                        }[\"useTenderAPI.useCallback[handleRequest].tender\"]);\n                        if (tender) {\n                            setLoading(false);\n                            return {\n                                data: tender,\n                                error: null,\n                                loading: false\n                            };\n                        }\n                    }\n                }\n                setError(errorMessage);\n                return {\n                    data: null,\n                    error: errorMessage,\n                    loading: false\n                };\n            } finally{\n                setLoading(false);\n            }\n        }\n    }[\"useTenderAPI.useCallback[handleRequest]\"], [\n        API_BASE_URL,\n        useMockData\n    ]);\n    // Define other API methods with useCallback\n    const getTenders = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getTenders]\": async ()=>{\n            return handleRequest('/tenders');\n        }\n    }[\"useTenderAPI.useCallback[getTenders]\"], [\n        handleRequest\n    ]);\n    const getTenderById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getTenderById]\": async (id)=>{\n            // Check cache\n            const now = Date.now();\n            const cacheKey = `/tenders/${id}`;\n            const cachedData = cache.get(cacheKey);\n            // If data exists in cache and isn't stale, return it\n            if (cachedData && now - cachedData.timestamp < CACHE_TTL) {\n                console.log('Using cached data for tender:', id);\n                return {\n                    data: cachedData.data,\n                    error: null,\n                    loading: false\n                };\n            }\n            const result = await handleRequest(`/tenders/${id}`);\n            // Save successful result to cache\n            if (result.data) {\n                cache.set(cacheKey, {\n                    data: result.data,\n                    timestamp: now\n                });\n            }\n            return result;\n        }\n    }[\"useTenderAPI.useCallback[getTenderById]\"], [\n        handleRequest\n    ]);\n    const createTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[createTender]\": async (tenderData)=>{\n            return handleRequest('/tenders', {\n                method: 'POST',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[createTender]\"], [\n        handleRequest\n    ]);\n    const updateTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[updateTender]\": async (id, tenderData)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'PUT',\n                body: JSON.stringify(tenderData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[updateTender]\"], [\n        handleRequest\n    ]);\n    const deleteTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[deleteTender]\": async (id)=>{\n            return handleRequest(`/tenders/${id}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"useTenderAPI.useCallback[deleteTender]\"], [\n        handleRequest\n    ]);\n    const getBids = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getBids]\": async (tenderId)=>{\n            console.log(`Getting bids for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return handleRequest(`/tenders/${tenderId}/bids`);\n        }\n    }[\"useTenderAPI.useCallback[getBids]\"], [\n        handleRequest,\n        useMockData\n    ]);\n    const createBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[createBid]\": async (bidData)=>{\n            const { tenderId, ...restData } = bidData;\n            console.log(`Creating bid for tender ${tenderId}:`, restData);\n            return handleRequest(`/tenders/${tenderId}/bids`, {\n                method: 'POST',\n                body: JSON.stringify(restData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[createBid]\"], [\n        handleRequest\n    ]);\n    const updateBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[updateBid]\": async (tenderId, bidId, bidData)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'PUT',\n                body: JSON.stringify(bidData)\n            });\n        }\n    }[\"useTenderAPI.useCallback[updateBid]\"], [\n        handleRequest\n    ]);\n    const deleteBid = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[deleteBid]\": async (tenderId, bidId)=>{\n            return handleRequest(`/tenders/${tenderId}/bids/${bidId}`, {\n                method: 'DELETE'\n            });\n        }\n    }[\"useTenderAPI.useCallback[deleteBid]\"], [\n        handleRequest\n    ]);\n    const loginWithWallet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[loginWithWallet]\": async (walletAddress)=>{\n            return handleRequest('/users/login', {\n                method: 'POST',\n                body: JSON.stringify({\n                    walletAddress\n                })\n            });\n        }\n    }[\"useTenderAPI.useCallback[loginWithWallet]\"], [\n        handleRequest\n    ]);\n    const getCurrentUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getCurrentUser]\": async ()=>{\n            return handleRequest('/users/me');\n        }\n    }[\"useTenderAPI.useCallback[getCurrentUser]\"], [\n        handleRequest\n    ]);\n    // Add getBidsForTender function which is an alias for getBids\n    const getBidsForTender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[getBidsForTender]\": async (tenderId)=>{\n            console.log(`getBidsForTender called for tender: ${tenderId}, mock mode: ${useMockData}`);\n            return getBids(tenderId);\n        }\n    }[\"useTenderAPI.useCallback[getBidsForTender]\"], [\n        getBids,\n        useMockData\n    ]);\n    // For testing and debugging\n    const toggleMockData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useTenderAPI.useCallback[toggleMockData]\": ()=>{\n            setUseMockData({\n                \"useTenderAPI.useCallback[toggleMockData]\": (prev)=>{\n                    console.log(`Toggling mock data mode from ${prev} to ${!prev}`);\n                    // Reset error state when switching modes\n                    setError(null);\n                    return !prev;\n                }\n            }[\"useTenderAPI.useCallback[toggleMockData]\"]);\n        }\n    }[\"useTenderAPI.useCallback[toggleMockData]\"], []);\n    // Create the API instance if it doesn't already exist\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useTenderAPI.useMemo\": ()=>{\n            // If we already have an instance in this component, use it\n            if (instanceRef.current) {\n                return;\n            }\n            // If we have a global singleton, use that\n            if (SINGLETON_INSTANCE) {\n                instanceRef.current = SINGLETON_INSTANCE;\n                console.log('Using existing TenderAPI singleton instance');\n                return;\n            }\n            // Create a new instance with all the methods and state\n            const instance = {\n                loading,\n                error,\n                useMockData,\n                toggleMockData,\n                getTenders,\n                getTenderById,\n                createTender,\n                updateTender,\n                deleteTender,\n                getBids,\n                getBidsForTender,\n                createBid,\n                updateBid,\n                deleteBid,\n                loginWithWallet,\n                getCurrentUser\n            };\n            // Store it locally and globally\n            instanceRef.current = instance;\n            SINGLETON_INSTANCE = instance;\n            console.log('Created new TenderAPI singleton instance');\n        }\n    }[\"useTenderAPI.useMemo\"], [\n        loading,\n        error,\n        useMockData,\n        toggleMockData,\n        getTenders,\n        getTenderById,\n        createTender,\n        updateTender,\n        deleteTender,\n        getBids,\n        getBidsForTender,\n        createBid,\n        updateBid,\n        deleteBid,\n        loginWithWallet,\n        getCurrentUser\n    ]);\n    // Always return the same instance once created\n    return instanceRef.current;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useTenderAPI);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVM7b0JBQ1QsT0FBTyxDQUFDd0Q7Z0JBQ1Y7O1FBQ0Y7bURBQUcsRUFBRTtJQUVMLHNEQUFzRDtJQUN0RDFILDhDQUFPQTtnQ0FBQztZQUNOLDJEQUEyRDtZQUMzRCxJQUFJNkgsWUFBWUcsT0FBTyxFQUFFO2dCQUN2QjtZQUNGO1lBRUEsMENBQTBDO1lBQzFDLElBQUkvSCxvQkFBb0I7Z0JBQ3RCNEgsWUFBWUcsT0FBTyxHQUFHL0g7Z0JBQ3RCc0UsUUFBUUMsR0FBRyxDQUFDO2dCQUNaO1lBQ0Y7WUFFQSx1REFBdUQ7WUFDdkQsTUFBTXlELFdBQThCO2dCQUNsQ2xFO2dCQUNBRTtnQkFDQUk7Z0JBQ0FvRDtnQkFDQXhCO2dCQUNBQztnQkFDQU07Z0JBQ0FNO2dCQUNBQztnQkFDQUM7Z0JBQ0FXO2dCQUNBVjtnQkFDQUc7Z0JBQ0FFO2dCQUNBQztnQkFDQUM7WUFDRjtZQUVBLGdDQUFnQztZQUNoQ0ssWUFBWUcsT0FBTyxHQUFHQztZQUN0QmhJLHFCQUFxQmdJO1lBQ3JCMUQsUUFBUUMsR0FBRyxDQUFDO1FBQ2Q7K0JBQUc7UUFDRFQ7UUFBU0U7UUFBT0k7UUFBYW9EO1FBQzdCeEI7UUFBWUM7UUFBZU07UUFBY007UUFBY0M7UUFDdkRDO1FBQVNXO1FBQWtCVjtRQUFXRztRQUFXRTtRQUNqREM7UUFBaUJDO0tBQ2xCO0lBRUQsK0NBQStDO0lBQy9DLE9BQU9LLFlBQVlHLE9BQU87QUFDNUI7QUFFQSxpRUFBZUosWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZGl5YXJib2xlZ2Vub3YvdGVuZGVyL2Zyb250ZW5kL2hvb2tzL3VzZVRlbmRlckFQSS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIEFwaVJlc3BvbnNlPFQ+IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBsb2FkaW5nOiBib29sZWFuO1xufVxuXG4vLyBGb3J3YXJkIGRlY2xhcmUgdGhlIFRlbmRlckFQSSB0eXBlIGZvciB1c2UgaW4gdGhlIHNpbmdsZXRvblxuaW50ZXJmYWNlIFRlbmRlckFQSUluc3RhbmNlIHtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHVzZU1vY2tEYXRhOiBib29sZWFuO1xuICB0b2dnbGVNb2NrRGF0YTogKCkgPT4gdm9pZDtcbiAgZ2V0VGVuZGVyczogKCkgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXJbXT4+O1xuICBnZXRUZW5kZXJCeUlkOiAoaWQ6IHN0cmluZykgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PjtcbiAgY3JlYXRlVGVuZGVyOiAodGVuZGVyRGF0YTogQ3JlYXRlVGVuZGVyRGF0YSkgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PjtcbiAgdXBkYXRlVGVuZGVyOiAoaWQ6IHN0cmluZywgdGVuZGVyRGF0YTogUGFydGlhbDxUZW5kZXI+KSA9PiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+O1xuICBkZWxldGVUZW5kZXI6IChpZDogc3RyaW5nKSA9PiBQcm9taXNlPEFwaVJlc3BvbnNlPHZvaWQ+PjtcbiAgZ2V0QmlkczogKHRlbmRlcklkOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PjtcbiAgZ2V0Qmlkc0ZvclRlbmRlcjogKHRlbmRlcklkOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PjtcbiAgY3JlYXRlQmlkOiAoYmlkRGF0YTogeyB0ZW5kZXJJZDogc3RyaW5nOyBiaWRkZXI/OiBzdHJpbmc7IGFtb3VudDogbnVtYmVyOyBwcm9wb3NhbDogc3RyaW5nOyB9KSA9PiBQcm9taXNlPEFwaVJlc3BvbnNlPEJpZD4+O1xuICB1cGRhdGVCaWQ6ICh0ZW5kZXJJZDogc3RyaW5nLCBiaWRJZDogc3RyaW5nLCBiaWREYXRhOiBQYXJ0aWFsPEJpZD4pID0+IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkPj47XG4gIGRlbGV0ZUJpZDogKHRlbmRlcklkOiBzdHJpbmcsIGJpZElkOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+O1xuICBsb2dpbldpdGhXYWxsZXQ6ICh3YWxsZXRBZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+O1xuICBnZXRDdXJyZW50VXNlcjogKCkgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxVc2VyPj47XG59XG5cbi8vIFRoZSBzaGFyZWQgc2luZ2xldG9uIGluc3RhbmNlXG5sZXQgU0lOR0xFVE9OX0lOU1RBTkNFOiBUZW5kZXJBUElJbnN0YW5jZSB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmcgfCBudWxsO1xuICBlbWFpbDogc3RyaW5nIHwgbnVsbDtcbiAgd2FsbGV0QWRkcmVzczogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZW5kZXIge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBidWRnZXQ6IG51bWJlcjtcbiAgZGVhZGxpbmU6IHN0cmluZztcbiAgc3RhdHVzOiAnT1BFTicgfCAnQ0xPU0VEJyB8ICdBV0FSREVEJyB8ICdDT01QTEVURUQnIHwgJ0NBTkNFTExFRCc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgY3JlYXRvcklkOiBzdHJpbmc7XG4gIGNyZWF0b3I/OiBVc2VyO1xuICBjYXRlZ29yaWVzPzogQ2F0ZWdvcnlbXTtcbiAgYmlkcz86IEJpZFtdO1xuICBkb2N1bWVudHM/OiBEb2N1bWVudFtdO1xuICBfY291bnQ/OiB7XG4gICAgYmlkczogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpZCB7XG4gIGlkOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBwcm9wb3NhbDogc3RyaW5nO1xuICBzdGF0dXM6ICdQRU5ESU5HJyB8ICdBQ0NFUFRFRCcgfCAnUkVKRUNURUQnIHwgJ1dJVEhEUkFXTic7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgdGVuZGVySWQ6IHN0cmluZztcbiAgYmlkZGVySWQ6IHN0cmluZztcbiAgdGVuZGVyPzogVGVuZGVyO1xuICBiaWRkZXI/OiBVc2VyO1xuICBkb2N1bWVudHM/OiBEb2N1bWVudFtdO1xuICB0cmFuc2FjdGlvbkhhc2g/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnQge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIHNpemU6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHRlbmRlcklkPzogc3RyaW5nO1xuICBiaWRJZD86IHN0cmluZztcbiAgdGVuZGVyPzogVGVuZGVyO1xuICBiaWQ/OiBCaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcnkge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdGVuZGVycz86IFRlbmRlcltdO1xufVxuXG5pbnRlcmZhY2UgQ3JlYXRlVGVuZGVyRGF0YSB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGJ1ZGdldDogbnVtYmVyO1xuICBkZWFkbGluZTogc3RyaW5nO1xuICB3YWxsZXRBZGRyZXNzOiBzdHJpbmc7XG4gIGNhdGVnb3JpZXM/OiBzdHJpbmdbXTtcbn1cblxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaSc7XG5cbi8vIEN1c3RvbSBlcnJvciBjbGFzcyBmb3IgcmVxdWVzdCB0aW1lb3V0c1xuY2xhc3MgUmVxdWVzdFRpbWVvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ1JlcXVlc3RUaW1lb3V0RXJyb3InO1xuICB9XG59XG5cbi8vIENvbnN0YW50cyBmb3IgQVBJIHJlcXVlc3RzXG5jb25zdCBBUElfVElNRU9VVCA9IDMwMDAwOyAvLyAzMCBzZWNvbmRzXG5jb25zdCBNQVhfUkVUUklFUyA9IDI7XG5cbi8vINCa0LXRiNC40YDQvtCy0LDQvdC40LUg0YDQtdC30YPQu9GM0YLQsNGC0L7QsiDQt9Cw0L/RgNC+0YHQvtCyXG5jb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IGRhdGE6IGFueSwgdGltZXN0YW1wOiBudW1iZXIgfT4oKTtcbmNvbnN0IENBQ0hFX1RUTCA9IDEwMDAgKiA2MDsgLy8gMSDQvNC40L3Rg9GC0LBcblxuLy8g0JzQvtC6LdC00LDQvdC90YvQtSDQtNC70Y8g0YHQu9GD0YfQsNC10LIsINC60L7Qs9C00LAgQVBJINC90LXQtNC+0YHRgtGD0L/QtdC9XG5jb25zdCBNT0NLX0RBVEEgPSB7XG4gIHRlbmRlcnM6IFtcbiAgICB7XG4gICAgICBpZDogJ21vY2stMScsXG4gICAgICB0aXRsZTogJ9CU0LXQvNC+INGC0LXQvdC00LXRgCAjMSAtIEFQSSDQvdC10LTQvtGB0YLRg9C/0LXQvScsXG4gICAgICBkZXNjcmlwdGlvbjogJ9Cg0LDRgdGB0YLQvtGP0L3QuNC1OiAxMDAwINC60LwsINCS0LXRgTogNTAwINC60LMsINCi0LjQvyDQs9GA0YPQt9CwOiBwZXJpc2hhYmxlLCDQodGA0L7QuiDQtNC+0YHRgtCw0LLQutC4OiAzINC00L3RjycsXG4gICAgICBidWRnZXQ6IDE1MDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgc3RhdHVzOiAnT1BFTicgYXMgY29uc3QsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAyICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDIgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgY3JlYXRvcklkOiAnMScsXG4gICAgICBjcmVhdG9yOiB7XG4gICAgICAgIGlkOiAnMScsXG4gICAgICAgIG5hbWU6ICfQlNC10LzQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70YwnLFxuICAgICAgICBlbWFpbDogJ2RlbW9AZXhhbXBsZS5jb20nLFxuICAgICAgICB3YWxsZXRBZGRyZXNzOiAnMHgxMjM0NTY3ODlhYmNkZWYnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICAgIH0sXG4gICAgICBjYXRlZ29yaWVzOiBbeyBpZDogJzEnLCBuYW1lOiAncGVyaXNoYWJsZScsIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH1dLFxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdtb2NrLTInLFxuICAgICAgdGl0bGU6ICfQlNC10LzQviDRgtC10L3QtNC10YAgIzIgLSBBUEkg0L3QtdC00L7RgdGC0YPQv9C10L0nLFxuICAgICAgZGVzY3JpcHRpb246ICfQoNCw0YHRgdGC0L7Rj9C90LjQtTogNTAwINC60LwsINCS0LXRgTogMTAwMCDQutCzLCDQotC40L8g0LPRgNGD0LfQsDogZ2VuZXJhbCwg0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuDogNSDQtNC90LXQuScsXG4gICAgICBidWRnZXQ6IDIwMDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDEwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ09QRU4nIGFzIGNvbnN0LFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0b3JJZDogJzInLFxuICAgICAgY3JlYXRvcjoge1xuICAgICAgICBpZDogJzInLFxuICAgICAgICBuYW1lOiAn0JTQtdC80L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMIDInLFxuICAgICAgICBlbWFpbDogJ2RlbW8yQGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4OTg3NjU0MzIxZmVkY2JhJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXG4gICAgICB9LFxuICAgICAgY2F0ZWdvcmllczogW3sgaWQ6ICcyJywgbmFtZTogJ2dlbmVyYWwnLCBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9XSxcbiAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDQ4ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICB9XG4gIF0sXG4gIGJpZHM6IFtcbiAgICB7XG4gICAgICBpZDogJ21vY2stYmlkLTEnLFxuICAgICAgYW1vdW50OiAxNDAwLFxuICAgICAgcHJvcG9zYWw6ICfQlNC10LzQviDQt9Cw0Y/QstC60LAg0L3QsCDRgtC10L3QtNC10YAgIzEnLFxuICAgICAgc3RhdHVzOiAnUEVORElORycgYXMgY29uc3QsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgdGVuZGVySWQ6ICdtb2NrLTEnLFxuICAgICAgYmlkZGVySWQ6ICczJyxcbiAgICAgIGJpZGRlcjoge1xuICAgICAgICBpZDogJzMnLFxuICAgICAgICBuYW1lOiAn0JTQtdC80L4g0YPRh9Cw0YHRgtC90LjQuicsXG4gICAgICAgIGVtYWlsOiAnYmlkZGVyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4YWJjZGVmMTIzNDU2Nzg5JyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgfVxuICBdXG59O1xuXG4vLyDQmNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LvQuCDQvNC+0Lot0LTQsNC90L3Ri9C1INC/0YDQuCDQvtGI0LjQsdC60LDRhSBBUElcbmNvbnN0IFVTRV9NT0NLX0RBVEFfT05fRVJST1IgPSB0cnVlO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgZmV0Y2ggcmVxdWVzdCB3aXRoIHRpbWVvdXRcbmNvbnN0IGZldGNoV2l0aFRpbWVvdXQgPSBhc3luYyAodXJsOiBzdHJpbmcsIGZldGNoT3B0aW9uczogUmVxdWVzdEluaXQsIHRpbWVvdXRNczogbnVtYmVyID0gMzAwMDApOiBQcm9taXNlPFJlc3BvbnNlPiA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuICBcbiAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcbiAgXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgb24gdGltZW91dFxuICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+IHtcbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCdSZXF1ZXN0IHRpbWVvdXQnKTtcbiAgICAgICAgcmVqZWN0KG5ldyBSZXF1ZXN0VGltZW91dEVycm9yKGBSZXF1ZXN0IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXRNc31tc2ApKTtcbiAgICAgIH0sIHRpbWVvdXRNcyk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gV3JhcHBpbmcgdGhlIGZldGNoIGluIGEgdHJ5L2NhdGNoIHRvIGhhbmRsZSBuZXR3b3JrIGVycm9yc1xuICAgIGNvbnN0IGZldGNoUHJvbWlzZSA9IGZldGNoKHVybCwge1xuICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgICAgc2lnbmFsXG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmFjZSB0aGUgZmV0Y2ggYWdhaW5zdCB0aGUgdGltZW91dFxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJhY2UoW2ZldGNoUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgfSBmaW5hbGx5IHtcbiAgICAvLyBBbHdheXMgY2xlYW4gdXAgdGhlIHRpbWVvdXQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICBpZiAodGltZW91dElkKSBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBtb2NrIHRlbmRlcnMgZm9yIGRldmVsb3BtZW50IGFuZCB0ZXN0aW5nXG5jb25zdCBnZXRNb2NrVGVuZGVycyA9ICgpOiBUZW5kZXJbXSA9PiB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6ICdtb2NrLXRlbmRlci0xJyxcbiAgICAgIHRpdGxlOiAnVHJhbnNwb3J0IFJlZnJpZ2VyYXRlZCBHb29kcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ05lZWQgdGVtcGVyYXR1cmUtY29udHJvbGxlZCB0cmFuc3BvcnRhdGlvbiBmb3IgcGVyaXNoYWJsZSBpdGVtcyBmcm9tIHdhcmVob3VzZSB0byBkaXN0cmlidXRpb24gY2VudGVycy4nLFxuICAgICAgYnVkZ2V0OiAzMDAwLFxuICAgICAgZGVhZGxpbmU6IG5ldyBEYXRlKERhdGUubm93KCkgKyA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ09QRU4nLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMyAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0b3JJZDogJ21vY2stdXNlci0xJyxcbiAgICAgIGNyZWF0b3I6IHtcbiAgICAgICAgaWQ6ICdtb2NrLXVzZXItMScsXG4gICAgICAgIG5hbWU6ICdTdXBwbHkgQ2hhaW4gQ29ycCcsXG4gICAgICAgIGVtYWlsOiAnc3VwcGx5QGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4ZjM5RmQ2ZTUxYWFkODhGNkY0Y2U2YUI4ODI3Mjc5Y2ZmRmI5MjI2NicsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIGNhdGVnb3JpZXM6IFtcbiAgICAgICAgeyBpZDogJ2NhdC0xJywgbmFtZTogJ1RyYW5zcG9ydGF0aW9uJywgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gOTAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpIH0sXG4gICAgICAgIHsgaWQ6ICdjYXQtMicsIG5hbWU6ICdDb2xkIENoYWluJywgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gOTAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpIH1cbiAgICAgIF0sXG4gICAgICBiaWRzOiBbXVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdtb2NrLXRlbmRlci0yJyxcbiAgICAgIHRpdGxlOiAnTGFzdCBNaWxlIERlbGl2ZXJ5IFBhcnRuZXJzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2Vla2luZyBsb2NhbCBkZWxpdmVyeSBwYXJ0bmVycyBmb3IgbGFzdC1taWxlIGRlbGl2ZXJ5IGluIHVyYmFuIGFyZWFzLicsXG4gICAgICBidWRnZXQ6IDUwMDAsXG4gICAgICBkZWFkbGluZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDE0ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXR1czogJ09QRU4nLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGNyZWF0b3JJZDogJ21vY2stdXNlci0yJyxcbiAgICAgIGNyZWF0b3I6IHtcbiAgICAgICAgaWQ6ICdtb2NrLXVzZXItMicsXG4gICAgICAgIG5hbWU6ICdFLUNvbW1lcmNlIFNvbHV0aW9ucycsXG4gICAgICAgIGVtYWlsOiAnZWNvbW1lcmNlQGV4YW1wbGUuY29tJyxcbiAgICAgICAgd2FsbGV0QWRkcmVzczogJzB4NzA5OTc5NzBDNTE4MTJkYzNBMDEwQzdkMDFiNTBlMGQxN2RjNzlDOCcsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDYwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIGNhdGVnb3JpZXM6IFtcbiAgICAgICAgeyBpZDogJ2NhdC0xJywgbmFtZTogJ1RyYW5zcG9ydGF0aW9uJywgY3JlYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gOTAgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpIH0sXG4gICAgICAgIHsgaWQ6ICdjYXQtMycsIG5hbWU6ICdVcmJhbiBEZWxpdmVyeScsIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDkwICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSB9XG4gICAgICBdLFxuICAgICAgYmlkczogW11cbiAgICB9XG4gIF07XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IG1vY2sgYmlkcyBmb3IgZGV2ZWxvcG1lbnQgYW5kIHRlc3RpbmdcbmNvbnN0IGdldE1vY2tCaWRzID0gKHRlbmRlcklkOiBzdHJpbmcpOiBCaWRbXSA9PiB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6IGBtb2NrLWJpZC0xLSR7dGVuZGVySWR9YCxcbiAgICAgIGFtb3VudDogMjgwMCxcbiAgICAgIHByb3Bvc2FsOiBcIldlIG9mZmVyIHNhbWUtZGF5IHRlbXBlcmF0dXJlLWNvbnRyb2xsZWQgZGVsaXZlcnkgd2l0aCByZWFsLXRpbWUgdHJhY2tpbmcuXCIsXG4gICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDIgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMiAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB0ZW5kZXJJZDogdGVuZGVySWQsXG4gICAgICBiaWRkZXJJZDogJ21vY2stYmlkZGVyLTEnLFxuICAgICAgYmlkZGVyOiB7XG4gICAgICAgIGlkOiAnbW9jay1iaWRkZXItMScsXG4gICAgICAgIG5hbWU6ICdDb2xkIFRyYW5zcG9ydCBJbmMnLFxuICAgICAgICBlbWFpbDogJ3RyYW5zcG9ydEBleGFtcGxlLmNvbScsXG4gICAgICAgIHdhbGxldEFkZHJlc3M6ICcweDNDNDRDZERkQjZhOTAwZmEyYjU4NWRkMjk5ZTAzZDEyRkE0MjkzQkMnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA0NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBgbW9jay1iaWQtMi0ke3RlbmRlcklkfWAsXG4gICAgICBhbW91bnQ6IDMxMDAsXG4gICAgICBwcm9wb3NhbDogXCJPdXIgZmxlZXQgb2YgcmVmcmlnZXJhdGVkIHRydWNrcyBlbnN1cmVzIHlvdXIgZ29vZHMgYXJyaXZlIGluIHBlcmZlY3QgY29uZGl0aW9uLlwiLFxuICAgICAgc3RhdHVzOiAnUEVORElORycsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgdGVuZGVySWQ6IHRlbmRlcklkLFxuICAgICAgYmlkZGVySWQ6ICdtb2NrLWJpZGRlci0yJyxcbiAgICAgIGJpZGRlcjoge1xuICAgICAgICBpZDogJ21vY2stYmlkZGVyLTInLFxuICAgICAgICBuYW1lOiAnUHJlbWl1bSBMb2dpc3RpY3MnLFxuICAgICAgICBlbWFpbDogJ2xvZ2lzdGljc0BleGFtcGxlLmNvbScsXG4gICAgICAgIHdhbGxldEFkZHJlc3M6ICcweDkwRjc5YmY2RUIyYzRmODcwMzY1RTc4NTk4MkUxZjEwMUU5M2I5MDYnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzNSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICAgIH1cbiAgICB9XG4gIF07XG59O1xuXG4vLyBNYWluIEFQSSBpbXBsZW1lbnRhdGlvbiBhcyBhIGZhY3RvcnkgZnVuY3Rpb25cbmNvbnN0IGNyZWF0ZVRlbmRlckFQSSA9ICgpOiBUZW5kZXJBUElJbnN0YW5jZSA9PiB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdXNlTW9ja0RhdGFGcm9tRW52ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX01PQ0tfREFUQSA9PT0gJ3RydWUnO1xuICBjb25zdCBbdXNlTW9ja0RhdGEsIHNldFVzZU1vY2tEYXRhXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHVzZU1vY2tEYXRhRnJvbUVudik7XG4gIFxuICAvLyBMb2cgaW5pdGlhbCBzdGF0ZVxuICBjb25zb2xlLmxvZyhgVGVuZGVyQVBJIGluc3RhbmNlIGNyZWF0ZWQgd2l0aCBtb2NrIGRhdGEgJHt1c2VNb2NrRGF0YSA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9IChlbnY6ICR7dXNlTW9ja0RhdGFGcm9tRW52fSlgKTtcblxuICBjb25zdCBoYW5kbGVSZXF1ZXN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgPFQ+KFxuICAgIGVuZHBvaW50OiBzdHJpbmcsXG4gICAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fSxcbiAgICByZXRyeTogbnVtYmVyID0gMFxuICApOiBQcm9taXNlPEFwaVJlc3BvbnNlPFQ+PiA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICAvLyBFYXJseSByZXR1cm4gZm9yIG1vY2sgZGF0YSBpZiBlbmFibGVkXG4gICAgaWYgKHVzZU1vY2tEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhgVXNpbmcgbW9jayBkYXRhIGZvciAke2VuZHBvaW50fSAobW9jayBtb2RlIGVuYWJsZWQpYCk7XG4gICAgICBcbiAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja1RlbmRlcnMoKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgfSBcbiAgICAgIFxuICAgICAgaWYgKGVuZHBvaW50LmluY2x1ZGVzKCcvdGVuZGVycy8nKSAmJiBlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgIGNvbnNvbGUubG9nKGBHZXR0aW5nIG1vY2sgYmlkcyBmb3IgdGVuZGVyOiAke3RlbmRlcklkfWApO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgaWYgKGVuZHBvaW50LnN0YXJ0c1dpdGgoJy90ZW5kZXJzLycpICYmICFlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICBjb25zdCB0ZW5kZXIgPSBhbGxUZW5kZXJzLmZpbmQodCA9PiB0LmlkID09PSB0ZW5kZXJJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYE1ha2luZyBBUEkgcmVxdWVzdCB0byAke2VuZHBvaW50fTpgLCBvcHRpb25zKTtcblxuICAgICAgLy8gQWRkIGRlZmF1bHQgaGVhZGVycyBmb3IgSlNPTiByZXF1ZXN0c1xuICAgICAgY29uc3QgZmV0Y2hPcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gRmV0Y2ggd2l0aCB0aW1lb3V0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aFRpbWVvdXQoXG4gICAgICAgIGAke0FQSV9CQVNFX1VSTH0ke2VuZHBvaW50fWAsXG4gICAgICAgIGZldGNoT3B0aW9ucyxcbiAgICAgICAgQVBJX1RJTUVPVVRcbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGlzIE9LXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIC8vIEhhbmRsZSA0MDQgZXJyb3JzIGRpZmZlcmVudGx5IC0gdGhleSdyZSBleHBlY3RlZCBzb21ldGltZXNcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFJlc291cmNlIG5vdCBmb3VuZCBhdCAke2VuZHBvaW50fS4gVGhpcyBtaWdodCBiZSBleHBlY3RlZC5gKTtcbiAgICAgICAgICAvLyBSZXR1cm4gZW1wdHkgZGF0YSByYXRoZXIgdGhhbiB0cmVhdGluZyBhcyBlcnJvciBmb3IgNDA0XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSA1MDAgZXJyb3JzIGJ5IHVzaW5nIG1vY2sgZGF0YVxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA1MDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2VydmVyIGVycm9yICg1MDApIGZvciAke2VuZHBvaW50fS4gRmFsbGluZyBiYWNrIHRvIG1vY2sgZGF0YS5gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTd2l0Y2ggdG8gbW9jayBkYXRhIG1vZGUgaWYgbm90IGFscmVhZHkgZW5hYmxlZFxuICAgICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICAgIHNldFVzZU1vY2tEYXRhKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXR1cm4gYXBwcm9wcmlhdGUgbW9jayBkYXRhIGJhc2VkIG9uIHRoZSBlbmRwb2ludFxuICAgICAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrVGVuZGVycygpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfSBcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzLycpICYmIGVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlciAoNTAwIGVycm9yKTogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB0ZW5kZXIgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyYWwgZXJyb3IgZmFsbGJhY2sgLSB1c2UgbW9jayBkYXRhIGluIGRldmVsb3BtZW50IG9yIGlmIG1vY2sgbW9kZSBpcyBlbmFibGVkXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyB8fCB1c2VNb2NrRGF0YSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBIVFRQIEVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pIGZvciAke2VuZHBvaW50fS4gVXNpbmcgbW9jayBkYXRhIGFzIGZhbGxiYWNrLmApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN3aXRjaCB0byBtb2NrIGRhdGEgbW9kZSBpZiBub3QgYWxyZWFkeSBlbmFibGVkXG4gICAgICAgICAgaWYgKCF1c2VNb2NrRGF0YSkge1xuICAgICAgICAgICAgc2V0VXNlTW9ja0RhdGEodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJldHVybiBhcHByb3ByaWF0ZSBtb2NrIGRhdGEgYmFzZWQgb24gdGhlIGVuZHBvaW50XG4gICAgICAgICAgaWYgKGVuZHBvaW50ID09PSAnL3RlbmRlcnMnKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICB9IFxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL3RlbmRlcnMvJykgJiYgZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBHZXR0aW5nIG1vY2sgYmlkcyBmb3IgdGVuZGVyIChIVFRQIGVycm9yKTogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB0ZW5kZXIgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBjb250ZW50IHR5cGUgdG8gZW5zdXJlIHdlJ3JlIGdldHRpbmcgSlNPTlxuICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICBpZiAoIWNvbnRlbnRUeXBlIHx8ICFjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSByZXR1cm5lZCBub24tSlNPTiBjb250ZW50IHR5cGU6JywgY29udGVudFR5cGUpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUcnkgdG8gc2VlIHdoYXQgd2FzIHJldHVybmVkXG4gICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQVBJIHJlc3BvbnNlIHRleHQ6JywgdGV4dC5zdWJzdHJpbmcoMCwgMjAwKSArICcuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaG93IG1vcmUgZGV0YWlsZWQgZXJyb3IgaW4gZGV2ZWxvcG1lbnRcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZXZlbG9wbWVudCBlbnZpcm9ubWVudCBkZXRlY3RlZCwgc2hvd2luZyBkZXRhaWxlZCBlcnJvcicpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGFuIEhUTUwgcmVzcG9uc2UgKHR5cGljYWxseSA0MDQvNTAwIGVycm9yIHBhZ2VzKVxuICAgICAgICAgICAgaWYgKHRleHQuaW5jbHVkZXMoJzwhRE9DVFlQRSBodG1sPicpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSByZXR1cm5lZCBhbiBIVE1MIHBhZ2UgaW5zdGVhZCBvZiBKU09OIGRhdGEnKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEluIGRldmVsb3BtZW50LCB3ZSdsbCB1c2UgbW9jayBkYXRhIGluc3RlYWRcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N3aXRjaGluZyB0byBtb2NrIGRhdGEgZHVlIHRvIEhUTUwgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgaWYgKCF1c2VNb2NrRGF0YSkge1xuICAgICAgICAgICAgICAgIHNldFVzZU1vY2tEYXRhKHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZXR1cm4gbW9jayBkYXRhXG4gICAgICAgICAgICAgIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL3RlbmRlcnMnKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgdGVuZGVyIGVuZHBvaW50cywgcmV0dXJuIG1vY2sgdGVuZGVyc1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICAgICAgICAgIC8vIEZvciBiaWQgZW5kcG9pbnRzLCByZXR1cm4gbW9jayBiaWRzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHMoZW5kcG9pbnQuc3BsaXQoJy8nKVsyXSkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc3BvbnNlIGlzIG5vdCBKU09OLiBBUEkgcmV0dXJuZWQ6ICcgKyBjb250ZW50VHlwZSk7XG4gICAgICAgIH0gY2F0Y2ggKHRleHRFcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlOiAke3RleHRFcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQYXJzZSBKU09OIHJlc3BvbnNlXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICAvLyBBUEkgcmVzcG9uc2Ugd2l0aCBwcm9wZXIgc3RydWN0dXJlXG4gICAgICBjb25zb2xlLmxvZyhgQVBJIHJlc3BvbnNlIGZyb20gJHtlbmRwb2ludH06YCwgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cywgb2s6IHJlc3BvbnNlLm9rLCBkYXRhOiBkYXRhIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcic7XG4gICAgICBcbiAgICAgIC8vIE5ldHdvcmsgZXJyb3JzIChsaWtlIENPUlMsIGNvbm5lY3Rpb24gcmVmdXNlZCwgZXRjLilcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCcpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBOZXR3b3JrIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgY29uc29sZS5lcnJvcihgTmV0d29yayBlcnJvciBmb3IgJHtlbmRwb2ludH06YCwgZXJyb3IpO1xuICAgICAgfSBcbiAgICAgIC8vIFRpbWVvdXQgZXJyb3JzXG4gICAgICBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlcXVlc3RUaW1lb3V0RXJyb3IpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYFJlcXVlc3QgdGltZWQgb3V0IGFmdGVyICR7QVBJX1RJTUVPVVR9bXNgO1xuICAgICAgICBjb25zb2xlLmVycm9yKGBUaW1lb3V0IGZvciAke2VuZHBvaW50fTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgICAvLyBPdGhlciBlcnJvcnNcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBBUEkgZXJyb3IgZm9yICR7ZW5kcG9pbnR9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0cnkgbG9naWMgZm9yIGNlcnRhaW4gZXJyb3JzIChub3QgNHh4IGNsaWVudCBlcnJvcnMpXG4gICAgICBpZiAocmV0cnkgPCBNQVhfUkVUUklFUyAmJiAhZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdBUEkgZXJyb3I6IDQnKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgUmV0cnlpbmcgcmVxdWVzdCB0byAke2VuZHBvaW50fSAoYXR0ZW1wdCAke3JldHJ5ICsgMX0vJHtNQVhfUkVUUklFU30pYCk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFQ+KGVuZHBvaW50LCBvcHRpb25zLCByZXRyeSArIDEpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXR1cm4gbW9jayBkYXRhIGluIGRldmVsb3BtZW50IG1vZGUgaWYgQVBJIGZhaWxzXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFVzaW5nIG1vY2sgZGF0YSBmb3IgJHtlbmRwb2ludH0gZHVlIHRvIEFQSSBlcnJvcmApO1xuICAgICAgICBcbiAgICAgICAgLy8gVG9nZ2xlIG1vY2sgZGF0YSBtb2RlIGlmIG5vdCBhbHJlYWR5IG9uXG4gICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICBzZXRVc2VNb2NrRGF0YSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmV0dXJuIGFwcHJvcHJpYXRlIG1vY2sgZGF0YSBiYXNlZCBvbiB0aGUgZW5kcG9pbnRcbiAgICAgICAgaWYgKGVuZHBvaW50ID09PSAnL3RlbmRlcnMnKSB7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja1RlbmRlcnMoKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzLycpICYmIGVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBHZXR0aW5nIG1vY2sgYmlkcyBmb3IgdGVuZGVyIChlcnJvciBjYXNlKTogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrQmlkcyh0ZW5kZXJJZCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRm9yIHNwZWNpZmljIHRlbmRlciBkZXRhaWxzXG4gICAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgY29uc3QgYWxsVGVuZGVycyA9IGdldE1vY2tUZW5kZXJzKCk7XG4gICAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh0ZW5kZXIpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogZXJyb3JNZXNzYWdlLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtBUElfQkFTRV9VUkwsIHVzZU1vY2tEYXRhXSk7XG5cbiAgY29uc3QgZ2V0VGVuZGVycyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcltdPj4gPT4ge1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFRlbmRlcltdPignL3RlbmRlcnMnKTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBnZXRUZW5kZXJCeUlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICAvLyBDaGVjayBjYWNoZVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgL3RlbmRlcnMvJHtpZH1gO1xuICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIFxuICAgIC8vIElmIGRhdGEgZXhpc3RzIGluIGNhY2hlIGFuZCBpc24ndCBzdGFsZSwgcmV0dXJuIGl0XG4gICAgaWYgKGNhY2hlZERhdGEgJiYgbm93IC0gY2FjaGVkRGF0YS50aW1lc3RhbXAgPCBDQUNIRV9UVEwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBjYWNoZWQgZGF0YSBmb3IgdGVuZGVyOicsIGlkKTtcbiAgICAgIHJldHVybiB7IGRhdGE6IGNhY2hlZERhdGEuZGF0YSwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3Q8VGVuZGVyPihgL3RlbmRlcnMvJHtpZH1gKTtcbiAgICBcbiAgICAvLyBTYXZlIHN1Y2Nlc3NmdWwgcmVzdWx0IHRvIGNhY2hlXG4gICAgaWYgKHJlc3VsdC5kYXRhKSB7XG4gICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIHsgZGF0YTogcmVzdWx0LmRhdGEsIHRpbWVzdGFtcDogbm93IH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGNyZWF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh0ZW5kZXJEYXRhOiBDcmVhdGVUZW5kZXJEYXRhKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8VGVuZGVyPignL3RlbmRlcnMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRlbmRlckRhdGEpLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IHVwZGF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jIChpZDogc3RyaW5nLCB0ZW5kZXJEYXRhOiBQYXJ0aWFsPFRlbmRlcj4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUZW5kZXI+KGAvdGVuZGVycy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZW5kZXJEYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGdldEJpZHMgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYEdldHRpbmcgYmlkcyBmb3IgdGVuZGVyOiAke3RlbmRlcklkfSwgbW9jayBtb2RlOiAke3VzZU1vY2tEYXRhfWApO1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZFtdPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkc2ApO1xuICB9LCBbaGFuZGxlUmVxdWVzdCwgdXNlTW9ja0RhdGFdKTtcblxuICBjb25zdCBjcmVhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAoYmlkRGF0YToge1xuICAgIHRlbmRlcklkOiBzdHJpbmc7XG4gICAgYmlkZGVyPzogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIHByb3Bvc2FsOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPEJpZD4+ID0+IHtcbiAgICBjb25zdCB7IHRlbmRlcklkLCAuLi5yZXN0RGF0YSB9ID0gYmlkRGF0YTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgYmlkIGZvciB0ZW5kZXIgJHt0ZW5kZXJJZH06YCwgcmVzdERhdGEpO1xuICAgIFxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZD4oYC90ZW5kZXJzLyR7dGVuZGVySWR9L2JpZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlc3REYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCB1cGRhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZywgYmlkRGF0YTogUGFydGlhbDxCaWQ+KTogUHJvbWlzZTxBcGlSZXNwb25zZTxCaWQ+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8QmlkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShiaWREYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgbG9naW5XaXRoV2FsbGV0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHdhbGxldEFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxVc2VyPignL3VzZXJzL2xvZ2luJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHdhbGxldEFkZHJlc3MgfSksXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxVc2VyPj4gPT4ge1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFVzZXI+KCcvdXNlcnMvbWUnKTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICAvLyDQlNC70Y8g0YLQtdGB0YLQuNGA0L7QstCw0L3QuNGPINC4INC+0YLQu9Cw0LTQutC4XG4gIGNvbnN0IHRvZ2dsZU1vY2tEYXRhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFVzZU1vY2tEYXRhKHByZXYgPT4ge1xuICAgICAgY29uc29sZS5sb2coYFRvZ2dsaW5nIG1vY2sgZGF0YSBtb2RlIGZyb20gJHtwcmV2fSB0byAkeyFwcmV2fWApO1xuICAgICAgLy8gUmVzZXQgZXJyb3Igc3RhdGUgd2hlbiBzd2l0Y2hpbmcgbW9kZXNcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgcmV0dXJuICFwcmV2O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQWRkIGdldEJpZHNGb3JUZW5kZXIgZnVuY3Rpb24gd2hpY2ggaXMgYW4gYWxpYXMgZm9yIGdldEJpZHNcbiAgY29uc3QgZ2V0Qmlkc0ZvclRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh0ZW5kZXJJZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxCaWRbXT4+ID0+IHtcbiAgICBjb25zb2xlLmxvZyhgZ2V0Qmlkc0ZvclRlbmRlciBjYWxsZWQgZm9yIHRlbmRlcjogJHt0ZW5kZXJJZH0sIG1vY2sgbW9kZTogJHt1c2VNb2NrRGF0YX1gKTtcbiAgICByZXR1cm4gZ2V0Qmlkcyh0ZW5kZXJJZCk7XG4gIH0sIFtnZXRCaWRzLCB1c2VNb2NrRGF0YV0pO1xuXG4gIHJldHVybiB7XG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICB1c2VNb2NrRGF0YSxcbiAgICB0b2dnbGVNb2NrRGF0YSxcbiAgICBnZXRUZW5kZXJzLFxuICAgIGdldFRlbmRlckJ5SWQsXG4gICAgY3JlYXRlVGVuZGVyLFxuICAgIHVwZGF0ZVRlbmRlcixcbiAgICBkZWxldGVUZW5kZXIsXG4gICAgZ2V0QmlkcyxcbiAgICBnZXRCaWRzRm9yVGVuZGVyLFxuICAgIGNyZWF0ZUJpZCxcbiAgICB1cGRhdGVCaWQsXG4gICAgZGVsZXRlQmlkLFxuICAgIGxvZ2luV2l0aFdhbGxldCxcbiAgICBnZXRDdXJyZW50VXNlcixcbiAgfTtcbn07XG5cbi8vIFRoZSBob29rIG5vdyByZXR1cm5zIGEgc2luZ2xldG9uIGluc3RhbmNlXG5jb25zdCB1c2VUZW5kZXJBUEkgPSAoKSA9PiB7XG4gIC8vIEFsd2F5cyBjYWxsIGFsbCBob29rcyB1bmNvbmRpdGlvbmFsbHkgYXQgdGhlIHRvcCBsZXZlbFxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHVzZU1vY2tEYXRhRnJvbUVudiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9NT0NLX0RBVEEgPT09ICd0cnVlJztcbiAgY29uc3QgW3VzZU1vY2tEYXRhLCBzZXRVc2VNb2NrRGF0YV0gPSB1c2VTdGF0ZTxib29sZWFuPih1c2VNb2NrRGF0YUZyb21FbnYpO1xuICBcbiAgLy8gSW5pdGlhbGl6ZSByZWZzXG4gIGNvbnN0IGluc3RhbmNlUmVmID0gdXNlUmVmPFRlbmRlckFQSUluc3RhbmNlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGlzSW5pdGlhbGl6ZWRSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuICBcbiAgLy8gTG9nIGluaXRpYWwgc3RhdGUgb25seSBvbmNlXG4gIGNvbnN0IGxvZ0luaXRpYWxTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWRSZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS5sb2coYFRlbmRlckFQSSBob29rIGluaXRpYWxpemVkIHdpdGggbW9jayBkYXRhICR7dXNlTW9ja0RhdGEgPyAnZW5hYmxlZCcgOiAnZGlzYWJsZWQnfSAoZW52OiAke3VzZU1vY2tEYXRhRnJvbUVudn0pYCk7XG4gICAgICBpc0luaXRpYWxpemVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgW3VzZU1vY2tEYXRhLCB1c2VNb2NrRGF0YUZyb21FbnZdKTtcbiAgXG4gIC8vIENhbGwgdGhpcyBpbW1lZGlhdGVseVxuICBsb2dJbml0aWFsU3RhdGUoKTtcblxuICAvLyBEZWZpbmUgdGhlIGhhbmRsZVJlcXVlc3QgZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlUmVxdWVzdCA9IHVzZUNhbGxiYWNrKGFzeW5jIDxUPihcbiAgICBlbmRwb2ludDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30sXG4gICAgcmV0cnk6IG51bWJlciA9IDBcbiAgKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4gPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgXG4gICAgLy8gRWFybHkgcmV0dXJuIGZvciBtb2NrIGRhdGEgaWYgZW5hYmxlZFxuICAgIGlmICh1c2VNb2NrRGF0YSkge1xuICAgICAgY29uc29sZS5sb2coYFVzaW5nIG1vY2sgZGF0YSBmb3IgJHtlbmRwb2ludH0gKG1vY2sgbW9kZSBlbmFibGVkKWApO1xuICAgICAgXG4gICAgICBpZiAoZW5kcG9pbnQgPT09ICcvdGVuZGVycycpIHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgIH0gXG4gICAgICBcbiAgICAgIGlmIChlbmRwb2ludC5pbmNsdWRlcygnL3RlbmRlcnMvJykgJiYgZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlcjogJHt0ZW5kZXJJZH1gKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKHRlbmRlcklkKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGb3Igc3BlY2lmaWMgdGVuZGVyIGRldGFpbHNcbiAgICAgIGlmIChlbmRwb2ludC5zdGFydHNXaXRoKCcvdGVuZGVycy8nKSAmJiAhZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICBjb25zdCBhbGxUZW5kZXJzID0gZ2V0TW9ja1RlbmRlcnMoKTtcbiAgICAgICAgY29uc3QgdGVuZGVyID0gYWxsVGVuZGVycy5maW5kKHQgPT4gdC5pZCA9PT0gdGVuZGVySWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRlbmRlcikge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB7IGRhdGE6IHRlbmRlciBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBNYWtpbmcgQVBJIHJlcXVlc3QgdG8gJHtlbmRwb2ludH06YCwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIEFkZCBkZWZhdWx0IGhlYWRlcnMgZm9yIEpTT04gcmVxdWVzdHNcbiAgICAgIGNvbnN0IGZldGNoT3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIEZldGNoIHdpdGggdGltZW91dFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhUaW1lb3V0KFxuICAgICAgICBgJHtBUElfQkFTRV9VUkx9JHtlbmRwb2ludH1gLFxuICAgICAgICBmZXRjaE9wdGlvbnMsXG4gICAgICAgIEFQSV9USU1FT1VUXG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBPS1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAvLyBIYW5kbGUgNDA0IGVycm9ycyBkaWZmZXJlbnRseSAtIHRoZXkncmUgZXhwZWN0ZWQgc29tZXRpbWVzXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXNvdXJjZSBub3QgZm91bmQgYXQgJHtlbmRwb2ludH0uIFRoaXMgbWlnaHQgYmUgZXhwZWN0ZWQuYCk7XG4gICAgICAgICAgLy8gUmV0dXJuIGVtcHR5IGRhdGEgcmF0aGVyIHRoYW4gdHJlYXRpbmcgYXMgZXJyb3IgZm9yIDQwNFxuICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgNTAwIGVycm9ycyBieSB1c2luZyBtb2NrIGRhdGFcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFNlcnZlciBlcnJvciAoNTAwKSBmb3IgJHtlbmRwb2ludH0uIEZhbGxpbmcgYmFjayB0byBtb2NrIGRhdGEuYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3dpdGNoIHRvIG1vY2sgZGF0YSBtb2RlIGlmIG5vdCBhbHJlYWR5IGVuYWJsZWRcbiAgICAgICAgICBpZiAoIXVzZU1vY2tEYXRhKSB7XG4gICAgICAgICAgICBzZXRVc2VNb2NrRGF0YSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmV0dXJuIGFwcHJvcHJpYXRlIG1vY2sgZGF0YSBiYXNlZCBvbiB0aGUgZW5kcG9pbnRcbiAgICAgICAgICBpZiAoZW5kcG9pbnQgPT09ICcvdGVuZGVycycpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja1RlbmRlcnMoKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH0gXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGVuZHBvaW50LmluY2x1ZGVzKCcvdGVuZGVycy8nKSAmJiBlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEdldHRpbmcgbW9jayBiaWRzIGZvciB0ZW5kZXIgKDUwMCBlcnJvcik6ICR7dGVuZGVySWR9YCk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKHRlbmRlcklkKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGb3Igc3BlY2lmaWMgdGVuZGVyIGRldGFpbHNcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuc3RhcnRzV2l0aCgnL3RlbmRlcnMvJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zdCBhbGxUZW5kZXJzID0gZ2V0TW9ja1RlbmRlcnMoKTtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlciA9IGFsbFRlbmRlcnMuZmluZCh0ID0+IHQuaWQgPT09IHRlbmRlcklkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRlbmRlcikge1xuICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBHZW5lcmFsIGVycm9yIGZhbGxiYWNrIC0gdXNlIG1vY2sgZGF0YSBpbiBkZXZlbG9wbWVudCBvciBpZiBtb2NrIG1vZGUgaXMgZW5hYmxlZFxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgfHwgdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgSFRUUCBFcnJvciAoJHtyZXNwb25zZS5zdGF0dXN9KSBmb3IgJHtlbmRwb2ludH0uIFVzaW5nIG1vY2sgZGF0YSBhcyBmYWxsYmFjay5gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTd2l0Y2ggdG8gbW9jayBkYXRhIG1vZGUgaWYgbm90IGFscmVhZHkgZW5hYmxlZFxuICAgICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICAgIHNldFVzZU1vY2tEYXRhKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXR1cm4gYXBwcm9wcmlhdGUgbW9jayBkYXRhIGJhc2VkIG9uIHRoZSBlbmRwb2ludFxuICAgICAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrVGVuZGVycygpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgfSBcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzLycpICYmIGVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlciAoSFRUUCBlcnJvcik6ICR7dGVuZGVySWR9YCk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKHRlbmRlcklkKSBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGb3Igc3BlY2lmaWMgdGVuZGVyIGRldGFpbHNcbiAgICAgICAgICBpZiAoZW5kcG9pbnQuc3RhcnRzV2l0aCgnL3RlbmRlcnMvJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW5kZXJJZCA9IGVuZHBvaW50LnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICBjb25zdCBhbGxUZW5kZXJzID0gZ2V0TW9ja1RlbmRlcnMoKTtcbiAgICAgICAgICAgIGNvbnN0IHRlbmRlciA9IGFsbFRlbmRlcnMuZmluZCh0ID0+IHQuaWQgPT09IHRlbmRlcklkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRlbmRlcikge1xuICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogdGVuZGVyIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgY29udGVudCB0eXBlIHRvIGVuc3VyZSB3ZSdyZSBnZXR0aW5nIEpTT05cbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgaWYgKCFjb250ZW50VHlwZSB8fCAhY29udGVudFR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgcmV0dXJuZWQgbm9uLUpTT04gY29udGVudCB0eXBlOicsIGNvbnRlbnRUeXBlKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVHJ5IHRvIHNlZSB3aGF0IHdhcyByZXR1cm5lZFxuICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0FQSSByZXNwb25zZSB0ZXh0OicsIHRleHQuc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBtb3JlIGRldGFpbGVkIGVycm9yIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgZGV0ZWN0ZWQsIHNob3dpbmcgZGV0YWlsZWQgZXJyb3InKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBIVE1MIHJlc3BvbnNlICh0eXBpY2FsbHkgNDA0LzUwMCBlcnJvciBwYWdlcylcbiAgICAgICAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKCc8IURPQ1RZUEUgaHRtbD4nKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgcmV0dXJuZWQgYW4gSFRNTCBwYWdlIGluc3RlYWQgb2YgSlNPTiBkYXRhJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UnbGwgdXNlIG1vY2sgZGF0YSBpbnN0ZWFkXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTd2l0Y2hpbmcgdG8gbW9jayBkYXRhIGR1ZSB0byBIVE1MIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgIGlmICghdXNlTW9ja0RhdGEpIHtcbiAgICAgICAgICAgICAgICBzZXRVc2VNb2NrRGF0YSh0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmV0dXJuIG1vY2sgZGF0YVxuICAgICAgICAgICAgICBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy90ZW5kZXJzJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIHRlbmRlciBlbmRwb2ludHMsIHJldHVybiBtb2NrIHRlbmRlcnNcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBnZXRNb2NrVGVuZGVycygpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kcG9pbnQuaW5jbHVkZXMoJy9iaWRzJykpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYmlkIGVuZHBvaW50cywgcmV0dXJuIG1vY2sgYmlkc1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tCaWRzKGVuZHBvaW50LnNwbGl0KCcvJylbMl0pIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNwb25zZSBpcyBub3QgSlNPTi4gQVBJIHJldHVybmVkOiAnICsgY29udGVudFR5cGUpO1xuICAgICAgICB9IGNhdGNoICh0ZXh0RXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSByZXNwb25zZTogJHt0ZXh0RXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUGFyc2UgSlNPTiByZXNwb25zZVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgLy8gQVBJIHJlc3BvbnNlIHdpdGggcHJvcGVyIHN0cnVjdHVyZVxuICAgICAgY29uc29sZS5sb2coYEFQSSByZXNwb25zZSBmcm9tICR7ZW5kcG9pbnR9OmAsIHsgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsIG9rOiByZXNwb25zZS5vaywgZGF0YTogZGF0YSB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgXG4gICAgICAvLyBOZXR3b3JrIGVycm9ycyAobGlrZSBDT1JTLCBjb25uZWN0aW9uIHJlZnVzZWQsIGV0Yy4pXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBgTmV0d29yayBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYE5ldHdvcmsgZXJyb3IgZm9yICR7ZW5kcG9pbnR9OmAsIGVycm9yKTtcbiAgICAgIH0gXG4gICAgICAvLyBUaW1lb3V0IGVycm9yc1xuICAgICAgZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBSZXF1ZXN0VGltZW91dEVycm9yKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBSZXF1ZXN0IHRpbWVkIG91dCBhZnRlciAke0FQSV9USU1FT1VUfW1zYDtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGltZW91dCBmb3IgJHtlbmRwb2ludH06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgICAgLy8gT3RoZXIgZXJyb3JzXG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgQVBJIGVycm9yIGZvciAke2VuZHBvaW50fTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJldHJ5IGxvZ2ljIGZvciBjZXJ0YWluIGVycm9ycyAobm90IDR4eCBjbGllbnQgZXJyb3JzKVxuICAgICAgaWYgKHJldHJ5IDwgTUFYX1JFVFJJRVMgJiYgIWVycm9yTWVzc2FnZS5pbmNsdWRlcygnQVBJIGVycm9yOiA0JykpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFJldHJ5aW5nIHJlcXVlc3QgdG8gJHtlbmRwb2ludH0gKGF0dGVtcHQgJHtyZXRyeSArIDF9LyR7TUFYX1JFVFJJRVN9KWApO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUPihlbmRwb2ludCwgb3B0aW9ucywgcmV0cnkgKyAxKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmV0dXJuIG1vY2sgZGF0YSBpbiBkZXZlbG9wbWVudCBtb2RlIGlmIEFQSSBmYWlsc1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIHx8IHVzZU1vY2tEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBtb2NrIGRhdGEgZm9yICR7ZW5kcG9pbnR9IGR1ZSB0byBBUEkgZXJyb3JgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRvZ2dsZSBtb2NrIGRhdGEgbW9kZSBpZiBub3QgYWxyZWFkeSBvblxuICAgICAgICBpZiAoIXVzZU1vY2tEYXRhKSB7XG4gICAgICAgICAgc2V0VXNlTW9ja0RhdGEodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJldHVybiBhcHByb3ByaWF0ZSBtb2NrIGRhdGEgYmFzZWQgb24gdGhlIGVuZHBvaW50XG4gICAgICAgIGlmIChlbmRwb2ludCA9PT0gJy90ZW5kZXJzJykge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB7IGRhdGE6IGdldE1vY2tUZW5kZXJzKCkgYXMgdW5rbm93biBhcyBULCBlcnJvcjogbnVsbCwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGVuZHBvaW50LmluY2x1ZGVzKCcvdGVuZGVycy8nKSAmJiBlbmRwb2ludC5pbmNsdWRlcygnL2JpZHMnKSkge1xuICAgICAgICAgIGNvbnN0IHRlbmRlcklkID0gZW5kcG9pbnQuc3BsaXQoJy8nKVsyXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBtb2NrIGJpZHMgZm9yIHRlbmRlciAoZXJyb3IgY2FzZSk6ICR7dGVuZGVySWR9YCk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2V0TW9ja0JpZHModGVuZGVySWQpIGFzIHVua25vd24gYXMgVCwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBzcGVjaWZpYyB0ZW5kZXIgZGV0YWlsc1xuICAgICAgICBpZiAoZW5kcG9pbnQuc3RhcnRzV2l0aCgnL3RlbmRlcnMvJykgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYmlkcycpKSB7XG4gICAgICAgICAgY29uc3QgdGVuZGVySWQgPSBlbmRwb2ludC5zcGxpdCgnLycpWzJdO1xuICAgICAgICAgIGNvbnN0IGFsbFRlbmRlcnMgPSBnZXRNb2NrVGVuZGVycygpO1xuICAgICAgICAgIGNvbnN0IHRlbmRlciA9IGFsbFRlbmRlcnMuZmluZCh0ID0+IHQuaWQgPT09IHRlbmRlcklkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodGVuZGVyKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHRlbmRlciBhcyB1bmtub3duIGFzIFQsIGVycm9yOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGVycm9yTWVzc2FnZSwgbG9hZGluZzogZmFsc2UgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbQVBJX0JBU0VfVVJMLCB1c2VNb2NrRGF0YV0pO1xuXG4gIC8vIERlZmluZSBvdGhlciBBUEkgbWV0aG9kcyB3aXRoIHVzZUNhbGxiYWNrXG4gIGNvbnN0IGdldFRlbmRlcnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXJbXT4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUZW5kZXJbXT4oJy90ZW5kZXJzJyk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG4gIFxuICBjb25zdCBnZXRUZW5kZXJCeUlkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICAvLyBDaGVjayBjYWNoZVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgL3RlbmRlcnMvJHtpZH1gO1xuICAgIGNvbnN0IGNhY2hlZERhdGEgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIFxuICAgIC8vIElmIGRhdGEgZXhpc3RzIGluIGNhY2hlIGFuZCBpc24ndCBzdGFsZSwgcmV0dXJuIGl0XG4gICAgaWYgKGNhY2hlZERhdGEgJiYgbm93IC0gY2FjaGVkRGF0YS50aW1lc3RhbXAgPCBDQUNIRV9UVEwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBjYWNoZWQgZGF0YSBmb3IgdGVuZGVyOicsIGlkKTtcbiAgICAgIHJldHVybiB7IGRhdGE6IGNhY2hlZERhdGEuZGF0YSwgZXJyb3I6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZVJlcXVlc3Q8VGVuZGVyPihgL3RlbmRlcnMvJHtpZH1gKTtcbiAgICBcbiAgICAvLyBTYXZlIHN1Y2Nlc3NmdWwgcmVzdWx0IHRvIGNhY2hlXG4gICAgaWYgKHJlc3VsdC5kYXRhKSB7XG4gICAgICBjYWNoZS5zZXQoY2FjaGVLZXksIHsgZGF0YTogcmVzdWx0LmRhdGEsIHRpbWVzdGFtcDogbm93IH0pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGNyZWF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jICh0ZW5kZXJEYXRhOiBDcmVhdGVUZW5kZXJEYXRhKTogUHJvbWlzZTxBcGlSZXNwb25zZTxUZW5kZXI+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8VGVuZGVyPignL3RlbmRlcnMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRlbmRlckRhdGEpLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IHVwZGF0ZVRlbmRlciA9IHVzZUNhbGxiYWNrKGFzeW5jIChpZDogc3RyaW5nLCB0ZW5kZXJEYXRhOiBQYXJ0aWFsPFRlbmRlcj4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPFRlbmRlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxUZW5kZXI+KGAvdGVuZGVycy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZW5kZXJEYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9LCBbaGFuZGxlUmVxdWVzdF0pO1xuXG4gIGNvbnN0IGdldEJpZHMgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYEdldHRpbmcgYmlkcyBmb3IgdGVuZGVyOiAke3RlbmRlcklkfSwgbW9jayBtb2RlOiAke3VzZU1vY2tEYXRhfWApO1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZFtdPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkc2ApO1xuICB9LCBbaGFuZGxlUmVxdWVzdCwgdXNlTW9ja0RhdGFdKTtcblxuICBjb25zdCBjcmVhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAoYmlkRGF0YToge1xuICAgIHRlbmRlcklkOiBzdHJpbmc7XG4gICAgYmlkZGVyPzogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIHByb3Bvc2FsOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPEJpZD4+ID0+IHtcbiAgICBjb25zdCB7IHRlbmRlcklkLCAuLi5yZXN0RGF0YSB9ID0gYmlkRGF0YTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgYmlkIGZvciB0ZW5kZXIgJHt0ZW5kZXJJZH06YCwgcmVzdERhdGEpO1xuICAgIFxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PEJpZD4oYC90ZW5kZXJzLyR7dGVuZGVySWR9L2JpZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlc3REYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCB1cGRhdGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZywgYmlkRGF0YTogUGFydGlhbDxCaWQ+KTogUHJvbWlzZTxBcGlSZXNwb25zZTxCaWQ+PiA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3Q8QmlkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShiaWREYXRhKSxcbiAgICB9KTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcblxuICBjb25zdCBkZWxldGVCaWQgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZywgYmlkSWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8dm9pZD4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDx2b2lkPihgL3RlbmRlcnMvJHt0ZW5kZXJJZH0vYmlkcy8ke2JpZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgbG9naW5XaXRoV2FsbGV0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHdhbGxldEFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8VXNlcj4+ID0+IHtcbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdDxVc2VyPignL3VzZXJzL2xvZ2luJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHdhbGxldEFkZHJlc3MgfSksXG4gICAgfSk7XG4gIH0sIFtoYW5kbGVSZXF1ZXN0XSk7XG5cbiAgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxVc2VyPj4gPT4ge1xuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0PFVzZXI+KCcvdXNlcnMvbWUnKTtcbiAgfSwgW2hhbmRsZVJlcXVlc3RdKTtcbiAgXG4gIC8vIEFkZCBnZXRCaWRzRm9yVGVuZGVyIGZ1bmN0aW9uIHdoaWNoIGlzIGFuIGFsaWFzIGZvciBnZXRCaWRzXG4gIGNvbnN0IGdldEJpZHNGb3JUZW5kZXIgPSB1c2VDYWxsYmFjayhhc3luYyAodGVuZGVySWQ6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8QmlkW10+PiA9PiB7XG4gICAgY29uc29sZS5sb2coYGdldEJpZHNGb3JUZW5kZXIgY2FsbGVkIGZvciB0ZW5kZXI6ICR7dGVuZGVySWR9LCBtb2NrIG1vZGU6ICR7dXNlTW9ja0RhdGF9YCk7XG4gICAgcmV0dXJuIGdldEJpZHModGVuZGVySWQpO1xuICB9LCBbZ2V0QmlkcywgdXNlTW9ja0RhdGFdKTtcblxuICAvLyBGb3IgdGVzdGluZyBhbmQgZGVidWdnaW5nXG4gIGNvbnN0IHRvZ2dsZU1vY2tEYXRhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFVzZU1vY2tEYXRhKHByZXYgPT4ge1xuICAgICAgY29uc29sZS5sb2coYFRvZ2dsaW5nIG1vY2sgZGF0YSBtb2RlIGZyb20gJHtwcmV2fSB0byAkeyFwcmV2fWApO1xuICAgICAgLy8gUmVzZXQgZXJyb3Igc3RhdGUgd2hlbiBzd2l0Y2hpbmcgbW9kZXNcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgcmV0dXJuICFwcmV2O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQ3JlYXRlIHRoZSBBUEkgaW5zdGFuY2UgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0XG4gIHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIElmIHdlIGFscmVhZHkgaGF2ZSBhbiBpbnN0YW5jZSBpbiB0aGlzIGNvbXBvbmVudCwgdXNlIGl0XG4gICAgaWYgKGluc3RhbmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGdsb2JhbCBzaW5nbGV0b24sIHVzZSB0aGF0XG4gICAgaWYgKFNJTkdMRVRPTl9JTlNUQU5DRSkge1xuICAgICAgaW5zdGFuY2VSZWYuY3VycmVudCA9IFNJTkdMRVRPTl9JTlNUQU5DRTtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBleGlzdGluZyBUZW5kZXJBUEkgc2luZ2xldG9uIGluc3RhbmNlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSB3aXRoIGFsbCB0aGUgbWV0aG9kcyBhbmQgc3RhdGVcbiAgICBjb25zdCBpbnN0YW5jZTogVGVuZGVyQVBJSW5zdGFuY2UgPSB7XG4gICAgICBsb2FkaW5nLFxuICAgICAgZXJyb3IsXG4gICAgICB1c2VNb2NrRGF0YSxcbiAgICAgIHRvZ2dsZU1vY2tEYXRhLFxuICAgICAgZ2V0VGVuZGVycyxcbiAgICAgIGdldFRlbmRlckJ5SWQsXG4gICAgICBjcmVhdGVUZW5kZXIsXG4gICAgICB1cGRhdGVUZW5kZXIsXG4gICAgICBkZWxldGVUZW5kZXIsXG4gICAgICBnZXRCaWRzLFxuICAgICAgZ2V0Qmlkc0ZvclRlbmRlcixcbiAgICAgIGNyZWF0ZUJpZCxcbiAgICAgIHVwZGF0ZUJpZCxcbiAgICAgIGRlbGV0ZUJpZCxcbiAgICAgIGxvZ2luV2l0aFdhbGxldCxcbiAgICAgIGdldEN1cnJlbnRVc2VyLFxuICAgIH07XG4gICAgXG4gICAgLy8gU3RvcmUgaXQgbG9jYWxseSBhbmQgZ2xvYmFsbHlcbiAgICBpbnN0YW5jZVJlZi5jdXJyZW50ID0gaW5zdGFuY2U7XG4gICAgU0lOR0xFVE9OX0lOU1RBTkNFID0gaW5zdGFuY2U7XG4gICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgbmV3IFRlbmRlckFQSSBzaW5nbGV0b24gaW5zdGFuY2UnKTtcbiAgfSwgW1xuICAgIGxvYWRpbmcsIGVycm9yLCB1c2VNb2NrRGF0YSwgdG9nZ2xlTW9ja0RhdGEsXG4gICAgZ2V0VGVuZGVycywgZ2V0VGVuZGVyQnlJZCwgY3JlYXRlVGVuZGVyLCB1cGRhdGVUZW5kZXIsIGRlbGV0ZVRlbmRlcixcbiAgICBnZXRCaWRzLCBnZXRCaWRzRm9yVGVuZGVyLCBjcmVhdGVCaWQsIHVwZGF0ZUJpZCwgZGVsZXRlQmlkLFxuICAgIGxvZ2luV2l0aFdhbGxldCwgZ2V0Q3VycmVudFVzZXJcbiAgXSk7XG4gIFxuICAvLyBBbHdheXMgcmV0dXJuIHRoZSBzYW1lIGluc3RhbmNlIG9uY2UgY3JlYXRlZFxuICByZXR1cm4gaW5zdGFuY2VSZWYuY3VycmVudCBhcyBUZW5kZXJBUElJbnN0YW5jZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVzZVRlbmRlckFQSTsgIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VNZW1vIiwiU0lOR0xFVE9OX0lOU1RBTkNFIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJSZXF1ZXN0VGltZW91dEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJuYW1lIiwiQVBJX1RJTUVPVVQiLCJNQVhfUkVUUklFUyIsImNhY2hlIiwiTWFwIiwiQ0FDSEVfVFRMIiwiTU9DS19EQVRBIiwidGVuZGVycyIsImlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImJ1ZGdldCIsImRlYWRsaW5lIiwiRGF0ZSIsIm5vdyIsInRvSVNPU3RyaW5nIiwic3RhdHVzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwiY3JlYXRvcklkIiwiY3JlYXRvciIsImVtYWlsIiwid2FsbGV0QWRkcmVzcyIsImNhdGVnb3JpZXMiLCJleHBpcmVzQXQiLCJiaWRzIiwiYW1vdW50IiwicHJvcG9zYWwiLCJ0ZW5kZXJJZCIsImJpZGRlcklkIiwiYmlkZGVyIiwiVVNFX01PQ0tfREFUQV9PTl9FUlJPUiIsImZldGNoV2l0aFRpbWVvdXQiLCJ1cmwiLCJmZXRjaE9wdGlvbnMiLCJ0aW1lb3V0TXMiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwidGltZW91dElkIiwidGltZW91dFByb21pc2UiLCJQcm9taXNlIiwiXyIsInJlamVjdCIsInNldFRpbWVvdXQiLCJhYm9ydCIsImZldGNoUHJvbWlzZSIsImZldGNoIiwicmFjZSIsImNsZWFyVGltZW91dCIsImdldE1vY2tUZW5kZXJzIiwiZ2V0TW9ja0JpZHMiLCJjcmVhdGVUZW5kZXJBUEkiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJ1c2VNb2NrRGF0YUZyb21FbnYiLCJORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBIiwidXNlTW9ja0RhdGEiLCJzZXRVc2VNb2NrRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVSZXF1ZXN0IiwiZW5kcG9pbnQiLCJvcHRpb25zIiwicmV0cnkiLCJkYXRhIiwiaW5jbHVkZXMiLCJzcGxpdCIsInN0YXJ0c1dpdGgiLCJhbGxUZW5kZXJzIiwidGVuZGVyIiwiZmluZCIsInQiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJvayIsInN0YXR1c1RleHQiLCJjb250ZW50VHlwZSIsImdldCIsInRleHQiLCJzdWJzdHJpbmciLCJ0ZXh0RXJyb3IiLCJqc29uIiwiZXJyb3JNZXNzYWdlIiwiVHlwZUVycm9yIiwiZ2V0VGVuZGVycyIsImdldFRlbmRlckJ5SWQiLCJjYWNoZUtleSIsImNhY2hlZERhdGEiLCJ0aW1lc3RhbXAiLCJyZXN1bHQiLCJzZXQiLCJjcmVhdGVUZW5kZXIiLCJ0ZW5kZXJEYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVUZW5kZXIiLCJkZWxldGVUZW5kZXIiLCJnZXRCaWRzIiwiY3JlYXRlQmlkIiwiYmlkRGF0YSIsInJlc3REYXRhIiwidXBkYXRlQmlkIiwiYmlkSWQiLCJkZWxldGVCaWQiLCJsb2dpbldpdGhXYWxsZXQiLCJnZXRDdXJyZW50VXNlciIsInRvZ2dsZU1vY2tEYXRhIiwicHJldiIsImdldEJpZHNGb3JUZW5kZXIiLCJ1c2VUZW5kZXJBUEkiLCJpbnN0YW5jZVJlZiIsImlzSW5pdGlhbGl6ZWRSZWYiLCJsb2dJbml0aWFsU3RhdGUiLCJjdXJyZW50IiwiaW5zdGFuY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./hooks/useTenderAPI.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./hooks/useWeb3.ts":
/*!**************************!*\
  !*** ./hooks/useWeb3.ts ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWeb3: () => (/* binding */ useWeb3)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethers */ \"ethers\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([ethers__WEBPACK_IMPORTED_MODULE_1__]);\nethers__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nfunction useWeb3() {\n    const [provider, setProvider] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [signer, setSigner] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [account, setAccount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [chainId, setChainId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isConnecting, setIsConnecting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use refs to track the latest values without triggering re-renders\n    const accountRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const providerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const signerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Last connection attempt timestamp to prevent rapid reconnection attempts\n    const lastConnectionAttemptRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    // Initialize web3 connection\n    const initWeb3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[initWeb3]\": async ()=>{\n            // Prevent multiple simultaneous connection attempts\n            if (isConnecting) {\n                console.log(\"Already connecting to Web3, skipping\");\n                return {\n                    success: false,\n                    error: \"Connection in progress\"\n                };\n            }\n            // Throttle connection attempts\n            const now = Date.now();\n            if (now - lastConnectionAttemptRef.current < 3000) {\n                console.log(\"Connection attempt too soon, skipping\");\n                return {\n                    success: false,\n                    error: \"Too many connection attempts\"\n                };\n            }\n            lastConnectionAttemptRef.current = now;\n            setIsConnecting(true);\n            setError(null);\n            try {\n                // Check if ethereum is available\n                if (!window.ethereum) {\n                    throw new Error(\"MetaMask не установлен. Пожалуйста, установите расширение MetaMask.\");\n                }\n                console.log(\"Initializing Web3 provider\");\n                // Create provider instance using Ethers.js v6 API\n                const provider = new ethers__WEBPACK_IMPORTED_MODULE_1__.ethers.BrowserProvider(window.ethereum);\n                providerRef.current = provider;\n                setProvider(provider);\n                // Request accounts\n                const accounts = await window.ethereum.request({\n                    method: 'eth_requestAccounts'\n                });\n                const account = accounts[0];\n                accountRef.current = account;\n                setAccount(account);\n                // Get network information\n                const network = await provider.getNetwork();\n                setChainId(Number(network.chainId));\n                // Get signer\n                const signer = await provider.getSigner();\n                signerRef.current = signer;\n                setSigner(signer);\n                console.log(\"Web3 initialized successfully\", {\n                    account,\n                    chainId: Number(network.chainId)\n                });\n                return {\n                    success: true,\n                    data: {\n                        provider,\n                        signer,\n                        account\n                    }\n                };\n            } catch (error) {\n                console.error(\"Failed to initialize Web3:\", error);\n                const errorMessage = error.message || \"Unknown error connecting to MetaMask\";\n                setError(errorMessage);\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            } finally{\n                setIsConnecting(false);\n            }\n        }\n    }[\"useWeb3.useCallback[initWeb3]\"], [\n        isConnecting\n    ]);\n    // Connect to wallet\n    const connectWallet = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[connectWallet]\": async ()=>{\n            return initWeb3();\n        }\n    }[\"useWeb3.useCallback[connectWallet]\"], [\n        initWeb3\n    ]);\n    // Handle account changes\n    const handleAccountsChanged = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[handleAccountsChanged]\": async (accounts)=>{\n            if (accounts.length === 0) {\n                console.log(\"Disconnected from MetaMask\");\n                setAccount(null);\n                accountRef.current = null;\n            } else if (accounts[0] !== accountRef.current) {\n                console.log(\"Account changed:\", accounts[0]);\n                setAccount(accounts[0]);\n                accountRef.current = accounts[0];\n                // Update signer when account changes\n                if (providerRef.current) {\n                    try {\n                        const newSigner = await providerRef.current.getSigner();\n                        setSigner(newSigner);\n                        signerRef.current = newSigner;\n                    } catch (error) {\n                        console.error(\"Failed to get signer after account change:\", error);\n                    }\n                }\n            }\n        }\n    }[\"useWeb3.useCallback[handleAccountsChanged]\"], []);\n    // Handle chain changes\n    const handleChainChanged = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[handleChainChanged]\": async (chainIdHex)=>{\n            // chainId is in hex format\n            const newChainId = parseInt(chainIdHex, 16);\n            console.log(\"Chain changed:\", newChainId);\n            setChainId(newChainId);\n            // Reload provider and signer when chain changes\n            if (window.ethereum) {\n                try {\n                    const provider = new ethers__WEBPACK_IMPORTED_MODULE_1__.ethers.BrowserProvider(window.ethereum);\n                    providerRef.current = provider;\n                    setProvider(provider);\n                    const signer = await provider.getSigner();\n                    signerRef.current = signer;\n                    setSigner(signer);\n                } catch (error) {\n                    console.error(\"Failed to update provider after chain change:\", error);\n                }\n            }\n        }\n    }[\"useWeb3.useCallback[handleChainChanged]\"], []);\n    // Handle disconnection\n    const handleDisconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWeb3.useCallback[handleDisconnect]\": (error)=>{\n            console.log(\"MetaMask disconnected:\", error);\n            setError(`MetaMask disconnected: ${error.message}`);\n        }\n    }[\"useWeb3.useCallback[handleDisconnect]\"], []);\n    // Set up event listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWeb3.useEffect\": ()=>{\n            if (window.ethereum) {\n                // Early return if the event listeners are already added\n                const getAccounts = {\n                    \"useWeb3.useEffect.getAccounts\": async ()=>{\n                        try {\n                            // Passive check for existing connection\n                            const accounts = await window.ethereum.request({\n                                method: 'eth_accounts'\n                            });\n                            if (accounts.length > 0) {\n                                console.log(\"Found existing connection\", accounts[0]);\n                                const account = accounts[0];\n                                accountRef.current = account;\n                                setAccount(account);\n                                // Initialize provider and signer using Ethers.js v6 API\n                                const provider = new ethers__WEBPACK_IMPORTED_MODULE_1__.ethers.BrowserProvider(window.ethereum);\n                                providerRef.current = provider;\n                                setProvider(provider);\n                                const network = await provider.getNetwork();\n                                setChainId(Number(network.chainId));\n                                const signer = await provider.getSigner();\n                                signerRef.current = signer;\n                                setSigner(signer);\n                            }\n                        } catch (error) {\n                            console.error(\"Error checking existing accounts:\", error);\n                        }\n                    }\n                }[\"useWeb3.useEffect.getAccounts\"];\n                getAccounts();\n                // Set up event listeners\n                window.ethereum.on('accountsChanged', handleAccountsChanged);\n                window.ethereum.on('chainChanged', handleChainChanged);\n                window.ethereum.on('disconnect', handleDisconnect);\n                // Clean up listeners\n                return ({\n                    \"useWeb3.useEffect\": ()=>{\n                        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n                        window.ethereum.removeListener('chainChanged', handleChainChanged);\n                        window.ethereum.removeListener('disconnect', handleDisconnect);\n                    }\n                })[\"useWeb3.useEffect\"];\n            }\n        }\n    }[\"useWeb3.useEffect\"], [\n        handleAccountsChanged,\n        handleChainChanged,\n        handleDisconnect\n    ]);\n    // Return stable references using useCallback and useMemo\n    const memoizedProviderValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedProviderValue]\": ()=>provider\n    }[\"useWeb3.useMemo[memoizedProviderValue]\"], [\n        provider\n    ]);\n    const memoizedSignerValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedSignerValue]\": ()=>signer\n    }[\"useWeb3.useMemo[memoizedSignerValue]\"], [\n        signer\n    ]);\n    const memoizedAccountValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedAccountValue]\": ()=>account\n    }[\"useWeb3.useMemo[memoizedAccountValue]\"], [\n        account\n    ]);\n    const memoizedChainIdValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useWeb3.useMemo[memoizedChainIdValue]\": ()=>chainId\n    }[\"useWeb3.useMemo[memoizedChainIdValue]\"], [\n        chainId\n    ]);\n    return {\n        provider: memoizedProviderValue,\n        signer: memoizedSignerValue,\n        account: memoizedAccountValue,\n        chainId: memoizedChainIdValue,\n        connectWallet,\n        isConnecting,\n        isConnected: !!memoizedAccountValue,\n        error\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZW5kL2hvb2tzL3VzZVdlYjMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGV0aGVycyB9IGZyb20gJ2V0aGVycyc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgZXRoZXJldW0/OiBhbnk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVdlYjMoKSB7XG4gIGNvbnN0IFtwcm92aWRlciwgc2V0UHJvdmlkZXJdID0gdXNlU3RhdGU8ZXRoZXJzLkJyb3dzZXJQcm92aWRlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2lnbmVyLCBzZXRTaWduZXJdID0gdXNlU3RhdGU8ZXRoZXJzLlNpZ25lciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWNjb3VudCwgc2V0QWNjb3VudF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NoYWluSWQsIHNldENoYWluSWRdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0Nvbm5lY3RpbmcsIHNldElzQ29ubmVjdGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBVc2UgcmVmcyB0byB0cmFjayB0aGUgbGF0ZXN0IHZhbHVlcyB3aXRob3V0IHRyaWdnZXJpbmcgcmUtcmVuZGVyc1xuICBjb25zdCBhY2NvdW50UmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBwcm92aWRlclJlZiA9IHVzZVJlZjxldGhlcnMuQnJvd3NlclByb3ZpZGVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNpZ25lclJlZiA9IHVzZVJlZjxldGhlcnMuU2lnbmVyIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBMYXN0IGNvbm5lY3Rpb24gYXR0ZW1wdCB0aW1lc3RhbXAgdG8gcHJldmVudCByYXBpZCByZWNvbm5lY3Rpb24gYXR0ZW1wdHNcbiAgY29uc3QgbGFzdENvbm5lY3Rpb25BdHRlbXB0UmVmID0gdXNlUmVmPG51bWJlcj4oMCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSB3ZWIzIGNvbm5lY3Rpb25cbiAgY29uc3QgaW5pdFdlYjMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgLy8gUHJldmVudCBtdWx0aXBsZSBzaW11bHRhbmVvdXMgY29ubmVjdGlvbiBhdHRlbXB0c1xuICAgIGlmIChpc0Nvbm5lY3RpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBjb25uZWN0aW5nIHRvIFdlYjMsIHNraXBwaW5nXCIpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvbm5lY3Rpb24gaW4gcHJvZ3Jlc3NcIiB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBUaHJvdHRsZSBjb25uZWN0aW9uIGF0dGVtcHRzXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IC0gbGFzdENvbm5lY3Rpb25BdHRlbXB0UmVmLmN1cnJlbnQgPCAzMDAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3Rpb24gYXR0ZW1wdCB0b28gc29vbiwgc2tpcHBpbmdcIik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVG9vIG1hbnkgY29ubmVjdGlvbiBhdHRlbXB0c1wiIH07XG4gICAgfVxuICAgIFxuICAgIGxhc3RDb25uZWN0aW9uQXR0ZW1wdFJlZi5jdXJyZW50ID0gbm93O1xuICAgIHNldElzQ29ubmVjdGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgZXRoZXJldW0gaXMgYXZhaWxhYmxlXG4gICAgICBpZiAoIXdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRhTWFzayDQvdC1INGD0YHRgtCw0L3QvtCy0LvQtdC9LiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0YPRgdGC0LDQvdC+0LLQuNGC0LUg0YDQsNGB0YjQuNGA0LXQvdC40LUgTWV0YU1hc2suXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpemluZyBXZWIzIHByb3ZpZGVyXCIpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgcHJvdmlkZXIgaW5zdGFuY2UgdXNpbmcgRXRoZXJzLmpzIHY2IEFQSVxuICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLkJyb3dzZXJQcm92aWRlcih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgcHJvdmlkZXJSZWYuY3VycmVudCA9IHByb3ZpZGVyO1xuICAgICAgc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgXG4gICAgICAvLyBSZXF1ZXN0IGFjY291bnRzXG4gICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX3JlcXVlc3RBY2NvdW50cycgfSk7XG4gICAgICBjb25zdCBhY2NvdW50ID0gYWNjb3VudHNbMF07XG4gICAgICBhY2NvdW50UmVmLmN1cnJlbnQgPSBhY2NvdW50O1xuICAgICAgc2V0QWNjb3VudChhY2NvdW50KTtcbiAgICAgIFxuICAgICAgLy8gR2V0IG5ldHdvcmsgaW5mb3JtYXRpb25cbiAgICAgIGNvbnN0IG5ldHdvcmsgPSBhd2FpdCBwcm92aWRlci5nZXROZXR3b3JrKCk7XG4gICAgICBzZXRDaGFpbklkKE51bWJlcihuZXR3b3JrLmNoYWluSWQpKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHNpZ25lclxuICAgICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XG4gICAgICBzaWduZXJSZWYuY3VycmVudCA9IHNpZ25lcjtcbiAgICAgIHNldFNpZ25lcihzaWduZXIpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIldlYjMgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5XCIsIHsgYWNjb3VudCwgY2hhaW5JZDogTnVtYmVyKG5ldHdvcmsuY2hhaW5JZCkgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgcHJvdmlkZXIsIHNpZ25lciwgYWNjb3VudCB9IH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYjM6XCIsIGVycm9yKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3IgY29ubmVjdGluZyB0byBNZXRhTWFza1wiO1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNDb25uZWN0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtpc0Nvbm5lY3RpbmddKTtcblxuICAvLyBDb25uZWN0IHRvIHdhbGxldFxuICBjb25zdCBjb25uZWN0V2FsbGV0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiBpbml0V2ViMygpO1xuICB9LCBbaW5pdFdlYjNdKTtcblxuICAvLyBIYW5kbGUgYWNjb3VudCBjaGFuZ2VzXG4gIGNvbnN0IGhhbmRsZUFjY291bnRzQ2hhbmdlZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChhY2NvdW50czogc3RyaW5nW10pID0+IHtcbiAgICBpZiAoYWNjb3VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRpc2Nvbm5lY3RlZCBmcm9tIE1ldGFNYXNrXCIpO1xuICAgICAgc2V0QWNjb3VudChudWxsKTtcbiAgICAgIGFjY291bnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChhY2NvdW50c1swXSAhPT0gYWNjb3VudFJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkFjY291bnQgY2hhbmdlZDpcIiwgYWNjb3VudHNbMF0pO1xuICAgICAgc2V0QWNjb3VudChhY2NvdW50c1swXSk7XG4gICAgICBhY2NvdW50UmVmLmN1cnJlbnQgPSBhY2NvdW50c1swXTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHNpZ25lciB3aGVuIGFjY291bnQgY2hhbmdlc1xuICAgICAgaWYgKHByb3ZpZGVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBuZXdTaWduZXIgPSBhd2FpdCBwcm92aWRlclJlZi5jdXJyZW50LmdldFNpZ25lcigpO1xuICAgICAgICAgIHNldFNpZ25lcihuZXdTaWduZXIpO1xuICAgICAgICAgIHNpZ25lclJlZi5jdXJyZW50ID0gbmV3U2lnbmVyO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZ2V0IHNpZ25lciBhZnRlciBhY2NvdW50IGNoYW5nZTpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIGNoYWluIGNoYW5nZXNcbiAgY29uc3QgaGFuZGxlQ2hhaW5DaGFuZ2VkID0gdXNlQ2FsbGJhY2soYXN5bmMgKGNoYWluSWRIZXg6IHN0cmluZykgPT4ge1xuICAgIC8vIGNoYWluSWQgaXMgaW4gaGV4IGZvcm1hdFxuICAgIGNvbnN0IG5ld0NoYWluSWQgPSBwYXJzZUludChjaGFpbklkSGV4LCAxNik7XG4gICAgY29uc29sZS5sb2coXCJDaGFpbiBjaGFuZ2VkOlwiLCBuZXdDaGFpbklkKTtcbiAgICBzZXRDaGFpbklkKG5ld0NoYWluSWQpO1xuICAgIFxuICAgIC8vIFJlbG9hZCBwcm92aWRlciBhbmQgc2lnbmVyIHdoZW4gY2hhaW4gY2hhbmdlc1xuICAgIGlmICh3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGV0aGVycy5Ccm93c2VyUHJvdmlkZXIod2luZG93LmV0aGVyZXVtKTtcbiAgICAgICAgcHJvdmlkZXJSZWYuY3VycmVudCA9IHByb3ZpZGVyO1xuICAgICAgICBzZXRQcm92aWRlcihwcm92aWRlcik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKTtcbiAgICAgICAgc2lnbmVyUmVmLmN1cnJlbnQgPSBzaWduZXI7XG4gICAgICAgIHNldFNpZ25lcihzaWduZXIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB1cGRhdGUgcHJvdmlkZXIgYWZ0ZXIgY2hhaW4gY2hhbmdlOlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIGRpc2Nvbm5lY3Rpb25cbiAgY29uc3QgaGFuZGxlRGlzY29ubmVjdCA9IHVzZUNhbGxiYWNrKChlcnJvcjogeyBjb2RlOiBudW1iZXI7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJNZXRhTWFzayBkaXNjb25uZWN0ZWQ6XCIsIGVycm9yKTtcbiAgICBzZXRFcnJvcihgTWV0YU1hc2sgZGlzY29ubmVjdGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH0sIFtdKTtcblxuICAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgLy8gRWFybHkgcmV0dXJuIGlmIHRoZSBldmVudCBsaXN0ZW5lcnMgYXJlIGFscmVhZHkgYWRkZWRcbiAgICAgIGNvbnN0IGdldEFjY291bnRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFBhc3NpdmUgY2hlY2sgZm9yIGV4aXN0aW5nIGNvbm5lY3Rpb25cbiAgICAgICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2FjY291bnRzJyB9KTtcbiAgICAgICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBleGlzdGluZyBjb25uZWN0aW9uXCIsIGFjY291bnRzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBhY2NvdW50c1swXTtcbiAgICAgICAgICAgIGFjY291bnRSZWYuY3VycmVudCA9IGFjY291bnQ7XG4gICAgICAgICAgICBzZXRBY2NvdW50KGFjY291bnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHByb3ZpZGVyIGFuZCBzaWduZXIgdXNpbmcgRXRoZXJzLmpzIHY2IEFQSVxuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLkJyb3dzZXJQcm92aWRlcih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICAgICAgcHJvdmlkZXJSZWYuY3VycmVudCA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXR3b3JrID0gYXdhaXQgcHJvdmlkZXIuZ2V0TmV0d29yaygpO1xuICAgICAgICAgICAgc2V0Q2hhaW5JZChOdW1iZXIobmV0d29yay5jaGFpbklkKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xuICAgICAgICAgICAgc2lnbmVyUmVmLmN1cnJlbnQgPSBzaWduZXI7XG4gICAgICAgICAgICBzZXRTaWduZXIoc2lnbmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIGV4aXN0aW5nIGFjY291bnRzOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGdldEFjY291bnRzKCk7XG4gICAgICBcbiAgICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnNcbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignYWNjb3VudHNDaGFuZ2VkJywgaGFuZGxlQWNjb3VudHNDaGFuZ2VkKTtcbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignY2hhaW5DaGFuZ2VkJywgaGFuZGxlQ2hhaW5DaGFuZ2VkKTtcbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignZGlzY29ubmVjdCcsIGhhbmRsZURpc2Nvbm5lY3QpO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCBsaXN0ZW5lcnNcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVMaXN0ZW5lcignYWNjb3VudHNDaGFuZ2VkJywgaGFuZGxlQWNjb3VudHNDaGFuZ2VkKTtcbiAgICAgICAgd2luZG93LmV0aGVyZXVtLnJlbW92ZUxpc3RlbmVyKCdjaGFpbkNoYW5nZWQnLCBoYW5kbGVDaGFpbkNoYW5nZWQpO1xuICAgICAgICB3aW5kb3cuZXRoZXJldW0ucmVtb3ZlTGlzdGVuZXIoJ2Rpc2Nvbm5lY3QnLCBoYW5kbGVEaXNjb25uZWN0KTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbaGFuZGxlQWNjb3VudHNDaGFuZ2VkLCBoYW5kbGVDaGFpbkNoYW5nZWQsIGhhbmRsZURpc2Nvbm5lY3RdKTtcblxuICAvLyBSZXR1cm4gc3RhYmxlIHJlZmVyZW5jZXMgdXNpbmcgdXNlQ2FsbGJhY2sgYW5kIHVzZU1lbW9cbiAgY29uc3QgbWVtb2l6ZWRQcm92aWRlclZhbHVlID0gdXNlTWVtbygoKSA9PiBwcm92aWRlciwgW3Byb3ZpZGVyXSk7XG4gIGNvbnN0IG1lbW9pemVkU2lnbmVyVmFsdWUgPSB1c2VNZW1vKCgpID0+IHNpZ25lciwgW3NpZ25lcl0pO1xuICBjb25zdCBtZW1vaXplZEFjY291bnRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gYWNjb3VudCwgW2FjY291bnRdKTtcbiAgY29uc3QgbWVtb2l6ZWRDaGFpbklkVmFsdWUgPSB1c2VNZW1vKCgpID0+IGNoYWluSWQsIFtjaGFpbklkXSk7XG4gIFxuICByZXR1cm4ge1xuICAgIHByb3ZpZGVyOiBtZW1vaXplZFByb3ZpZGVyVmFsdWUsXG4gICAgc2lnbmVyOiBtZW1vaXplZFNpZ25lclZhbHVlLFxuICAgIGFjY291bnQ6IG1lbW9pemVkQWNjb3VudFZhbHVlLFxuICAgIGNoYWluSWQ6IG1lbW9pemVkQ2hhaW5JZFZhbHVlLFxuICAgIGNvbm5lY3RXYWxsZXQsXG4gICAgaXNDb25uZWN0aW5nLFxuICAgIGlzQ29ubmVjdGVkOiAhIW1lbW9pemVkQWNjb3VudFZhbHVlLFxuICAgIGVycm9yXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUmVmIiwiZXRoZXJzIiwidXNlV2ViMyIsInByb3ZpZGVyIiwic2V0UHJvdmlkZXIiLCJzaWduZXIiLCJzZXRTaWduZXIiLCJhY2NvdW50Iiwic2V0QWNjb3VudCIsImNoYWluSWQiLCJzZXRDaGFpbklkIiwiaXNDb25uZWN0aW5nIiwic2V0SXNDb25uZWN0aW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImFjY291bnRSZWYiLCJwcm92aWRlclJlZiIsInNpZ25lclJlZiIsImxhc3RDb25uZWN0aW9uQXR0ZW1wdFJlZiIsImluaXRXZWIzIiwiY29uc29sZSIsImxvZyIsInN1Y2Nlc3MiLCJub3ciLCJEYXRlIiwiY3VycmVudCIsIndpbmRvdyIsImV0aGVyZXVtIiwiRXJyb3IiLCJCcm93c2VyUHJvdmlkZXIiLCJhY2NvdW50cyIsInJlcXVlc3QiLCJtZXRob2QiLCJuZXR3b3JrIiwiZ2V0TmV0d29yayIsIk51bWJlciIsImdldFNpZ25lciIsImRhdGEiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiY29ubmVjdFdhbGxldCIsImhhbmRsZUFjY291bnRzQ2hhbmdlZCIsImxlbmd0aCIsIm5ld1NpZ25lciIsImhhbmRsZUNoYWluQ2hhbmdlZCIsImNoYWluSWRIZXgiLCJuZXdDaGFpbklkIiwicGFyc2VJbnQiLCJoYW5kbGVEaXNjb25uZWN0IiwiZ2V0QWNjb3VudHMiLCJvbiIsInJlbW92ZUxpc3RlbmVyIiwibWVtb2l6ZWRQcm92aWRlclZhbHVlIiwibWVtb2l6ZWRTaWduZXJWYWx1ZSIsIm1lbW9pemVkQWNjb3VudFZhbHVlIiwibWVtb2l6ZWRDaGFpbklkVmFsdWUiLCJpc0Nvbm5lY3RlZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./hooks/useWeb3.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Ftender%2Fcreate&preferredRegion=&absolutePagePath=.%2Fpages%2Ftender%2Fcreate.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Ftender%2Fcreate&preferredRegion=&absolutePagePath=.%2Fpages%2Ftender%2Fcreate.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./pages/_app.tsx\");\n/* harmony import */ var _pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/tender/create.tsx */ \"(pages-dir-node)/./pages/tender/create.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/tender/create\",\n        pathname: \"/tender/create\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_tender_create_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZ0ZW5kZXIlMkZjcmVhdGUmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRnRlbmRlciUyRmNyZWF0ZS50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RjtBQUNoQztBQUNFO0FBQzFEO0FBQ3lEO0FBQ1Y7QUFDL0M7QUFDc0Q7QUFDdEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLHFEQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLHFEQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLHFEQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyxxREFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLHFEQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLHFEQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLHFEQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLHFEQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLHFEQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLGtHQUFnQjtBQUMvQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBYSw4REFBVztBQUN4QixrQkFBa0Isb0VBQWdCO0FBQ2xDLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxpQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCAqIGFzIGRvY3VtZW50IGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2RvY3VtZW50XCI7XG5pbXBvcnQgKiBhcyBhcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy90ZW5kZXIvY3JlYXRlLnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U3RhdGljUHJvcHMnKTtcbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U3RhdGljUGF0aHMnKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ2dldFNlcnZlclNpZGVQcm9wcycpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG5leHBvcnQgY29uc3QgcmVwb3J0V2ViVml0YWxzID0gaG9pc3QodXNlcmxhbmQsICdyZXBvcnRXZWJWaXRhbHMnKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUHJvcHMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUGF0aHMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFN0YXRpY1BhcmFtcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc1JvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFUyxcbiAgICAgICAgcGFnZTogXCIvdGVuZGVyL2NyZWF0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvdGVuZGVyL2NyZWF0ZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgLy8gZGVmYXVsdCBleHBvcnQgbWlnaHQgbm90IGV4aXN0IHdoZW4gb3B0aW1pemVkIGZvciBkYXRhIG9ubHlcbiAgICAgICAgQXBwOiBhcHAuZGVmYXVsdCxcbiAgICAgICAgRG9jdW1lbnQ6IGRvY3VtZW50LmRlZmF1bHRcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Ftender%2Fcreate&preferredRegion=&absolutePagePath=.%2Fpages%2Ftender%2Fcreate.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"(pages-dir-node)/./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_hot_toast__WEBPACK_IMPORTED_MODULE_3__]);\nreact_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nfunction App({ Component, pageProps }) {\n    const [isOnline, setIsOnline] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"App.useEffect\": ()=>{\n            // Check initial online status\n            setIsOnline(typeof navigator !== 'undefined' ? navigator.onLine : true);\n            // Add event listeners for online/offline status\n            const handleOnline = {\n                \"App.useEffect.handleOnline\": ()=>{\n                    setIsOnline(true);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.success('Подключение к сети восстановлено!');\n                }\n            }[\"App.useEffect.handleOnline\"];\n            const handleOffline = {\n                \"App.useEffect.handleOffline\": ()=>{\n                    setIsOnline(false);\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.toast.error('Отсутствует подключение к интернету. Некоторые функции могут быть недоступны.');\n                }\n            }[\"App.useEffect.handleOffline\"];\n            window.addEventListener('online', handleOnline);\n            window.addEventListener('offline', handleOffline);\n            return ({\n                \"App.useEffect\": ()=>{\n                    window.removeEventListener('online', handleOnline);\n                    window.removeEventListener('offline', handleOffline);\n                }\n            })[\"App.useEffect\"];\n        }\n    }[\"App.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.Toaster, {\n                position: \"top-right\",\n                toastOptions: {\n                    duration: 6000,\n                    style: {\n                        borderRadius: '8px',\n                        background: '#333',\n                        color: '#fff'\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/_app.tsx\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, this),\n            !isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-0 left-0 right-0 bg-red-500 text-white text-center py-2 z-50\",\n                children: \"Вы не подключены к интернету. Работаем в оффлайн режиме.\"\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/_app.tsx\",\n                lineNumber: 47,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/_app.tsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL19hcHAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUVhO0FBQ0s7QUFFbEMsU0FBU0ksSUFBSSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBWTtJQUM1RCxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1AsK0NBQVFBLENBQUM7SUFFekNELGdEQUFTQTt5QkFBQztZQUNSLDhCQUE4QjtZQUM5QlEsWUFBWSxPQUFPQyxjQUFjLGNBQWNBLFVBQVVDLE1BQU0sR0FBRztZQUVsRSxnREFBZ0Q7WUFDaEQsTUFBTUM7OENBQWU7b0JBQ25CSCxZQUFZO29CQUNaTCxrREFBS0EsQ0FBQ1MsT0FBTyxDQUFDO2dCQUNoQjs7WUFFQSxNQUFNQzsrQ0FBZ0I7b0JBQ3BCTCxZQUFZO29CQUNaTCxrREFBS0EsQ0FBQ1csS0FBSyxDQUFDO2dCQUNkOztZQUVBQyxPQUFPQyxnQkFBZ0IsQ0FBQyxVQUFVTDtZQUNsQ0ksT0FBT0MsZ0JBQWdCLENBQUMsV0FBV0g7WUFFbkM7aUNBQU87b0JBQ0xFLE9BQU9FLG1CQUFtQixDQUFDLFVBQVVOO29CQUNyQ0ksT0FBT0UsbUJBQW1CLENBQUMsV0FBV0o7Z0JBQ3hDOztRQUNGO3dCQUFHLEVBQUU7SUFFTCxxQkFDRTs7MEJBQ0UsOERBQUNYLG9EQUFPQTtnQkFDTmdCLFVBQVM7Z0JBQ1RDLGNBQWM7b0JBQ1pDLFVBQVU7b0JBQ1ZDLE9BQU87d0JBQ0xDLGNBQWM7d0JBQ2RDLFlBQVk7d0JBQ1pDLE9BQU87b0JBQ1Q7Z0JBQ0Y7Ozs7OztZQUVELENBQUNqQiwwQkFDQSw4REFBQ2tCO2dCQUFJQyxXQUFVOzBCQUF5RTs7Ozs7OzBCQUkxRiw4REFBQ3JCO2dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7O0FBRzlCIiwic291cmNlcyI6WyIvVXNlcnMvYWxkaXlhcmJvbGVnZW5vdi90ZW5kZXIvZnJvbnRlbmQvcGFnZXMvX2FwcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnO1xuaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUb2FzdGVyLCB0b2FzdCB9IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIGNvbnN0IFtpc09ubGluZSwgc2V0SXNPbmxpbmVdID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDaGVjayBpbml0aWFsIG9ubGluZSBzdGF0dXNcbiAgICBzZXRJc09ubGluZSh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvci5vbkxpbmUgOiB0cnVlKTtcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIG9ubGluZS9vZmZsaW5lIHN0YXR1c1xuICAgIGNvbnN0IGhhbmRsZU9ubGluZSA9ICgpID0+IHtcbiAgICAgIHNldElzT25saW5lKHRydWUpO1xuICAgICAgdG9hc3Quc3VjY2Vzcygn0J/QvtC00LrQu9GO0YfQtdC90LjQtSDQuiDRgdC10YLQuCDQstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QviEnKTtcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGhhbmRsZU9mZmxpbmUgPSAoKSA9PiB7XG4gICAgICBzZXRJc09ubGluZShmYWxzZSk7XG4gICAgICB0b2FzdC5lcnJvcign0J7RgtGB0YPRgtGB0YLQstGD0LXRgiDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INC6INC40L3RgtC10YDQvdC10YLRgy4g0J3QtdC60L7RgtC+0YDRi9C1INGE0YPQvdC60YbQuNC4INC80L7Qs9GD0YIg0LHRi9GC0Ywg0L3QtdC00L7RgdGC0YPQv9C90YsuJyk7XG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGhhbmRsZU9mZmxpbmUpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBoYW5kbGVPbmxpbmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBoYW5kbGVPZmZsaW5lKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPFRvYXN0ZXIgXG4gICAgICAgIHBvc2l0aW9uPVwidG9wLXJpZ2h0XCJcbiAgICAgICAgdG9hc3RPcHRpb25zPXt7XG4gICAgICAgICAgZHVyYXRpb246IDYwMDAsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsIFxuICAgICAgICAgICAgYmFja2dyb3VuZDogJyMzMzMnLCBcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICB7IWlzT25saW5lICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBiZy1yZWQtNTAwIHRleHQtd2hpdGUgdGV4dC1jZW50ZXIgcHktMiB6LTUwXCI+XG4gICAgICAgICAg0JLRiyDQvdC1INC/0L7QtNC60LvRjtGH0LXQvdGLINC6INC40L3RgtC10YDQvdC10YLRgy4g0KDQsNCx0L7RgtCw0LXQvCDQsiDQvtGE0YTQu9Cw0LnQvSDRgNC10LbQuNC80LUuXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICA8Lz5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiVG9hc3RlciIsInRvYXN0IiwiQXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIiwiaXNPbmxpbmUiLCJzZXRJc09ubGluZSIsIm5hdmlnYXRvciIsIm9uTGluZSIsImhhbmRsZU9ubGluZSIsInN1Y2Nlc3MiLCJoYW5kbGVPZmZsaW5lIiwiZXJyb3IiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBvc2l0aW9uIiwidG9hc3RPcHRpb25zIiwiZHVyYXRpb24iLCJzdHlsZSIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJjb2xvciIsImRpdiIsImNsYXNzTmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/_app.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./pages/tender/create.tsx":
/*!*********************************!*\
  !*** ./pages/tender/create.tsx ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CreateTender)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useWeb3 */ \"(pages-dir-node)/./hooks/useWeb3.ts\");\n/* harmony import */ var _components_PricePredictor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/PricePredictor */ \"(pages-dir-node)/./components/PricePredictor.tsx\");\n/* harmony import */ var _hooks_useTenderAPI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useTenderAPI */ \"(pages-dir-node)/./hooks/useTenderAPI.ts\");\n/* harmony import */ var _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useContractTender */ \"(pages-dir-node)/./hooks/useContractTender.ts\");\n/* harmony import */ var _components_Navbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/Navbar */ \"(pages-dir-node)/./components/Navbar.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__, _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_6__, _components_Navbar__WEBPACK_IMPORTED_MODULE_7__]);\n([_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__, _hooks_useContractTender__WEBPACK_IMPORTED_MODULE_6__, _components_Navbar__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nfunction CreateTender() {\n    const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        title: '',\n        description: '',\n        budget: '',\n        distance: '',\n        weight: '',\n        cargoType: 'general',\n        urgencyDays: '15',\n        expirationMinutes: '10',\n        deadline: ''\n    });\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { account, connectWallet, isConnecting, error: walletError } = (0,_hooks_useWeb3__WEBPACK_IMPORTED_MODULE_3__.useWeb3)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const tenderAPI = (0,_hooks_useTenderAPI__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n    const contractTender = (0,_hooks_useContractTender__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n    const [contractWarning, setContractWarning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Check if contract is available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CreateTender.useEffect\": ()=>{\n            console.log(\"Contract status:\", {\n                isAvailable: contractTender.isContractAvailable,\n                loading: contractTender.loading,\n                error: contractTender.error\n            });\n            if (!contractTender.isContractAvailable) {\n                setContractWarning('Смарт-контракт недоступен или не развернут. Тендер будет сохранен только в базе данных.');\n            } else {\n                setContractWarning(null);\n            }\n        }\n    }[\"CreateTender.useEffect\"], [\n        contractTender.isContractAvailable,\n        contractTender.loading,\n        contractTender.error\n    ]);\n    const calculateDeadline = ()=>{\n        const now = new Date();\n        now.setDate(now.getDate() + parseInt(form.urgencyDays || '15'));\n        return now.toISOString();\n    };\n    const handleCreate = async ()=>{\n        // 1. Check wallet connection\n        if (!account) {\n            const connected = await connectWallet();\n            if (!connected.success) {\n                alert(\"Пожалуйста, подключите кошелек MetaMask\");\n                return;\n            }\n        }\n        // 2. Validate form data\n        if (!form.distance || !form.weight) {\n            alert(\"Пожалуйста, заполните поля расстояния и веса\");\n            return;\n        }\n        setLoading(true);\n        let blockchainSuccess = false;\n        let blockchainError = null;\n        let tenderId = null;\n        try {\n            // Force contract reinitialization before proceeding\n            console.log(\"Forcing contract reinitialization before creating tender\");\n            const initResult = await contractTender.forceContractInitialization();\n            if (!initResult) {\n                throw new Error(\"Не удалось инициализировать смарт-контракт. Пожалуйста, убедитесь, что ваш кошелек подключен и вы находитесь в сети Sepolia.\");\n            }\n            if (!contractTender.isContractAvailable) {\n                throw new Error(\"Смарт-контракт недоступен. Пожалуйста, переподключите кошелек и попробуйте снова.\");\n            }\n            // 3. Save to blockchain\n            console.log(\"Saving tender to blockchain...\");\n            const title = form.title || `Перевозка груза (${form.weight} кг) на ${form.distance} км`;\n            const description = `Расстояние: ${form.distance} км, Вес: ${form.weight} кг, Тип груза: ${form.cargoType}, Срок доставки: ${form.urgencyDays} дней`;\n            // Create a Date object for the deadline\n            const deadline = new Date();\n            deadline.setDate(deadline.getDate() + parseInt(form.urgencyDays || '15'));\n            // Convert deadline to Unix timestamp (seconds since epoch) for blockchain\n            const deadlineTimestamp = Math.floor(deadline.getTime() / 1000);\n            const budget = form.budget ? parseFloat(form.budget) : 2000; // Значение по умолчанию\n            const expirationMinutes = parseInt(form.expirationMinutes || '10');\n            // Улучшенное логирование для отладки\n            console.log(\"Form data:\", {\n                title,\n                description,\n                budget,\n                deadlineTimestamp,\n                distance: form.distance,\n                weight: form.weight,\n                cargoType: form.cargoType,\n                urgencyDays: form.urgencyDays,\n                expirationMinutes\n            });\n            console.log(\"Sending to blockchain with deadline timestamp:\", deadlineTimestamp);\n            try {\n                const contractResponse = await contractTender.createTender(title, description, budget, deadlineTimestamp, parseInt(form.distance), parseInt(form.weight), form.cargoType, parseInt(form.urgencyDays), expirationMinutes);\n                console.log(\"Contract response:\", contractResponse);\n                if (contractResponse.success) {\n                    blockchainSuccess = true;\n                    tenderId = contractResponse.data?.id || null;\n                    if (tenderId && !tenderId.startsWith('fallback-id-')) {\n                        console.log(\"Tender created in blockchain with ID:\", tenderId);\n                    } else {\n                        console.warn(\"Tender was created but couldn't get proper ID from blockchain. Using fallback:\", tenderId);\n                        // Если ID не получен должным образом, запрашиваем текущее количество тендеров\n                        try {\n                            console.log(\"Attempting to get current tender count from contract\");\n                            // Здесь мы хотим получить актуальный ID созданного тендера\n                            const tenderCount = await contractTender.getTenderCount();\n                            console.log(\"Current tender count:\", tenderCount);\n                            if (tenderCount && parseInt(tenderCount) > 0) {\n                                // Скорее всего, последний ID будет tenderCount - 1\n                                const probableId = (parseInt(tenderCount) - 1).toString();\n                                console.log(\"Probable tender ID based on count:\", probableId);\n                                tenderId = probableId;\n                                blockchainSuccess = true;\n                            } else {\n                                blockchainSuccess = false;\n                                blockchainError = new Error(\"Не удалось получить ID тендера из блокчейна\");\n                            }\n                        } catch (countError) {\n                            console.error(\"Error getting tender count:\", countError);\n                            blockchainSuccess = false;\n                            blockchainError = new Error(\"Не удалось получить ID тендера из блокчейна\");\n                        }\n                    }\n                } else {\n                    blockchainError = new Error(contractResponse.error || \"Unknown blockchain error\");\n                    console.error(\"Blockchain error:\", contractResponse.error);\n                    throw blockchainError;\n                }\n            } catch (txError) {\n                console.error(\"Transaction error:\", txError);\n                blockchainError = new Error(`Transaction error: ${txError instanceof Error ? txError.message : \"Unknown error\"}`);\n                throw blockchainError;\n            }\n            // 4. Only if blockchain storage succeeds, also save metadata to database\n            if (blockchainSuccess) {\n                console.log(\"Tender successfully created in blockchain. Now saving metadata to database...\");\n                if (!account) {\n                    throw new Error(\"Кошелек не подключен\");\n                }\n                const tenderResponse = await tenderAPI.createTender({\n                    title,\n                    description,\n                    budget,\n                    deadline: deadline.toISOString(),\n                    walletAddress: account,\n                    categories: [\n                        form.cargoType\n                    ]\n                });\n                if (tenderResponse.error) {\n                    console.warn(`Warning: Database metadata storage failed: ${tenderResponse.error}`);\n                // Continue anyway since blockchain storage succeeded\n                }\n                // 5. Success message\n                console.log(\"Tender successfully created in blockchain\");\n                alert(\"Тендер успешно создан в блокчейне! Он будет доступен \" + expirationMinutes + \" минут.\\nID тендера: \" + tenderId);\n                router.push('/dashboard');\n            } else {\n                throw new Error(\"Не удалось сохранить тендер в блокчейне\");\n            }\n        } catch (error) {\n            console.error(\"Error creating tender:\", error);\n            alert(`Ошибка создания тендера: ${error instanceof Error ? error.message : 'Неизвестная ошибка'}`);\n        } finally{\n            setLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Navbar__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                lineNumber: 208,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-2xl font-bold mb-6\",\n                children: \"Создать новый тендер\"\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                lineNumber: 209,\n                columnNumber: 7\n            }, this),\n            walletError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n                children: walletError\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                lineNumber: 212,\n                columnNumber: 9\n            }, this),\n            contractWarning && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4\",\n                children: contractWarning\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                lineNumber: 218,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-100 border border-gray-400 text-gray-700 px-4 py-3 rounded mb-4 text-xs\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"font-bold\",\n                        children: \"Отладочная информация:\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Адрес контракта: \",\n                            \"0x5FbDB2315678afecb367f032d93F642f64180aa3\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 226,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Кошелек подключен: \",\n                            account ? 'Да' : 'Нет'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 227,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Адрес кошелька: \",\n                            account || 'Не подключен'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 228,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Доступность контракта: \",\n                            contractTender.isContractAvailable ? 'Доступен' : 'Недоступен'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 229,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Статус контракта: \",\n                            contractTender.contractStatus\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 230,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Ошибка контракта: \",\n                            contractTender.error || 'Нет'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 231,\n                        columnNumber: 9\n                    }, this),\n                    contractTender.contractErrorDetails && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: [\n                            \"Детали ошибки: \",\n                            contractTender.contractErrorDetails\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 flex space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>contractTender.forceContractInitialization(),\n                                className: \"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none\",\n                                children: \"Переподключиться к контракту\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: async ()=>{\n                                    if (false) {} else {\n                                        alert('MetaMask не обнаружен');\n                                    }\n                                },\n                                className: \"text-xs px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 focus:outline-none\",\n                                children: \"Проверить сеть\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                lineNumber: 243,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: async ()=>{\n                                    if (false) {} else {\n                                        alert('MetaMask не обнаружен');\n                                    }\n                                },\n                                className: \"text-xs px-2 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 focus:outline-none\",\n                                children: \"Переключиться на Sepolia\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                lineNumber: 264,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                lineNumber: 224,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow p-6 max-w-2xl mx-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 gap-6\",\n                    children: [\n                        !account && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: connectWallet,\n                            disabled: isConnecting,\n                            className: \"w-full py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white rounded-md disabled:bg-blue-300\",\n                            children: isConnecting ? \"Подключение...\" : \"Подключить MetaMask\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 311,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700\",\n                                    children: \"Название тендера\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 321,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    value: form.title,\n                                    onChange: (e)=>setForm({\n                                            ...form,\n                                            title: e.target.value\n                                        }),\n                                    placeholder: \"Например: Перевозка негабаритного груза\",\n                                    className: \"w-full p-2 border border-gray-300 rounded-md\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 322,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 320,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700\",\n                                    children: \"Расстояние (км)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 332,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"number\",\n                                    value: form.distance,\n                                    onChange: (e)=>setForm({\n                                            ...form,\n                                            distance: e.target.value\n                                        }),\n                                    min: \"50\",\n                                    max: \"2000\",\n                                    className: \"w-full p-2 border border-gray-300 rounded-md\",\n                                    required: true\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 333,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 331,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700\",\n                                    children: \"Вес груза (кг)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 345,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"number\",\n                                    value: form.weight,\n                                    onChange: (e)=>setForm({\n                                            ...form,\n                                            weight: e.target.value\n                                        }),\n                                    min: \"100\",\n                                    max: \"10000\",\n                                    className: \"w-full p-2 border border-gray-300 rounded-md\",\n                                    required: true\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 346,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 344,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700\",\n                                    children: \"Тип груза\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 358,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: form.cargoType,\n                                    onChange: (e)=>setForm({\n                                            ...form,\n                                            cargoType: e.target.value\n                                        }),\n                                    className: \"w-full p-2 border border-gray-300 rounded-md\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"general\",\n                                            children: \"Обычный\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                            lineNumber: 364,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"fragile\",\n                                            children: \"Хрупкий\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                            lineNumber: 365,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"perishable\",\n                                            children: \"Скоропортящийся\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                            lineNumber: 366,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 359,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 357,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700\",\n                                    children: \"Срок доставки (дни)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 371,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"number\",\n                                    value: form.urgencyDays,\n                                    onChange: (e)=>setForm({\n                                            ...form,\n                                            urgencyDays: e.target.value\n                                        }),\n                                    min: \"1\",\n                                    max: \"30\",\n                                    className: \"w-full p-2 border border-gray-300 rounded-md\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 372,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 370,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700\",\n                                    children: \"Бюджет (USD)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 383,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"number\",\n                                    value: form.budget,\n                                    onChange: (e)=>setForm({\n                                            ...form,\n                                            budget: e.target.value\n                                        }),\n                                    min: \"1\",\n                                    placeholder: \"Укажите максимальный бюджет\",\n                                    className: \"w-full p-2 border border-gray-300 rounded-md\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 384,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 382,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700\",\n                                    children: \"Время активности тендера (минуты)\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 395,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"number\",\n                                            value: form.expirationMinutes,\n                                            onChange: (e)=>setForm({\n                                                    ...form,\n                                                    expirationMinutes: e.target.value\n                                                }),\n                                            min: \"1\",\n                                            max: \"1440\",\n                                            className: \"w-full p-2 border border-gray-300 rounded-md\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                            lineNumber: 397,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"ml-2 text-sm text-gray-500\",\n                                            children: \"Тендер будет активен указанное количество минут\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                            lineNumber: 405,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                                    lineNumber: 396,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 394,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PricePredictor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            distance: form.distance,\n                            weight: form.weight,\n                            cargoType: form.cargoType,\n                            urgencyDays: form.urgencyDays\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 411,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleCreate,\n                            disabled: loading || !account,\n                            className: \"w-full py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white rounded-md disabled:bg-blue-300\",\n                            children: loading ? \"Создание...\" : \"Создать тендер\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                            lineNumber: 418,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                    lineNumber: 309,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n                lineNumber: 308,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/aldiyarbolegenov/tender/frontend/pages/tender/create.tsx\",\n        lineNumber: 207,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3BhZ2VzL3RlbmRlci9jcmVhdGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDSjtBQUNNO0FBQ2U7QUFDVDtBQUNVO0FBQ2pCO0FBRTlCLFNBQVNRO0lBQ3RCLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHViwrQ0FBUUEsQ0FBQztRQUMvQlcsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxRQUFRO1FBQ1JDLFdBQVc7UUFDWEMsYUFBYTtRQUNiQyxtQkFBbUI7UUFDbkJDLFVBQVU7SUFDWjtJQUNBLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHckIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxFQUFFc0IsT0FBTyxFQUFFQyxhQUFhLEVBQUVDLFlBQVksRUFBRUMsT0FBT0MsV0FBVyxFQUFFLEdBQUd2Qix1REFBT0E7SUFDNUUsTUFBTXdCLFNBQVN6QixzREFBU0E7SUFDeEIsTUFBTTBCLFlBQVl2QiwrREFBWUE7SUFDOUIsTUFBTXdCLGlCQUFpQnZCLG9FQUFpQkE7SUFDeEMsTUFBTSxDQUFDd0IsaUJBQWlCQyxtQkFBbUIsR0FBRy9CLCtDQUFRQSxDQUFnQjtJQUV0RSxpQ0FBaUM7SUFDakNDLGdEQUFTQTtrQ0FBQztZQUNSK0IsUUFBUUMsR0FBRyxDQUFDLG9CQUFvQjtnQkFDOUJDLGFBQWFMLGVBQWVNLG1CQUFtQjtnQkFDL0NmLFNBQVNTLGVBQWVULE9BQU87Z0JBQy9CSyxPQUFPSSxlQUFlSixLQUFLO1lBQzdCO1lBRUEsSUFBSSxDQUFDSSxlQUFlTSxtQkFBbUIsRUFBRTtnQkFDdkNKLG1CQUFtQjtZQUNyQixPQUFPO2dCQUNMQSxtQkFBbUI7WUFDckI7UUFDRjtpQ0FBRztRQUFDRixlQUFlTSxtQkFBbUI7UUFBRU4sZUFBZVQsT0FBTztRQUFFUyxlQUFlSixLQUFLO0tBQUM7SUFFckYsTUFBTVcsb0JBQW9CO1FBQ3hCLE1BQU1DLE1BQU0sSUFBSUM7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QUNiVSxVQUFVTCxLQUFLSyxRQUFROzRCQUN2QkMsUUFBUU4sS0FBS00sTUFBTTs0QkFDbkJDLFdBQVdQLEtBQUtPLFNBQVM7NEJBQ3pCQyxhQUFhUixLQUFLUSxXQUFXOzs7Ozs7c0NBRy9CLDhEQUFDb0U7NEJBQ0NDLFNBQVMzQzs0QkFDVDJELFVBQVVsRixXQUFXLENBQUNFOzRCQUN0QnNELFdBQVU7c0NBRVR4RCxVQUFVLGdCQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNdkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGRpeWFyYm9sZWdlbm92L3RlbmRlci9mcm9udGVuZC9wYWdlcy90ZW5kZXIvY3JlYXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlV2ViMyB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZVdlYjMnO1xuaW1wb3J0IFByaWNlUHJlZGljdG9yIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUHJpY2VQcmVkaWN0b3InO1xuaW1wb3J0IHVzZVRlbmRlckFQSSBmcm9tICcuLi8uLi9ob29rcy91c2VUZW5kZXJBUEknO1xuaW1wb3J0IHVzZUNvbnRyYWN0VGVuZGVyIGZyb20gJy4uLy4uL2hvb2tzL3VzZUNvbnRyYWN0VGVuZGVyJztcbmltcG9ydCBOYXZiYXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9OYXZiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVUZW5kZXIoKSB7XG4gIGNvbnN0IFtmb3JtLCBzZXRGb3JtXSA9IHVzZVN0YXRlKHtcbiAgICB0aXRsZTogJycsXG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGJ1ZGdldDogJycsXG4gICAgZGlzdGFuY2U6ICcnLFxuICAgIHdlaWdodDogJycsXG4gICAgY2FyZ29UeXBlOiAnZ2VuZXJhbCcsXG4gICAgdXJnZW5jeURheXM6ICcxNScsXG4gICAgZXhwaXJhdGlvbk1pbnV0ZXM6ICcxMCcsIC8vINCy0YDQtdC80Y8g0LbQuNC30L3QuCDRgtC10L3QtNC10YDQsCDQsiDQvNC40L3Rg9GC0LDRhVxuICAgIGRlYWRsaW5lOiAnJ1xuICB9KTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IGFjY291bnQsIGNvbm5lY3RXYWxsZXQsIGlzQ29ubmVjdGluZywgZXJyb3I6IHdhbGxldEVycm9yIH0gPSB1c2VXZWIzKCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCB0ZW5kZXJBUEkgPSB1c2VUZW5kZXJBUEkoKTtcbiAgY29uc3QgY29udHJhY3RUZW5kZXIgPSB1c2VDb250cmFjdFRlbmRlcigpO1xuICBjb25zdCBbY29udHJhY3RXYXJuaW5nLCBzZXRDb250cmFjdFdhcm5pbmddID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gQ2hlY2sgaWYgY29udHJhY3QgaXMgYXZhaWxhYmxlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJDb250cmFjdCBzdGF0dXM6XCIsIHtcbiAgICAgIGlzQXZhaWxhYmxlOiBjb250cmFjdFRlbmRlci5pc0NvbnRyYWN0QXZhaWxhYmxlLFxuICAgICAgbG9hZGluZzogY29udHJhY3RUZW5kZXIubG9hZGluZyxcbiAgICAgIGVycm9yOiBjb250cmFjdFRlbmRlci5lcnJvclxuICAgIH0pO1xuICAgIFxuICAgIGlmICghY29udHJhY3RUZW5kZXIuaXNDb250cmFjdEF2YWlsYWJsZSkge1xuICAgICAgc2V0Q29udHJhY3RXYXJuaW5nKCfQodC80LDRgNGCLdC60L7QvdGC0YDQsNC60YIg0L3QtdC00L7RgdGC0YPQv9C10L0g0LjQu9C4INC90LUg0YDQsNC30LLQtdGA0L3Rg9GCLiDQotC10L3QtNC10YAg0LHRg9C00LXRgiDRgdC+0YXRgNCw0L3QtdC9INGC0L7Qu9GM0LrQviDQsiDQsdCw0LfQtSDQtNCw0L3QvdGL0YUuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldENvbnRyYWN0V2FybmluZyhudWxsKTtcbiAgICB9XG4gIH0sIFtjb250cmFjdFRlbmRlci5pc0NvbnRyYWN0QXZhaWxhYmxlLCBjb250cmFjdFRlbmRlci5sb2FkaW5nLCBjb250cmFjdFRlbmRlci5lcnJvcl0pO1xuXG4gIGNvbnN0IGNhbGN1bGF0ZURlYWRsaW5lID0gKCkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgbm93LnNldERhdGUobm93LmdldERhdGUoKSArIHBhcnNlSW50KGZvcm0udXJnZW5jeURheXMgfHwgJzE1JykpO1xuICAgIHJldHVybiBub3cudG9JU09TdHJpbmcoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDcmVhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gMS4gQ2hlY2sgd2FsbGV0IGNvbm5lY3Rpb25cbiAgICBpZiAoIWFjY291bnQpIHtcbiAgICAgIGNvbnN0IGNvbm5lY3RlZCA9IGF3YWl0IGNvbm5lY3RXYWxsZXQoKTtcbiAgICAgIGlmICghY29ubmVjdGVkLnN1Y2Nlc3MpIHtcbiAgICAgICAgYWxlcnQoXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0L/QvtC00LrQu9GO0YfQuNGC0LUg0LrQvtGI0LXQu9C10LogTWV0YU1hc2tcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gMi4gVmFsaWRhdGUgZm9ybSBkYXRhXG4gICAgaWYgKCFmb3JtLmRpc3RhbmNlIHx8ICFmb3JtLndlaWdodCkge1xuICAgICAgYWxlcnQoXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LfQsNC/0L7Qu9C90LjRgtC1INC/0L7Qu9GPINGA0LDRgdGB0YLQvtGP0L3QuNGPINC4INCy0LXRgdCwXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIGxldCBibG9ja2NoYWluU3VjY2VzcyA9IGZhbHNlO1xuICAgIGxldCBibG9ja2NoYWluRXJyb3I6IEVycm9yIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHRlbmRlcklkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gRm9yY2UgY29udHJhY3QgcmVpbml0aWFsaXphdGlvbiBiZWZvcmUgcHJvY2VlZGluZ1xuICAgICAgY29uc29sZS5sb2coXCJGb3JjaW5nIGNvbnRyYWN0IHJlaW5pdGlhbGl6YXRpb24gYmVmb3JlIGNyZWF0aW5nIHRlbmRlclwiKTtcbiAgICAgIGNvbnN0IGluaXRSZXN1bHQgPSBhd2FpdCBjb250cmFjdFRlbmRlci5mb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFpbml0UmVzdWx0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0LjQvdC40YbQuNCw0LvQuNC30LjRgNC+0LLQsNGC0Ywg0YHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGCLiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0YPQsdC10LTQuNGC0LXRgdGMLCDRh9GC0L4g0LLQsNGIINC60L7RiNC10LvQtdC6INC/0L7QtNC60LvRjtGH0LXQvSDQuCDQstGLINC90LDRhdC+0LTQuNGC0LXRgdGMINCyINGB0LXRgtC4IFNlcG9saWEuXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWNvbnRyYWN0VGVuZGVyLmlzQ29udHJhY3RBdmFpbGFibGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi0KHQvNCw0YDRgi3QutC+0L3RgtGA0LDQutGCINC90LXQtNC+0YHRgtGD0L/QtdC9LiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0L/QtdGA0LXQv9C+0LTQutC70Y7Rh9C40YLQtSDQutC+0YjQtdC70LXQuiDQuCDQv9C+0L/RgNC+0LHRg9C50YLQtSDRgdC90L7QstCwLlwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gMy4gU2F2ZSB0byBibG9ja2NoYWluXG4gICAgICBjb25zb2xlLmxvZyhcIlNhdmluZyB0ZW5kZXIgdG8gYmxvY2tjaGFpbi4uLlwiKTtcbiAgICAgIGNvbnN0IHRpdGxlID0gZm9ybS50aXRsZSB8fCBg0J/QtdGA0LXQstC+0LfQutCwINCz0YDRg9C30LAgKCR7Zm9ybS53ZWlnaHR9INC60LMpINC90LAgJHtmb3JtLmRpc3RhbmNlfSDQutC8YDtcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYNCg0LDRgdGB0YLQvtGP0L3QuNC1OiAke2Zvcm0uZGlzdGFuY2V9INC60LwsINCS0LXRgTogJHtmb3JtLndlaWdodH0g0LrQsywg0KLQuNC/INCz0YDRg9C30LA6ICR7Zm9ybS5jYXJnb1R5cGV9LCDQodGA0L7QuiDQtNC+0YHRgtCw0LLQutC4OiAke2Zvcm0udXJnZW5jeURheXN9INC00L3QtdC5YDtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgRGF0ZSBvYmplY3QgZm9yIHRoZSBkZWFkbGluZVxuICAgICAgY29uc3QgZGVhZGxpbmUgPSBuZXcgRGF0ZSgpO1xuICAgICAgZGVhZGxpbmUuc2V0RGF0ZShkZWFkbGluZS5nZXREYXRlKCkgKyBwYXJzZUludChmb3JtLnVyZ2VuY3lEYXlzIHx8ICcxNScpKTtcbiAgICAgIFxuICAgICAgLy8gQ29udmVydCBkZWFkbGluZSB0byBVbml4IHRpbWVzdGFtcCAoc2Vjb25kcyBzaW5jZSBlcG9jaCkgZm9yIGJsb2NrY2hhaW5cbiAgICAgIGNvbnN0IGRlYWRsaW5lVGltZXN0YW1wID0gTWF0aC5mbG9vcihkZWFkbGluZS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICAgIFxuICAgICAgY29uc3QgYnVkZ2V0ID0gZm9ybS5idWRnZXQgPyBwYXJzZUZsb2F0KGZvcm0uYnVkZ2V0KSA6IDIwMDA7IC8vINCX0L3QsNGH0LXQvdC40LUg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cbiAgICAgIGNvbnN0IGV4cGlyYXRpb25NaW51dGVzID0gcGFyc2VJbnQoZm9ybS5leHBpcmF0aW9uTWludXRlcyB8fCAnMTAnKTtcbiAgICAgIFxuICAgICAgLy8g0KPQu9GD0YfRiNC10L3QvdC+0LUg0LvQvtCz0LjRgNC+0LLQsNC90LjQtSDQtNC70Y8g0L7RgtC70LDQtNC60LhcbiAgICAgIGNvbnNvbGUubG9nKFwiRm9ybSBkYXRhOlwiLCB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgYnVkZ2V0LFxuICAgICAgICBkZWFkbGluZVRpbWVzdGFtcCxcbiAgICAgICAgZGlzdGFuY2U6IGZvcm0uZGlzdGFuY2UsXG4gICAgICAgIHdlaWdodDogZm9ybS53ZWlnaHQsXG4gICAgICAgIGNhcmdvVHlwZTogZm9ybS5jYXJnb1R5cGUsXG4gICAgICAgIHVyZ2VuY3lEYXlzOiBmb3JtLnVyZ2VuY3lEYXlzLFxuICAgICAgICBleHBpcmF0aW9uTWludXRlc1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiU2VuZGluZyB0byBibG9ja2NoYWluIHdpdGggZGVhZGxpbmUgdGltZXN0YW1wOlwiLCBkZWFkbGluZVRpbWVzdGFtcCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0UmVzcG9uc2UgPSBhd2FpdCBjb250cmFjdFRlbmRlci5jcmVhdGVUZW5kZXIoXG4gICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgYnVkZ2V0LFxuICAgICAgICAgIGRlYWRsaW5lVGltZXN0YW1wLCAvLyBQYXNzIHRoZSBVbml4IHRpbWVzdGFtcCBpbnN0ZWFkIG9mIERhdGUgb2JqZWN0XG4gICAgICAgICAgcGFyc2VJbnQoZm9ybS5kaXN0YW5jZSksXG4gICAgICAgICAgcGFyc2VJbnQoZm9ybS53ZWlnaHQpLFxuICAgICAgICAgIGZvcm0uY2FyZ29UeXBlLFxuICAgICAgICAgIHBhcnNlSW50KGZvcm0udXJnZW5jeURheXMpLFxuICAgICAgICAgIGV4cGlyYXRpb25NaW51dGVzXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRyYWN0IHJlc3BvbnNlOlwiLCBjb250cmFjdFJlc3BvbnNlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb250cmFjdFJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBibG9ja2NoYWluU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgdGVuZGVySWQgPSBjb250cmFjdFJlc3BvbnNlLmRhdGE/LmlkIHx8IG51bGw7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHRlbmRlcklkICYmICF0ZW5kZXJJZC5zdGFydHNXaXRoKCdmYWxsYmFjay1pZC0nKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUZW5kZXIgY3JlYXRlZCBpbiBibG9ja2NoYWluIHdpdGggSUQ6XCIsIHRlbmRlcklkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGVuZGVyIHdhcyBjcmVhdGVkIGJ1dCBjb3VsZG4ndCBnZXQgcHJvcGVyIElEIGZyb20gYmxvY2tjaGFpbi4gVXNpbmcgZmFsbGJhY2s6XCIsIHRlbmRlcklkKTtcbiAgICAgICAgICAgIC8vINCV0YHQu9C4IElEINC90LUg0L/QvtC70YPRh9C10L0g0LTQvtC70LbQvdGL0Lwg0L7QsdGA0LDQt9C+0LwsINC30LDQv9GA0LDRiNC40LLQsNC10Lwg0YLQtdC60YPRidC10LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0YLQtdC90LTQtdGA0L7QslxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIHRvIGdldCBjdXJyZW50IHRlbmRlciBjb3VudCBmcm9tIGNvbnRyYWN0XCIpO1xuICAgICAgICAgICAgICAvLyDQl9C00LXRgdGMINC80Ysg0YXQvtGC0LjQvCDQv9C+0LvRg9GH0LjRgtGMINCw0LrRgtGD0LDQu9GM0L3Ri9C5IElEINGB0L7Qt9C00LDQvdC90L7Qs9C+INGC0LXQvdC00LXRgNCwXG4gICAgICAgICAgICAgIGNvbnN0IHRlbmRlckNvdW50ID0gYXdhaXQgY29udHJhY3RUZW5kZXIuZ2V0VGVuZGVyQ291bnQoKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDdXJyZW50IHRlbmRlciBjb3VudDpcIiwgdGVuZGVyQ291bnQpO1xuICAgICAgICAgICAgICBpZiAodGVuZGVyQ291bnQgJiYgcGFyc2VJbnQodGVuZGVyQ291bnQpID4gMCkge1xuICAgICAgICAgICAgICAgIC8vINCh0LrQvtGA0LXQtSDQstGB0LXQs9C+LCDQv9C+0YHQu9C10LTQvdC40LkgSUQg0LHRg9C00LXRgiB0ZW5kZXJDb3VudCAtIDFcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9iYWJsZUlkID0gKHBhcnNlSW50KHRlbmRlckNvdW50KSAtIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcm9iYWJsZSB0ZW5kZXIgSUQgYmFzZWQgb24gY291bnQ6XCIsIHByb2JhYmxlSWQpO1xuICAgICAgICAgICAgICAgIHRlbmRlcklkID0gcHJvYmFibGVJZDtcbiAgICAgICAgICAgICAgICBibG9ja2NoYWluU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmxvY2tjaGFpblN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBibG9ja2NoYWluRXJyb3IgPSBuZXcgRXJyb3IoXCLQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0YwgSUQg0YLQtdC90LTQtdGA0LAg0LjQtyDQsdC70L7QutGH0LXQudC90LBcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGNvdW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgdGVuZGVyIGNvdW50OlwiLCBjb3VudEVycm9yKTtcbiAgICAgICAgICAgICAgYmxvY2tjaGFpblN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYmxvY2tjaGFpbkVycm9yID0gbmV3IEVycm9yKFwi0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMIElEINGC0LXQvdC00LXRgNCwINC40Lcg0LHQu9C+0LrRh9C10LnQvdCwXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9ja2NoYWluRXJyb3IgPSBuZXcgRXJyb3IoY29udHJhY3RSZXNwb25zZS5lcnJvciB8fCBcIlVua25vd24gYmxvY2tjaGFpbiBlcnJvclwiKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQmxvY2tjaGFpbiBlcnJvcjpcIiwgY29udHJhY3RSZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgdGhyb3cgYmxvY2tjaGFpbkVycm9yO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoICh0eEVycm9yOiB1bmtub3duKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUcmFuc2FjdGlvbiBlcnJvcjpcIiwgdHhFcnJvcik7XG4gICAgICAgIGJsb2NrY2hhaW5FcnJvciA9IG5ldyBFcnJvcihgVHJhbnNhY3Rpb24gZXJyb3I6ICR7dHhFcnJvciBpbnN0YW5jZW9mIEVycm9yID8gdHhFcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCJ9YCk7XG4gICAgICAgIHRocm93IGJsb2NrY2hhaW5FcnJvcjtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gT25seSBpZiBibG9ja2NoYWluIHN0b3JhZ2Ugc3VjY2VlZHMsIGFsc28gc2F2ZSBtZXRhZGF0YSB0byBkYXRhYmFzZVxuICAgICAgaWYgKGJsb2NrY2hhaW5TdWNjZXNzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGVuZGVyIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIGluIGJsb2NrY2hhaW4uIE5vdyBzYXZpbmcgbWV0YWRhdGEgdG8gZGF0YWJhc2UuLi5cIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWFjY291bnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCLQmtC+0YjQtdC70LXQuiDQvdC1INC/0L7QtNC60LvRjtGH0LXQvVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRlbmRlclJlc3BvbnNlID0gYXdhaXQgdGVuZGVyQVBJLmNyZWF0ZVRlbmRlcih7XG4gICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgYnVkZ2V0LFxuICAgICAgICAgIGRlYWRsaW5lOiBkZWFkbGluZS50b0lTT1N0cmluZygpLCAvLyBLZWVwIHVzaW5nIElTTyBzdHJpbmcgZm9yIHRoZSBBUElcbiAgICAgICAgICB3YWxsZXRBZGRyZXNzOiBhY2NvdW50LFxuICAgICAgICAgIGNhdGVnb3JpZXM6IFtmb3JtLmNhcmdvVHlwZV1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRlbmRlclJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBXYXJuaW5nOiBEYXRhYmFzZSBtZXRhZGF0YSBzdG9yYWdlIGZhaWxlZDogJHt0ZW5kZXJSZXNwb25zZS5lcnJvcn1gKTtcbiAgICAgICAgICAvLyBDb250aW51ZSBhbnl3YXkgc2luY2UgYmxvY2tjaGFpbiBzdG9yYWdlIHN1Y2NlZWRlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gNS4gU3VjY2VzcyBtZXNzYWdlXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGVuZGVyIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIGluIGJsb2NrY2hhaW5cIik7XG4gICAgICAgIGFsZXJ0KFwi0KLQtdC90LTQtdGAINGD0YHQv9C10YjQvdC+INGB0L7Qt9C00LDQvSDQsiDQsdC70L7QutGH0LXQudC90LUhINCe0L0g0LHRg9C00LXRgiDQtNC+0YHRgtGD0L/QtdC9IFwiICsgZXhwaXJhdGlvbk1pbnV0ZXMgKyBcIiDQvNC40L3Rg9GCLlxcbklEINGC0LXQvdC00LXRgNCwOiBcIiArIHRlbmRlcklkKTtcbiAgICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0YHQvtGF0YDQsNC90LjRgtGMINGC0LXQvdC00LXRgCDQsiDQsdC70L7QutGH0LXQudC90LVcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyB0ZW5kZXI6XCIsIGVycm9yKTtcbiAgICAgIGFsZXJ0KGDQntGI0LjQsdC60LAg0YHQvtC30LTQsNC90LjRjyDRgtC10L3QtNC10YDQsDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfQndC10LjQt9Cy0LXRgdGC0L3QsNGPINC+0YjQuNCx0LrQsCd9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS04XCI+XG4gICAgICA8TmF2YmFyIC8+XG4gICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTZcIj7QodC+0LfQtNCw0YLRjCDQvdC+0LLRi9C5INGC0LXQvdC00LXRgDwvaDE+XG4gICAgICBcbiAgICAgIHt3YWxsZXRFcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTEwMCBib3JkZXIgYm9yZGVyLXJlZC00MDAgdGV4dC1yZWQtNzAwIHB4LTQgcHktMyByb3VuZGVkIG1iLTRcIj5cbiAgICAgICAgICB7d2FsbGV0RXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAge2NvbnRyYWN0V2FybmluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmcteWVsbG93LTEwMCBib3JkZXIgYm9yZGVyLXllbGxvdy00MDAgdGV4dC15ZWxsb3ctNzAwIHB4LTQgcHktMyByb3VuZGVkIG1iLTRcIj5cbiAgICAgICAgICB7Y29udHJhY3RXYXJuaW5nfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiDQntGC0LvQsNC00L7Rh9C90LDRjyDQuNC90YTQvtGA0LzQsNGG0LjRjyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS0xMDAgYm9yZGVyIGJvcmRlci1ncmF5LTQwMCB0ZXh0LWdyYXktNzAwIHB4LTQgcHktMyByb3VuZGVkIG1iLTQgdGV4dC14c1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+0J7RgtC70LDQtNC+0YfQvdCw0Y8g0LjQvdGE0L7RgNC80LDRhtC40Y86PC9oMz5cbiAgICAgICAgPHA+0JDQtNGA0LXRgSDQutC+0L3RgtGA0LDQutGC0LA6IHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTfTwvcD5cbiAgICAgICAgPHA+0JrQvtGI0LXQu9C10Log0L/QvtC00LrQu9GO0YfQtdC9OiB7YWNjb3VudCA/ICfQlNCwJyA6ICfQndC10YInfTwvcD5cbiAgICAgICAgPHA+0JDQtNGA0LXRgSDQutC+0YjQtdC70YzQutCwOiB7YWNjb3VudCB8fCAn0J3QtSDQv9C+0LTQutC70Y7Rh9C10L0nfTwvcD5cbiAgICAgICAgPHA+0JTQvtGB0YLRg9C/0L3QvtGB0YLRjCDQutC+0L3RgtGA0LDQutGC0LA6IHtjb250cmFjdFRlbmRlci5pc0NvbnRyYWN0QXZhaWxhYmxlID8gJ9CU0L7RgdGC0YPQv9C10L0nIDogJ9Cd0LXQtNC+0YHRgtGD0L/QtdC9J308L3A+XG4gICAgICAgIDxwPtCh0YLQsNGC0YPRgSDQutC+0L3RgtGA0LDQutGC0LA6IHtjb250cmFjdFRlbmRlci5jb250cmFjdFN0YXR1c308L3A+XG4gICAgICAgIDxwPtCe0YjQuNCx0LrQsCDQutC+0L3RgtGA0LDQutGC0LA6IHtjb250cmFjdFRlbmRlci5lcnJvciB8fCAn0J3QtdGCJ308L3A+XG4gICAgICAgIHtjb250cmFjdFRlbmRlci5jb250cmFjdEVycm9yRGV0YWlscyAmJiAoXG4gICAgICAgICAgPHA+0JTQtdGC0LDQu9C4INC+0YjQuNCx0LrQuDoge2NvbnRyYWN0VGVuZGVyLmNvbnRyYWN0RXJyb3JEZXRhaWxzfTwvcD5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gY29udHJhY3RUZW5kZXIuZm9yY2VDb250cmFjdEluaXRpYWxpemF0aW9uKCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS02MDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDQn9C10YDQtdC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyDQuiDQutC+0L3RgtGA0LDQutGC0YNcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2hhaW5JZCA9IGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2NoYWluSWQnIH0pO1xuICAgICAgICAgICAgICAgICAgYWxlcnQoYNCi0LXQutGD0YnQsNGPINGB0LXRgtGMOiAke2NoYWluSWR9XFxuYCArIFxuICAgICAgICAgICAgICAgICAgICAgICAgYC0gU2Vwb2xpYSBUZXN0bmV0OiAweGFhMzZhN1xcbmAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYC0gSGFyZGhhdCBMb2NhbDogMHg3YTY5XFxuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBg0KHRgtCw0YLRg9GBINC60L7QvdGC0YDQsNC60YLQsDogJHtjb250cmFjdFRlbmRlci5pc0NvbnRyYWN0QXZhaWxhYmxlID8gJ9CU0L7RgdGC0YPQv9C10L0nIDogJ9Cd0LXQtNC+0YHRgtGD0L/QtdC9J31gKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INGB0LXRgtC4Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdNZXRhTWFzayDQvdC1INC+0LHQvdCw0YDRg9C20LXQvScpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEgYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi02MDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDQn9GA0L7QstC10YDQuNGC0Ywg0YHQtdGC0YxcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFt7IGNoYWluSWQ6ICcweGFhMzZhNycgfV0gLy8gU2Vwb2xpYSBjaGFpbklkXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGFsZXJ0KCfQn9C10YDQtdC60LvRjtGH0LXQvdC+INC90LAg0YHQtdGC0YwgU2Vwb2xpYScpO1xuICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgc3dpdGNoaW5nLCB0cnkgdG8gaW5pdGlhbGl6ZSB0aGUgY29udHJhY3RcbiAgICAgICAgICAgICAgICAgIGF3YWl0IGNvbnRyYWN0VGVuZGVyLmZvcmNlQ29udHJhY3RJbml0aWFsaXphdGlvbigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIElmIFNlcG9saWEgaXNuJ3QgYWRkZWQgdG8gdGhlIHdhbGxldCB5ZXRcbiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSA0OTAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAnMHhhYTM2YTcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbk5hbWU6ICdTZXBvbGlhIFRlc3RuZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeTogeyBuYW1lOiAnRVRIJywgc3ltYm9sOiAnRVRIJywgZGVjaW1hbHM6IDE4IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJwY1VybHM6IFsnaHR0cHM6Ly9zZXBvbGlhLmluZnVyYS5pby92My8nXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tFeHBsb3JlclVybHM6IFsnaHR0cHM6Ly9zZXBvbGlhLmV0aGVyc2Nhbi5pby8nXVxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn0JTQvtCx0LDQstC70LXQvdCwINGB0LXRgtGMIFNlcG9saWEuINCf0L7QttCw0LvRg9C50YHRgtCwLCDQv9C+0L/RgNC+0LHRg9C50YLQtSDQv9C10YDQtdC60LvRjtGH0LjRgtGM0YHRjyDRgdC90L7QstCwLicpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChhZGRFcnJvcjogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0YHQtdGC0LggU2Vwb2xpYTogJyArIGFkZEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgn0J7RiNC40LHQutCwINC/0YDQuCDQv9C10YDQtdC60LvRjtGH0LXQvdC40Lgg0YHQtdGC0Lg6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ01ldGFNYXNrINC90LUg0L7QsdC90LDRgNGD0LbQtdC9Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy15ZWxsb3ctNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy15ZWxsb3ctNjAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAg0J/QtdGA0LXQutC70Y7Rh9C40YLRjNGB0Y8g0L3QsCBTZXBvbGlhXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cgcC02IG1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBnYXAtNlwiPlxuICAgICAgICAgIHshYWNjb3VudCAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2Nvbm5lY3RXYWxsZXR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0Nvbm5lY3Rpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0yIHB4LTQgYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGRpc2FibGVkOmJnLWJsdWUtMzAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzQ29ubmVjdGluZyA/IFwi0J/QvtC00LrQu9GO0YfQtdC90LjQtS4uLlwiIDogXCLQn9C+0LTQutC70Y7Rh9C40YLRjCBNZXRhTWFza1wifVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+0J3QsNC30LLQsNC90LjQtSDRgtC10L3QtNC10YDQsDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybS50aXRsZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtKHsuLi5mb3JtLCB0aXRsZTogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLQndCw0L/RgNC40LzQtdGAOiDQn9C10YDQtdCy0L7Qt9C60LAg0L3QtdCz0LDQsdCw0YDQuNGC0L3QvtCz0L4g0LPRgNGD0LfQsFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj7QoNCw0YHRgdGC0L7Rj9C90LjQtSAo0LrQvCk8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybS5kaXN0YW5jZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtKHsuLi5mb3JtLCBkaXN0YW5jZTogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgbWluPVwiNTBcIlxuICAgICAgICAgICAgICBtYXg9XCIyMDAwXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWRcIlxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+0JLQtdGBINCz0YDRg9C30LAgKNC60LMpPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0ud2VpZ2h0fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvcm0oey4uLmZvcm0sIHdlaWdodDogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgbWluPVwiMTAwXCJcbiAgICAgICAgICAgICAgbWF4PVwiMTAwMDBcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj7QotC40L8g0LPRgNGD0LfQsDwvbGFiZWw+XG4gICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtLmNhcmdvVHlwZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb3JtKHsuLi5mb3JtLCBjYXJnb1R5cGU6IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImdlbmVyYWxcIj7QntCx0YvRh9C90YvQuTwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZnJhZ2lsZVwiPtCl0YDRg9C/0LrQuNC5PC9vcHRpb24+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJwZXJpc2hhYmxlXCI+0KHQutC+0YDQvtC/0L7RgNGC0Y/RidC40LnRgdGPPC9vcHRpb24+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+0KHRgNC+0Log0LTQvtGB0YLQsNCy0LrQuCAo0LTQvdC4KTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtLnVyZ2VuY3lEYXlzfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvcm0oey4uLmZvcm0sIHVyZ2VuY3lEYXlzOiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgICAgbWF4PVwiMzBcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+0JHRjtC00LbQtdGCIChVU0QpPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uYnVkZ2V0fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvcm0oey4uLmZvcm0sIGJ1ZGdldDogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0KPQutCw0LbQuNGC0LUg0LzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INCx0Y7QtNC20LXRglwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPtCS0YDQtdC80Y8g0LDQutGC0LjQstC90L7RgdGC0Lgg0YLQtdC90LTQtdGA0LAgKNC80LjQvdGD0YLRiyk8L2xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybS5leHBpcmF0aW9uTWludXRlc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvcm0oey4uLmZvcm0sIGV4cGlyYXRpb25NaW51dGVzOiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgICAgIG1heD1cIjE0NDBcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgINCi0LXQvdC00LXRgCDQsdGD0LTQtdGCINCw0LrRgtC40LLQtdC9INGD0LrQsNC30LDQvdC90L7QtSDQutC+0LvQuNGH0LXRgdGC0LLQviDQvNC40L3Rg9GCXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8UHJpY2VQcmVkaWN0b3IgXG4gICAgICAgICAgICBkaXN0YW5jZT17Zm9ybS5kaXN0YW5jZX1cbiAgICAgICAgICAgIHdlaWdodD17Zm9ybS53ZWlnaHR9XG4gICAgICAgICAgICBjYXJnb1R5cGU9e2Zvcm0uY2FyZ29UeXBlfVxuICAgICAgICAgICAgdXJnZW5jeURheXM9e2Zvcm0udXJnZW5jeURheXN9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDcmVhdGV9IFxuICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIWFjY291bnR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHktMiBweC00IGJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBkaXNhYmxlZDpiZy1ibHVlLTMwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xvYWRpbmcgPyBcItCh0L7Qt9C00LDQvdC40LUuLi5cIiA6IFwi0KHQvtC30LTQsNGC0Ywg0YLQtdC90LTQtdGAXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwidXNlV2ViMyIsIlByaWNlUHJlZGljdG9yIiwidXNlVGVuZGVyQVBJIiwidXNlQ29udHJhY3RUZW5kZXIiLCJOYXZiYXIiLCJDcmVhdGVUZW5kZXIiLCJmb3JtIiwic2V0Rm9ybSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJidWRnZXQiLCJkaXN0YW5jZSIsIndlaWdodCIsImNhcmdvVHlwZSIsInVyZ2VuY3lEYXlzIiwiZXhwaXJhdGlvbk1pbnV0ZXMiLCJkZWFkbGluZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiYWNjb3VudCIsImNvbm5lY3RXYWxsZXQiLCJpc0Nvbm5lY3RpbmciLCJlcnJvciIsIndhbGxldEVycm9yIiwicm91dGVyIiwidGVuZGVyQVBJIiwiY29udHJhY3RUZW5kZXIiLCJjb250cmFjdFdhcm5pbmciLCJzZXRDb250cmFjdFdhcm5pbmciLCJjb25zb2xlIiwibG9nIiwiaXNBdmFpbGFibGUiLCJpc0NvbnRyYWN0QXZhaWxhYmxlIiwiY2FsY3VsYXRlRGVhZGxpbmUiLCJub3ciLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJwYXJzZUludCIsInRvSVNPU3RyaW5nIiwiaGFuZGxlQ3JlYXRlIiwiY29ubmVjdGVkIiwic3VjY2VzcyIsImFsZXJ0IiwiYmxvY2tjaGFpblN1Y2Nlc3MiLCJibG9ja2NoYWluRXJyb3IiLCJ0ZW5kZXJJZCIsImluaXRSZXN1bHQiLCJmb3JjZUNvbnRyYWN0SW5pdGlhbGl6YXRpb24iLCJFcnJvciIsImRlYWRsaW5lVGltZXN0YW1wIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsInBhcnNlRmxvYXQiLCJjb250cmFjdFJlc3BvbnNlIiwiY3JlYXRlVGVuZGVyIiwiZGF0YSIsImlkIiwic3RhcnRzV2l0aCIsIndhcm4iLCJ0ZW5kZXJDb3VudCIsImdldFRlbmRlckNvdW50IiwicHJvYmFibGVJZCIsInRvU3RyaW5nIiwiY291bnRFcnJvciIsInR4RXJyb3IiLCJtZXNzYWdlIiwidGVuZGVyUmVzcG9uc2UiLCJ3YWxsZXRBZGRyZXNzIiwiY2F0ZWdvcmllcyIsInB1c2giLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsImgzIiwicCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19DT05UUkFDVF9BRERSRVNTIiwiY29udHJhY3RTdGF0dXMiLCJjb250cmFjdEVycm9yRGV0YWlscyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ3aW5kb3ciLCJldGhlcmV1bSIsImNoYWluSWQiLCJyZXF1ZXN0IiwibWV0aG9kIiwicGFyYW1zIiwiY29kZSIsImNoYWluTmFtZSIsIm5hdGl2ZUN1cnJlbmN5IiwibmFtZSIsInN5bWJvbCIsImRlY2ltYWxzIiwicnBjVXJscyIsImJsb2NrRXhwbG9yZXJVcmxzIiwiYWRkRXJyb3IiLCJkaXNhYmxlZCIsImxhYmVsIiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsIm1pbiIsIm1heCIsInJlcXVpcmVkIiwic2VsZWN0Iiwib3B0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./pages/tender/create.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "ethers":
/*!*************************!*\
  !*** external "ethers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = import("ethers");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react-hot-toast":
/*!**********************************!*\
  !*** external "react-hot-toast" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("react-hot-toast");;

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Ftender%2Fcreate&preferredRegion=&absolutePagePath=.%2Fpages%2Ftender%2Fcreate.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();